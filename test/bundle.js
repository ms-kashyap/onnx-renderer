(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],2:[function(require,module,exports){
(function (process){(function (){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.index=t():e.index=t()}(this,(function(){return(()=>{var e={243:e=>{var t=t||{};if(t.Int64=class e{constructor(e,t){this.low=0|e,this.high=0|t}static create(e){return isNaN(e)?t.Int64.zero:e<=-0x8000000000000000?t.Int64.min:e+1>=0x8000000000000000?t.Int64.max:e<0?t.Int64.create(-e).negate():new t.Int64(e%4294967296|0,e/4294967296)}get isZero(){return 0===this.low&&0===this.high}get isNegative(){return this.high<0}negate(){return this.equals(t.Int64.min)?t.Int64.min:this.not().add(t.Int64.one)}not(){return new e(~this.low,~this.high)}equals(e){return(e instanceof t.Int64||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}compare(e){if(this.equals(e))return 0;const t=this.isNegative,s=e.isNegative;return t&&!s?-1:!t&&s?1:this.subtract(e).isNegative?-1:1}add(e){return t.Utility.add(this,e,!1)}subtract(e){return t.Utility.subtract(this,e,!1)}multiply(e){return t.Utility.multiply(this,e,!1)}divide(e){return t.Utility.divide(this,e,!1)}toInteger(){return this.low}toNumber(){return 0===this.high?this.low>>>0:-1===this.high?this.low:4294967296*this.high+(this.low>>>0)}toString(s){if((s=s||10)<2||s>16)throw RangeError("radix");if(this.isZero)return"0";if(this.high<0){if(this.equals(t.Int64.min)){const t=new e(s,0),i=this.divide(t),n=i.multiply(t).subtract(this);return i.toString(s)+(n.low>>>0).toString(s)}return"-"+this.negate().toString(s)}return t.Utility.text(this,!1,s)}},t.Int64.min=new t.Int64(0,-2147483648),t.Int64.zero=new t.Int64(0,0),t.Int64.one=new t.Int64(1,0),t.Int64.power24=new t.Int64(1<<24,0),t.Int64.max=new t.Int64(0,2147483647),t.Uint64=class{constructor(e,t){this.low=0|e,this.high=0|t}static create(e){return isNaN(e)||e<0?t.Uint64.zero:e>=0x10000000000000000?t.Uint64.max:e<0?t.Uint64.create(-e).negate():new t.Uint64(e%4294967296|0,e/4294967296)}get isZero(){return 0===this.low&&0===this.high}get isNegative(){return!1}negate(){return this.not().add(t.Int64.one)}not(){return new t.Uint64(~this.low,~this.high)}equals(e){return(e instanceof t.Uint64||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}compare(e){if(this.equals(e))return 0;const t=this.isNegative,s=e.isNegative;return t&&!s?-1:!t&&s?1:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}add(e){return t.Utility.add(this,e,!0)}subtract(e){return t.Utility.subtract(this,e,!0)}multiply(e){return t.Utility.multiply(this,e,!0)}divide(e){return t.Utility.divide(this,e,!0)}toInteger(){return this.low>>>0}toNumber(){return 0===this.high?this.low>>>0:4294967296*(this.high>>>0)+(this.low>>>0)}toString(e){if((e=e||10)<2||36<e)throw RangeError("radix");return this.isZero?"0":t.Utility.text(this,!0,e)}},t.Utility=class{static add(e,s,i){const n=e.high>>>16,r=65535&e.high,o=e.low>>>16,a=65535&e.low,h=s.high>>>16,c=65535&s.high,l=s.low>>>16;let p=0,d=0,_=0,u=0;return u+=a+(65535&s.low),_+=u>>>16,u&=65535,_+=o+l,d+=_>>>16,_&=65535,d+=r+c,p+=d>>>16,d&=65535,p+=n+h,p&=65535,t.Utility._create(_<<16|u,p<<16|d,i)}static subtract(e,s,i){return t.Utility.add(e,s.negate(),i)}static multiply(e,s,i){if(e.isZero)return t.Int64.zero;if(s.isZero)return t.Int64.zero;if(e.equals(t.Int64.min))return s.isOdd()?t.Int64.min:t.Int64.zero;if(s.equals(t.Int64.min))return s.isOdd()?t.Int64.min:t.Int64.zero;if(e.isNegative)return s.isNegative?this.negate().multiply(s.negate()):this.negate().multiply(s).negate();if(s.isNegative)return this.multiply(s.negate()).negate();if(e.compare(t.Int64.power24)<0&&s.compare(t.Int64.power24)<0)return i?t.Uint64.create(e.toNumber()*s.toNumber()):t.Int64.create(e.toNumber()*s.toNumber());const n=e.high>>>16,r=65535&e.high,o=e.low>>>16,a=65535&e.low,h=s.high>>>16,c=65535&s.high,l=s.low>>>16,p=65535&s.low;let d=0,_=0,u=0,f=0;return f+=a*p,u+=f>>>16,f&=65535,u+=o*p,_+=u>>>16,u&=65535,u+=a*l,_+=u>>>16,u&=65535,_+=r*p,d+=_>>>16,_&=65535,_+=o*l,d+=_>>>16,_&=65535,_+=a*c,d+=_>>>16,_&=65535,d+=n*p+r*l+o*c+a*h,d&=65535,t.Utility._create(u<<16|f,d<<16|_,i)}static divide(e,s,i){if(s.isZero)throw Error("Division by zero.");if(e.isZero)return i?t.Uint64.zero:t.Int64.zero;let n,r,o;if(i){if(s instanceof t.Uint64||(s=new t.Uint64(s.low,s.high)),s.compare(e)>0)return t.Int64.zero;if(s.compare(t.Utility._shiftRight(e,i,1))>0)return t.Uint64.one;o=t.Uint64.zero}else{if(e.equals(t.Int64.min)){if(s.equals(t.Int64.one)||s.equals(t.Int64.negativeOne))return t.Int64.min;if(s.equals(t.Int64.min))return t.Int64.one;{const a=t.Utility._shiftRight(e,i,1).divide(s);return n=t.Utility._shiftLeft(a,a instanceof t.Uint64,1),n.eq(t.Int64.zero)?s.isNegative?t.Int64.one:t.Int64.negativeOne:(r=e.subtract(s.multiply(n)),o=n.add(r.divide(s)),o)}}if(s.equals(t.Int64.min))return i?t.Uint64.zero:t.Int64.zero;if(e.isNegative)return s.isNegative?this.negate().divide(s.negate()):e.negate().divide(s).negate();if(s.isNegative)return e.divide(s.negate()).negate();o=t.Int64.zero}for(r=e;r.compare(s)>=0;){let e=Math.max(1,Math.floor(r.toNumber()/s.toNumber()));const n=Math.ceil(Math.log(e)/Math.LN2),a=n<=48?1:Math.pow(2,n-48);let h=t.Int64.create(e),c=h.multiply(s);for(;c.isNegative||c.compare(r)>0;)e-=a,h=i?t.Uint64.create(e):t.Int64.create(e),c=h.multiply(s);h.isZero&&(h=t.Int64.one),o=o.add(h),r=r.subtract(c)}return o}static text(e,s,i){const n=s?t.Uint64.create(Math.pow(i,6)):t.Int64.create(Math.pow(i,6));let r=e,o="";for(;;){const e=r.divide(n);let t=(r.subtract(e.multiply(n)).toInteger()>>>0).toString(i);if(r=e,0===r.low&&0===r.high)return t+o;for(;t.length<6;)t="0"+t;o=""+t+o}}static _shiftLeft(e,s,i){return t.Utility._create(e.low<<i,e.high<<i|e.low>>>32-i,s)}static _shiftRight(e,s,i){return t.Utility._create(e.low>>>i|e.high<<32-i,e.high>>i,s)}static _create(e,s,i){return i?new t.Uint64(e,s):new t.Int64(e,s)}},t.Uint64.zero=new t.Uint64(0,0),t.Uint64.one=new t.Uint64(1,0),t.Uint64.max=new t.Uint64(-1,-1),DataView.prototype.getFloat16||(DataView.prototype.getFloat16=function(e,t){const s=this.getUint16(e,t),i=(31744&s)>>10;let n=1023&s;return n=0==i?n/1024*6103515625e-14:31==i?n?NaN:1/0:DataView.__float16_pow[i]*(1+n/1024),32768&s?-n:n},DataView.__float16_pow={1:1/16384,2:1/8192,3:1/4096,4:1/2048,5:1/1024,6:1/512,7:1/256,8:1/128,9:1/64,10:1/32,11:1/16,12:1/8,13:1/4,14:.5,15:1,16:2,17:4,18:8,19:16,20:32,21:64,22:128,23:256,24:512,25:1024,26:2048,27:4096,28:8192,29:16384,30:32768,31:65536}),!DataView.prototype.setFloat16){DataView.prototype.setFloat16=function(e,t,s){DataView.__float16_float[0]=t;const i=(t=DataView.__float16_int[0])>>>23&255,n=8388607&t,r=t>>>16&32768|DataView.__float16_base[i]|n>>DataView.__float16_shift[i];this.setUint16(e,r,s)},DataView.__float16_float=new Float32Array(1),DataView.__float16_int=new Uint32Array(DataView.__float16_float.buffer,0,DataView.__float16_float.length),DataView.__float16_base=new Uint32Array(256),DataView.__float16_shift=new Uint32Array(256);for(let e=0;e<256;++e){const t=e-127;t<-27?(DataView.__float16_base[e]=0,DataView.__float16_shift[e]=24):t<-14?(DataView.__float16_base[e]=1024>>-t-14,DataView.__float16_shift[e]=-t-1):t<=15?(DataView.__float16_base[e]=t+15<<10,DataView.__float16_shift[e]=13):t<128?(DataView.__float16_base[e]=31744,DataView.__float16_shift[e]=24):(DataView.__float16_base[e]=31744,DataView.__float16_shift[e]=13)}}DataView.prototype.getInt64=DataView.prototype.getInt64||function(e,s){return s?new t.Int64(this.getUint32(e,!0),this.getUint32(e+4,!0)):new t.Int64(this.getUint32(e+4,!0),this.getUint32(e,!0))},DataView.prototype.setInt64=DataView.prototype.setInt64||function(e,t,s){s?(this.setUint32(e,t.low,!0),this.setUint32(e+4,t.high,!0)):(this.setUint32(e+4,t.low,!1),this.setUint32(e,t.high,!1))},DataView.prototype.getUint64=DataView.prototype.getUint64||function(e,s){return s?new t.Uint64(this.getUint32(e,!0),this.getUint32(e+4,!0)):new t.Uint64(this.getUint32(e+4,!0),this.getUint32(e,!0))},DataView.prototype.setUint64=DataView.prototype.setUint64||function(e,t,s){s?(this.setUInt32(e,t.low,!0),this.setUInt32(e+4,t.high,!0)):(this.setUInt32(e+4,t.low,!1),this.setUInt32(e,t.high,!1))},DataView.prototype.getBits=DataView.prototype.getBits||function(e,t){if(e*=t,t>(this.byteLength<<3)-e)throw new RangeError;let s=0,i=0;for(;i<t;){const n=7&e,r=Math.min(t-i,8-n);s<<=r,s|=this.getUint8(e>>3)>>8-r-n&~(255<<r),e+=r,i+=r}return s},"undefined"!=typeof window&&void 0!==window.Long&&(window.long={Long:window.Long},window.Int64=t.Int64,window.Uint64=t.Uint64),"object"==typeof e.exports&&(e.exports.Int64=t.Int64,e.exports.Uint64=t.Uint64)},135:e=>{var t=t||{};t.layout=(e,s)=>{s=s||{};const i=(e,t)=>{const i=Date.now(),n=t(),r=Date.now()-i;return s.time&&console.log(e+": "+r+"ms"),n},n=(e,s)=>{let i=0;const n=e=>e+ ++i,r=e=>{if(Array.isArray(e)&&e.every((e=>!Array.isArray(e))))return e;const t=[];for(const s of e)if(Array.isArray(s))for(const e of s)t.push(e);else t.push(s);return t},o=(e,t,s,i)=>{let r;do{r=n(i)}while(e.hasNode(r));return s.dummy=t,e.setNode(r,s),r},a=e=>{const s=new t.Graph({multigraph:e.isMultigraph()});s.setGraph(e.graph());for(const t of e.nodes())0===e.children(t).length&&s.setNode(t,e.node(t));for(const t of e.edges())s.setEdge(t,e.edge(t));return s},h=e=>{let t=Number.NEGATIVE_INFINITY;for(const s of e.nodes()){const i=e.node(s).rank;void 0!==i&&i>t&&(t=i)}return t===Number.NEGATIVE_INFINITY?void 0:t},c=e=>{const t=h(e),s=void 0===t?0:t+1,i=Array.from(new Array(s),(()=>[]));for(const t of e.nodes()){const s=e.node(t),n=s.rank;void 0!==n&&(i[n][s.order]=t)}return i},l=(e,t,s)=>{const i=(e,t,s,n,r,o)=>{if(!(t in n)){n[t]=!0,s||o.push(t);for(const a of r(t))i(e,a,s,n,r,o);s&&o.push(t)}};Array.isArray(t)||(t=[t]);const n=(e.isDirected()?e.successors:e.neighbors).bind(e),r=[],o={};for(const a of t){if(!e.hasNode(a))throw new Error("Graph does not have node: "+a);i(e,a,"post"===s,o,n,r)}return r},p=(e,t)=>e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen,d=e=>{const s=e=>{const s=new t.Graph({directed:!1}),i=e.nodes()[0],n=e.nodeCount();let r,o;s.setNode(i,{});const a=(e,t)=>{let s,i=Number.POSITIVE_INFINITY;for(const n of t.edges())if(e.hasNode(n.v)!==e.hasNode(n.w)){const e=p(t,n);e<i&&(i=e,s=n)}return s},h=(e,t)=>{const s=e.nodes().reverse();for(;s.length>0;){const i=s.pop();for(const n of t.nodeEdges(i)){const r=n.v,o=i===r?n.w:r;e.hasNode(o)||p(t,n)||(e.setNode(o,{}),e.setEdge(i,o,{}),s.push(o))}}return e.nodeCount()};for(;h(s,e)<n;){r=a(s,e),o=s.hasNode(r.v)?p(e,r):-p(e,r);for(const t of s.nodes())e.node(t).rank+=o}return s},i=e=>{const t={},s=i=>{const n=e.node(i);if(!0===t[i])return n.rank;t[i]=!0;let r=Number.POSITIVE_INFINITY;for(const t of e.outEdges(i)){const i=s(t.w)-e.edge(t).minlen;i<r&&(r=i)}return r!==Number.POSITIVE_INFINITY&&null!=r||(r=0),n.rank=r};for(const t of e.sources())s(t)};switch(e.graph().ranker){case"tight-tree":i(e),s(e);break;case"longest-path":i(e);break;default:(e=>{e=(e=>{const s=new t.Graph;s.setGraph(e.graph());for(const t of e.nodes())s.setNode(t,e.node(t));for(const t of e.edges()){const i=s.edge(t.v,t.w)||{weight:0,minlen:1},n=e.edge(t);s.setEdge(t.v,t.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}return s})(e),i(e);const n=s(e),r=(e,t)=>{t=e.nodes()[0];const s=(e,t,i,n,r)=>{const o=i,a=e.node(n);t[n]=!0;for(const r of e.neighbors(n))r in t||(i=s(e,t,i,r,n));return a.low=o,a.lim=i++,r?a.parent=r:delete a.parent,i};s(e,{},1,t)};r(n);const o=(e,t)=>{const s=(e,t,s)=>{const i=e.node(s).parent;e.edge(s,i).cutvalue=((e,t,s)=>{const i=e.node(s).parent;let n=!0,r=t.edge(s,i);r||(n=!1,r=t.edge(i,s));let o=r.weight;for(const r of t.nodeEdges(s)){const a=r.v===s,h=a?r.w:r.v;if(h!==i){const i=a===n,c=t.edge(r).weight;if(o+=i?c:-c,e.hasEdge(s,h)){const t=e.edge(s,h).cutvalue;o+=i?-t:t}}}return o})(e,t,s)};let i=((e,t)=>l(e,t,"post"))(e,e.nodes());i=i.slice(0,i.length-1);for(const n of i)s(e,t,n)};o(n,e);const a=e=>e.edges().find((t=>e.edge(t).cutvalue<0)),h=(e,t,s)=>{let i=s.v,n=s.w;t.hasEdge(i,n)||(i=s.w,n=s.v);const r=e.node(i),o=e.node(n);let a=r,h=!1;r.lim>o.lim&&(a=o,h=!0);const c=(e,t,s)=>s.low<=t.lim&&t.lim<=s.lim,l=t.edges().filter((t=>h===c(0,e.node(t.v),a)&&h!==c(0,e.node(t.w),a)));let d,_=Number.POSITIVE_INFINITY;for(const e of l){const s=p(t,e);s<_&&(_=s,d=e)}return d},c=(e,t,s,i)=>{const n=s.v,a=s.w;e.removeEdge(n,a),e.setEdge(i.v,i.w,{}),r(e),o(e,t),((e,t)=>{const s=e.nodes().find((e=>!t.node(e).parent));let i=((e,t)=>l(e,t,"pre"))(e,s);i=i.slice(1);for(const s of i){const i=e.node(s).parent;let n=t.edge(s,i),r=!1;n||(n=t.edge(i,s),r=!0),t.node(s).rank=t.node(i).rank+(r?n.minlen:-n.minlen)}})(e,t)};let d,_;for(;d=a(n);)_=h(n,e,d),c(n,e,d,_)})(e)}},_=e=>{const t=e=>{const t=e.width;e.width=e.height,e.height=t};for(const s of e.nodes())t(e.node(s));for(const s of e.edges())t(e.edge(s))};s("    makeSpaceForEdgeLabels",(()=>{(e=>{const t=e.graph();t.ranksep/=2;for(const s of e.edges()){const i=e.edge(s);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}})(e)})),s("    removeSelfEdges",(()=>{(e=>{for(const t of e.edges())if(t.v===t.w){const s=e.node(t.v);s.selfEdges||(s.selfEdges=[]),s.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})(e)})),s("    acyclic_run",(()=>{(e=>{for(const t of(e=>{const t=[],s=new Set,i=new Set,n=r=>{if(!i.has(r)){i.add(r),s.add(r);for(const i of e.outEdges(r))s.has(i.w)?t.push(i):n(i.w);s.delete(r)}};for(const t of e.nodes())n(t);return t})(e)){const s=e.edge(t);e.removeEdge(t),s.forwardName=t.name,s.reversed=!0,e.setEdge(t.w,t.v,s,n("rev"))}})(e)})),s("    nestingGraph_run",(()=>{(e=>{const t=o(e,"root",{},"_root"),s=(e,t,i,n,r,a,h)=>{const c=e.children(h);if(!c.length)return void(h!==t&&e.setEdge(t,h,{weight:0,minlen:i}));const l=o(e,"border",{width:0,height:0},"_bt"),p=o(e,"border",{width:0,height:0},"_bb"),d=e.node(h);e.setParent(l,h),d.borderTop=l,e.setParent(p,h),d.borderBottom=p;for(const o of c){s(e,t,i,n,r,a,o);const c=e.node(o),d=c.borderTop?c.borderTop:o,_=c.borderBottom?c.borderBottom:o,u=c.borderTop?n:2*n,f=d!==_?1:r-a[h]+1;e.setEdge(l,d,{weight:u,minlen:f,nestingEdge:!0}),e.setEdge(_,p,{weight:u,minlen:f,nestingEdge:!0})}e.parent(h)||e.setEdge(t,l,{weight:0,minlen:r+a[h]})},i=(e=>{const t={},s=(i,n)=>{const r=e.children(i);if(r&&r.length)for(const e of r)s(e,n+1);t[i]=n};for(const t of e.children())s(t,1);return t})(e),n=Math.max(...Object.values(i))-1,r=2*n+1;e.graph().nestingRoot=t;for(const t of e.edges())e.edge(t).minlen*=r;const a=(e=>e.edges().reduce(((t,s)=>t+e.edge(s).weight),0))(e)+1;for(const o of e.children())s(e,t,r,a,n,i,o);e.graph().nodeRankFactor=r})(e)})),s("    rank",(()=>{d(a(e))})),s("    injectEdgeLabelProxies",(()=>{(e=>{for(const t of e.edges()){const s=e.edge(t);if(s.width&&s.height){const s=e.node(t.v),i={rank:(e.node(t.w).rank-s.rank)/2+s.rank,e:t};o(e,"edge-proxy",i,"_ep")}}})(e)})),s("    removeEmptyRanks",(()=>{(e=>{if(e.nodes().length>0){let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(const i of e.nodes()){const n=e.node(i);void 0!==n.rank&&(n.rank<t&&(t=n.rank),n.rank>s&&(s=n.rank))}const i=s-t;if(i>0){const s=new Array(i);for(const i of e.nodes()){const n=e.node(i);if(void 0!==n.rank){const e=n.rank-t;s[e]||(s[e]=[]),s[e].push(i)}}let n=0;const r=e.graph().nodeRankFactor;for(let t=0;t<s.length;t++){const i=s[t];if(void 0===i&&t%r!=0)--n;else if(n&&i)for(const t of i)e.node(t).rank+=n}}}})(e)})),s("    nestingGraph_cleanup",(()=>{(e=>{const t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot;for(const t of e.edges())e.edge(t).nestingEdge&&e.removeEdge(t)})(e)})),s("    normalizeRanks",(()=>{(e=>{let t=Number.POSITIVE_INFINITY;for(const s of e.nodes()){const i=e.node(s).rank;void 0!==i&&i<t&&(t=i)}for(const s of e.nodes()){const i=e.node(s);void 0!==i.rank&&(i.rank-=t)}})(e)})),s("    assignRankMinMax",(()=>{(e=>{let t=0;for(const s of e.nodes()){const i=e.node(s);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=Math.max(t,i.maxRank))}e.graph().maxRank=t})(e)})),s("    removeEdgeLabelProxies",(()=>{(e=>{for(const t of e.nodes()){const s=e.node(t);"edge-proxy"===s.dummy&&(e.edge(s.e).labelRank=s.rank,e.removeNode(t))}})(e)})),s("    normalize",(()=>{(e=>{e.graph().dummyChains=[];for(const t of e.edges()){let s=t.v,i=e.node(s).rank;const n=t.w,r=e.node(n).rank,a=t.name,h=e.edge(t),c=h.labelRank;if(r!==i+1){let l,p,d;for(e.removeEdge(t),d=0,++i;i<r;++d,++i)h.points=[],p={width:0,height:0,edgeLabel:h,edgeObj:t,rank:i},l=o(e,"edge",p,"_d"),i===c&&(p.width=h.width,p.height=h.height,p.dummy="edge-label",p.labelpos=h.labelpos),e.setEdge(s,l,{weight:h.weight},a),0===d&&e.graph().dummyChains.push(l),s=l;e.setEdge(s,n,{weight:h.weight},a)}}})(e)})),s("    parentDummyChains",(()=>{(e=>{const t=(e=>{const t={};let s=0;const i=n=>{const r=s;for(const t of e.children(n))i(t);t[n]={low:r,lim:s++}};for(const t of e.children())i(t);return t})(e),s=e.graph().dummyChains;s&&s.forEach((function(s){let i=e.node(s);const n=i.edgeObj,r=((e,t,s,i)=>{const n=[],r=[],o=Math.min(t[s].low,t[i].low),a=Math.max(t[s].lim,t[i].lim);let h=s;do{h=e.parent(h),n.push(h)}while(h&&(t[h].low>o||a>t[h].lim));const c=h;for(h=i;(h=e.parent(h))!==c;)r.push(h);return{path:n.concat(r.reverse()),lca:c}})(e,t,n.v,n.w),o=r.path,a=r.lca;let h=0,c=o[h],l=!0;for(;s!==n.w;){if(i=e.node(s),l){for(;(c=o[h])!==a&&e.node(c).maxRank<i.rank;)h++;c===a&&(l=!1)}if(!l){for(;h<o.length-1&&e.node(c=o[h+1]).minRank<=i.rank;)h++;c=o[h]}e.setParent(s,c),s=e.successors(s)[0]}}))})(e)})),s("    addBorderSegments",(()=>{(e=>{const t=(e,t,s,i,n,r)=>{const a={width:0,height:0,rank:r,borderType:t},h=n[t][r-1],c=o(e,"border",a,s);n[t][r]=c,e.setParent(c,i),h&&e.setEdge(h,c,{weight:1})},s=i=>{const n=e.children(i),r=e.node(i);if(n.length)for(const e of n)s(e);if("minRank"in r){r.borderLeft=[],r.borderRight=[];for(let s=r.minRank,n=r.maxRank+1;s<n;++s)t(e,"borderLeft","_bl",i,r,s),t(e,"borderRight","_br",i,r,s)}};for(const t of e.children())s(t)})(e)})),s("    order",(()=>{(e=>{const s=(e,t,i,n)=>{let o=e.children(t);const a=e.node(t),h=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,l={};h&&(o=o.filter((e=>e!==h&&e!==c)));const p=((e,t)=>(t||[]).map((t=>{const s=e.inEdges(t);if(s.length){const i=s.reduce(((t,s)=>{const i=e.edge(s),n=e.node(s.v);return{sum:t.sum+i.weight*n.order,weight:t.weight+i.weight}}),{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}return{v:t}})))(e,o);for(const t of p)if(e.children(t.v).length){const r=s(e,t.v,i,n);l[t.v]=r,"barycenter"in r&&(_=r,void 0!==(d=t).barycenter?(d.barycenter=(d.barycenter*d.weight+_.barycenter*_.weight)/(d.weight+_.weight),d.weight+=_.weight):(d.barycenter=_.barycenter,d.weight=_.weight))}var d,_;const u=((e,t)=>{const s={};e.forEach((function(e,t){const i=s[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};void 0!==e.barycenter&&(i.barycenter=e.barycenter,i.weight=e.weight)}));for(const e of t.edges()){const t=s[e.v],i=s[e.w];void 0!==t&&void 0!==i&&(i.indegree++,t.out.push(s[e.w]))}const i=Object.values(s).filter((e=>!e.indegree)),n=[];function r(e){return function(t){t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&((e,t)=>{let s=0,i=0;e.weight&&(s+=e.barycenter*e.weight,i+=e.weight),t.weight&&(s+=t.barycenter*t.weight,i+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=s/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0})(e,t)}}function o(e){return function(t){t.in.push(e),0==--t.indegree&&i.push(t)}}for(;i.length;){const e=i.pop();n.push(e),e.in.reverse().forEach(r(e)),e.out.forEach(o(e))}return Object.values(n).filter((e=>!e.merged)).map((e=>((e,t)=>{const s={};for(const t of["vs","i","barycenter","weight"])void 0!==e[t]&&(s[t]=e[t]);return s})(e)))})(p,i);for(const e of u)e.vs=r(e.vs.map((e=>l[e]?l[e].vs:e)));const f=((e,t)=>{const s=(e,t,s)=>{let i;for(;t.length&&(i=t[t.length-1]).i<=s;)t.pop(),e.push(i.vs),s++;return s},i={lhs:[],rhs:[]};for(const t of e)"barycenter"in t?i.lhs.push(t):i.rhs.push(t);const n=i.lhs,o=i.rhs.sort(((e,t)=>-e.i+t.i)),a=[];let h=0,c=0,l=0;var p;n.sort((p=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:p?t.i-e.i:e.i-t.i})),l=s(a,o,l);for(const e of n)l+=e.vs.length,a.push(e.vs),h+=e.barycenter*e.weight,c+=e.weight,l=s(a,o,l);const d={vs:r(a)};return c&&(d.barycenter=h/c,d.weight=c),d})(u,n);if(h&&(f.vs=r([h,f.vs,c]),e.predecessors(h).length)){const t=e.node(e.predecessors(h)[0]),s=e.node(e.predecessors(c)[0]);"barycenter"in f||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+t.order+s.order)/(f.weight+2),f.weight+=2}return f},i=(e,t,s)=>{const i={};let n;for(const r of s){let s,o,a=e.parent(r);for(;a;){if(s=e.parent(a),s?(o=i[s],i[s]=a):(o=n,n=a),o&&o!==a)return void t.setEdge(o,a);a=s}}},o=(e,n)=>{const r=new t.Graph;for(const t of e){const e=t.graph().root,o=s(t,e,r,n),a=o.vs,h=a.length;for(let e=0;e<h;e++)t.node(a[e]).order=e;i(t,r,o.vs)}},a=(e,t,s)=>{const i={};for(let e=0;e<s.length;e++)i[s[e]]=e;const n=[];for(const s of t){const t=e.outEdges(s),r=[];for(const s of t)r.push({pos:i[s.w],weight:e.edge(s).weight});r.sort(((e,t)=>e.pos-t.pos));for(const e of r)n.push(e)}let r=1;for(;r<s.length;)r<<=1;const o=2*r-1;r-=1;const a=Array.from(new Array(o),(()=>0));let h=0;for(const e of n){let t=e.pos+r;a[t]+=e.weight;let s=0;for(;t>0;)t%2&&(s+=a[t+1]),t=t-1>>1,a[t]+=e.weight;h+=e.weight*s}return h},l=(e,t)=>{let s=0;for(let i=1;i<t.length;i++)s+=a(e,t[i-1],t[i]);return s},p=(e,s,i)=>{let r;for(;e.hasNode(r=n("_root")););const o=new t.Graph({compound:!0});o.setGraph({root:r}),o.setDefaultNodeLabel((t=>e.node(t)));for(const t of e.nodes()){const n=e.node(t);if(n.rank===s||n.minRank<=s&&s<=n.maxRank){o.setNode(t);const a=e.parent(t);o.setParent(t,a||r);for(const s of e[i](t)){const i=s.v===t?s.w:s.v,n=o.edge(i,t),r=void 0!==n?n.weight:0;o.setEdge(i,t,{weight:e.edge(s).weight+r})}"minRank"in n&&o.setNode(t,{borderLeft:n.borderLeft[s],borderRight:n.borderRight[s]})}}return o},d=h(e),_=new Array(void 0!==d?d:0),u=new Array(void 0!==d?d:0);for(let t=0;t<d;t++)_[t]=p(e,t+1,"inEdges"),u[t]=p(e,d-t-1,"outEdges");let f=(e=>{const t={},s=e.nodes().filter((t=>!e.children(t).length));let i;for(const t of s)if(!e.children(t).length>0){const s=e.node(t).rank;(void 0===i||void 0!==s&&s>i)&&(i=s)}if(void 0!==i){const n=Array.from(new Array(i+1),(()=>[]));for(const i of s.map((t=>[e.node(t).rank,t])).sort(((e,t)=>e[0]-t[0])).map((e=>e[1]))){const s=[i];for(;s.length>0;){const i=s.shift();!0!==t[i]&&(t[i]=!0,n[e.node(i).rank].push(i),s.push(...e.successors(i)))}}return n}return[]})(e);const g=(e,t)=>{for(const s of t)for(let t=0;t<s.length;t++)e.node(s[t]).order=t};g(e,f);let m,b=Number.POSITIVE_INFINITY;for(let t=0,s=0;s<4;++t,++s){o(t%2?_:u,t%4>=2),f=c(e);const i=l(e,f);if(i<b){s=0;const e=f.length;m=new Array(e);for(let t=0;t<e;t++)m[t]=f[t].slice();b=i}}g(e,m)})(e)})),s("    insertSelfEdges",(()=>{(e=>{const t=c(e);for(const s of t){let t=0;s.forEach((function(s,i){const n=e.node(s);if(n.order=i+t,n.selfEdges){for(const s of n.selfEdges)o(e,"selfedge",{width:s.label.width,height:s.label.height,rank:n.rank,order:i+ ++t,e:s.e,label:s.label},"_se");delete n.selfEdges}}))}})(e)})),s("    coordinateSystem_adjust",(()=>{(e=>{const t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||_(e)})(e)})),s("    position",(()=>{(e=>{e=a(e);const s=c(e),i=e.graph().ranksep;let n=0;for(const t of s){const s=t.map((t=>e.node(t).height)),r=Math.max(...s);for(const s of t)e.node(s).y=n+r/2;n+=r+i}for(const s of Object.entries((e=>{const s=(e,t,s)=>{if(t>s){const e=t;t=s,s=e}let i=e[t];i||(e[t]=i={}),i[s]=!0},i=(e,t,s)=>{if(t>s){const e=t;t=s,s=e}return e[t]&&s in e[t]},n=(e,t,s,n)=>{const r={},o={},a={};for(const e of t){let t=0;for(const s of e)r[s]=s,o[s]=s,a[s]=t,t++}for(const e of t){let t=-1;for(const h of e){let e=n(h);if(e.length){e=e.sort(((e,t)=>a[e]-a[t]));const n=(e.length-1)/2;for(let c=Math.floor(n),l=Math.ceil(n);c<=l;++c){const n=e[c];o[h]===h&&t<a[n]&&!i(s,h,n)&&(o[n]=h,o[h]=r[h]=r[n],t=a[n])}}}}return{root:r,align:o}},r=(e,t,s,i,n)=>{const r={},a=o(e,t,s,n),h=n?"borderLeft":"borderRight",c=(e,t)=>{let s=a.nodes(),i=s.pop();const n={};for(;i;)n[i]?e(i):(n[i]=!0,s.push(i),s=s.concat(t(i))),i=s.pop()};c((e=>{r[e]=a.inEdges(e).reduce(((e,t)=>Math.max(e,r[t.v]+a.edge(t))),0)}),a.predecessors.bind(a)),c((t=>{const s=a.outEdges(t).reduce(((e,t)=>Math.min(e,r[t.w]-a.edge(t))),Number.POSITIVE_INFINITY),i=e.node(t);s!==Number.POSITIVE_INFINITY&&i.borderType!==h&&(r[t]=Math.max(r[t],s))}),a.successors.bind(a));for(const e of Object.values(i))r[e]=r[s[e]];return r},o=(e,s,i,n)=>{const r=new t.Graph,o=e.graph(),a=((e,t,s)=>function(i,n,r){const o=i.node(n),a=i.node(r);let h,c=0;if(c+=o.width/2,"labelpos"in o)switch(o.labelpos.toLowerCase()){case"l":h=-o.width/2;break;case"r":h=o.width/2}if(h&&(c+=s?h:-h),h=0,c+=(o.dummy?t:e)/2,c+=(a.dummy?t:e)/2,c+=a.width/2,"labelpos"in a)switch(a.labelpos.toLowerCase()){case"l":h=a.width/2;break;case"r":h=-a.width/2}return h&&(c+=s?h:-h),h=0,c})(o.nodesep,o.edgesep,n);for(const t of s){let s;for(const n of t){const t=i[n];if(r.setNode(t),s){const o=i[s],h=r.edge(o,t);r.setEdge(o,t,Math.max(a(e,n,s),h||0))}s=n}}return r},a=c(e),h=Object.assign(((e,t)=>{const i={};return t.length>0&&t.reduce(((t,n)=>{let r=0,o=0;const a=t.length,h=n[n.length-1];return n.forEach((function(t,c){const l=((e,t)=>{if(e.node(t).dummy)return e.predecessors(t).find((t=>e.node(t).dummy))})(e,t),p=l?e.node(l).order:a;if(l||t===h){for(const t of n.slice(o,c+1))for(const n of e.predecessors(t)){const o=e.node(n),a=o.order;!(a<r||p<a)||o.dummy&&e.node(t).dummy||s(i,n,t)}o=c+1,r=p}})),n})),i})(e,a),((e,t)=>{const i={};function n(t,n,r,o,a){let h;for(let c=n;c<r;c++)if(h=t[c],e.node(h).dummy)for(const t of e.predecessors(h)){const n=e.node(t);n.dummy&&(n.order<o||n.order>a)&&s(i,t,h)}}return t.length>0&&t.reduce((function(t,s){let i,r=-1,o=0;return s.forEach((function(a,h){if("border"===e.node(a).dummy){const t=e.predecessors(a);t.length&&(i=e.node(t[0]).order,n(s,o,h,r,i),o=h,r=i)}n(s,o,s.length,i,t.length)})),s})),i})(e,a)),l={};for(const t of["u","d"]){let s="u"===t?a:Object.values(a).reverse();for(const i of["l","r"]){"r"===i&&(s=s.map((e=>Object.values(e).reverse())));const o=n(0,s,h,("u"===t?e.predecessors:e.successors).bind(e)),a=r(e,s,o.root,o.align,"r"===i);if("r"===i)for(const e of Object.entries(a))a[e[0]]=-e[1];l[t+i]=a}}const p=((e,t)=>{let s,i=Number.POSITIVE_INFINITY;for(const n of Object.values(t)){let t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(const s of Object.entries(n)){const i=s[0],n=s[1],o=e.node(i).width/2;t=Math.max(n+o,t),r=Math.min(n-o,r)}const o=t-r;o<i&&(i=o,s=n)}return s})(e,l);return((e,t)=>{const s=e=>{let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(const i of e)i<t&&(t=i),i>s&&(s=i);return[t,s]},i=s(Object.values(t));for(const n of["u","d"])for(const r of["l","r"]){const o=n+r,a=e[o];let h;if(a!==t){const t=s(Object.values(a));if(h="l"===r?i[0]-t[0]:i[1]-t[1],h){const t={};for(const e of Object.keys(a))t[e]=a[e]+h;e[o]=t}}}})(l,p),((e,t)=>{const s={};if(t){const i=e[t.toLowerCase()];for(const t of Object.keys(e.ul))s[t]=i[t]}else for(const t of Object.keys(e.ul)){const i=[e.ul[t],e.ur[t],e.dl[t],e.dr[t]].sort(((e,t)=>e-t));s[t]=(i[1]+i[2])/2}return s})(l,e.graph().align)})(e)))e.node(s[0]).x=s[1]})(e)})),s("    positionSelfEdges",(()=>{(e=>{for(const t of e.nodes()){const s=e.node(t);if("selfedge"===s.dummy){const i=e.node(s.e.v),n=i.x+i.width/2,r=i.y,o=s.x-n,a=i.height/2;e.setEdge(s.e,s.label),e.removeNode(t),s.label.points=[{x:n+2*o/3,y:r-a},{x:n+5*o/6,y:r-a},{x:n+o,y:r},{x:n+5*o/6,y:r+a},{x:n+2*o/3,y:r+a}],s.label.x=s.x,s.label.y=s.y}}})(e)})),s("    removeBorderNodes",(()=>{(e=>{for(const t of e.nodes())if(e.children(t).length){const s=e.node(t),i=e.node(s.borderTop),n=e.node(s.borderBottom),r=e.node(s.borderLeft[s.borderLeft.length-1]),o=e.node(s.borderRight[s.borderRight.length-1]);s.width=Math.abs(o.x-r.x),s.height=Math.abs(n.y-i.y),s.x=r.x+s.width/2,s.y=i.y+s.height/2}for(const t of e.nodes())"border"===e.node(t).dummy&&e.removeNode(t)})(e)})),s("    denormalize",(()=>{(e=>{e.graph().dummyChains.forEach((function(t){let s=e.node(t);const i=s.edgeLabel;let n;for(e.setEdge(s.edgeObj,i);s.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:s.x,y:s.y}),"edge-label"===s.dummy&&(i.x=s.x,i.y=s.y,i.width=s.width,i.height=s.height),t=n,s=e.node(t)}))})(e)})),s("    fixupEdgeLabelCoords",(()=>{(e=>{for(const t of e.edges()){const s=e.edge(t);if("x"in s)switch("l"!==s.labelpos&&"r"!==s.labelpos||(s.width-=s.labeloffset),s.labelpos){case"l":s.x-=s.width/2+s.labeloffset;break;case"r":s.x+=s.width/2+s.labeloffset}}})(e)})),s("    coordinateSystem_undo",(()=>{(e=>{const t=e.graph().rankdir.toLowerCase();if("bt"===t||"rl"===t){for(const t of e.nodes()){const s=e.node(t);s.y=-s.y}for(const t of e.edges()){const s=e.edge(t);for(const e of s.points)e.y=-e.y;"y"in s&&(s.y=-s.y)}}"lr"!==t&&"rl"!==t||((e=>{const t=e=>{const t=e.x;e.x=e.y,e.y=t};for(const s of e.nodes())t(e.node(s));for(const s of e.edges()){const i=e.edge(s);for(const e of i.points)t(e);void 0!==i.x&&t(i)}})(e),_(e))})(e)})),s("    translateGraph",(()=>{(e=>{let t=Number.POSITIVE_INFINITY,s=0,i=Number.POSITIVE_INFINITY,n=0;const r=e.graph(),o=r.marginx||0,a=r.marginy||0,h=e=>{const r=e.x,o=e.y,a=e.width,h=e.height;t=Math.min(t,r-a/2),s=Math.max(s,r+a/2),i=Math.min(i,o-h/2),n=Math.max(n,o+h/2)};for(const t of e.nodes())h(e.node(t));for(const t of e.edges()){const s=e.edge(t);"x"in s&&h(s)}t-=o,i-=a;for(const s of e.nodes()){const n=e.node(s);n.x-=t,n.y-=i}for(const s of e.edges()){const n=e.edge(s);for(const e of n.points)e.x-=t,e.y-=i;"x"in n&&(n.x-=t),"y"in n&&(n.y-=i)}r.width=s-t+o,r.height=n-i+a})(e)})),s("    assignNodeIntersects",(()=>{(e=>{const t=(e,t)=>{const s=e.x,i=e.y,n=t.x-s,r=t.y-i;let o,a,h=e.width/2,c=e.height/2;if(!n&&!r)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(r)*h>Math.abs(n)*c?(r<0&&(c=-c),o=c*n/r,a=c):(n<0&&(h=-h),o=h,a=h*r/n),{x:s+o,y:i+a}};for(const s of e.edges()){const i=e.edge(s),n=e.node(s.v),r=e.node(s.w);let o,a;i.points?(o=i.points[0],a=i.points[i.points.length-1]):(i.points=[],o=r,a=n),i.points.unshift(t(n,o)),i.points.push(t(r,a))}})(e)})),s("    reversePointsForReversedEdges",(()=>{(e=>{for(const t of e.edges()){const s=e.edge(t);s.reversed&&s.points.reverse()}})(e)})),s("    acyclic_undo",(()=>{(e=>{for(const t of e.edges()){const s=e.edge(t);if(s.reversed){e.removeEdge(t);const i=s.forwardName;delete s.reversed,delete s.forwardName,e.setEdge(t.w,t.v,s,i)}}})(e)}))};i("layout",(()=>{const s=i("  buildLayoutGraph",(()=>(e=>{const s=new t.Graph({multigraph:!0,compound:!0});s.setGraph(Object.assign({},{ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},e.graph()));for(const t of e.nodes()){const i=e.node(t);s.setNode(t,{width:i.width||0,height:i.height||0}),s.setParent(t,e.parent(t))}for(const t of e.edges()){const i=e.edge(t);s.setEdge(t,{minlen:i.minlen||1,weight:i.weight||1,width:i.width||0,height:i.height||0,labeloffset:i.labeloffset||10,labelpos:i.labelpos||"r"})}return s})(e)));i("  runLayout",(()=>{n(s,i)})),i("  updateInputGraph",(()=>{((e,t)=>{for(const s of e.nodes()){const i=e.node(s),n=t.node(s);i&&(i.x=n.x,i.y=n.y,t.children(s).length&&(i.width=n.width,i.height=n.height))}for(const s of e.edges()){const i=e.edge(s),n=t.edge(s);i.points=n.points,"x"in n&&(i.x=n.x,i.y=n.y)}e.graph().width=t.graph().width,e.graph().height=t.graph().height})(e,s)}))}))},t.Graph=class{constructor(e){e=e||{},this._isDirected=!("directed"in e)||e.directed,this._isMultigraph="multigraph"in e&&e.multigraph,this._isCompound="compound"in e&&e.compound,this._label=void 0,this._defaultNodeLabelFn=()=>{},this._defaultEdgeLabelFn=()=>{},this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[this.GRAPH_NODE]={}),this._in={},this._predecessors={},this._out={},this._successors={},this._edgeObjs={},this._edgeLabels={},this._nodeCount=0,this._edgeCount=0}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){this._label=e}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){return this.nodes().filter((e=>{const t=this._in[e];return t&&0===Object.keys(t).length&&t.constructor===Object}))}setNode(e,t){return e in this._nodes?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=this.GRAPH_NODE,this._children[e]={},this._children[this.GRAPH_NODE][e]=!0),this._in[e]={},this._predecessors[e]={},this._out[e]={},this._successors[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return e in this._nodes}removeNode(e){if(e in this._nodes){if(delete this._nodes[e],this._isCompound){delete this._children[this._parent[e]][e],delete this._parent[e];for(const t of this.children(e))this.setParent(t);delete this._children[e]}for(const t of Object.keys(this._in[e]))this.removeEdge(this._edgeObjs[t]);delete this._in[e],delete this._predecessors[e];for(const t of Object.keys(this._out[e]))this.removeEdge(this._edgeObjs[t]);delete this._out[e],delete this._successors[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===t)t=this.GRAPH_NODE;else{for(let s=t+="";void 0!==s;s=this.parent(s))if(s===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle.");this.setNode(t)}return this.setNode(e),delete this._children[this._parent[e]][e],this._parent[e]=t,this._children[t][e]=!0,this}parent(e){if(this._isCompound){const t=this._parent[e];if(t!==this.GRAPH_NODE)return t}}children(e){if(void 0===e&&(e=this.GRAPH_NODE),this._isCompound){const t=this._children[e];if(t)return Object.keys(t)}else{if(e===this.GRAPH_NODE)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){const t=this._predecessors[e];if(t)return Object.keys(t)}successors(e){const t=this._successors[e];if(t)return Object.keys(t)}neighbors(e){const t=this.predecessors(e);if(t)return Array.from(new Set(t.concat(this.successors(e))))}edges(){return Object.values(this._edgeObjs)}setEdge(){let e,t,s,i,n=!1;const r=arguments[0];"object"==typeof r&&null!==r&&"v"in r?(e=r.v,t=r.w,s=r.name,2===arguments.length&&(i=arguments[1],n=!0)):(e=r,t=arguments[1],s=arguments[3],arguments.length>2&&(i=arguments[2],n=!0)),e=""+e,t=""+t,void 0!==s&&(s=""+s);const o=this.edgeArgsToId(this._isDirected,e,t,s);if(o in this._edgeLabels)return n&&(this._edgeLabels[o]=i),this;if(void 0!==s&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");if(this.setNode(e),this.setNode(t),this._edgeLabels[o]=n?i:this._defaultEdgeLabelFn(e,t,s),e=""+e,t=""+t,!this._isDirected&&e>t){const s=e;e=t,t=s}const a=s?{v:e,w:t,name:s}:{v:e,w:t};Object.freeze(a),this._edgeObjs[o]=a;const h=(e,t)=>{e[t]?e[t]++:e[t]=1};return h(this._predecessors[t],e),h(this._successors[e],t),this._in[t][o]=a,this._out[e][o]=a,this._edgeCount++,this}edge(e,t,s){const i=1===arguments.length?this.edgeObjToId(this._isDirected,arguments[0]):this.edgeArgsToId(this._isDirected,e,t,s);return this._edgeLabels[i]}hasEdge(e,t,s){return(1===arguments.length?this.edgeObjToId(this._isDirected,arguments[0]):this.edgeArgsToId(this._isDirected,e,t,s))in this._edgeLabels}removeEdge(e,t,s){const i=1===arguments.length?this.edgeObjToId(this._isDirected,arguments[0]):this.edgeArgsToId(this._isDirected,e,t,s),n=this._edgeObjs[i];if(n){e=n.v,t=n.w,delete this._edgeLabels[i],delete this._edgeObjs[i];const s=(e,t)=>{--e[t]||delete e[t]};s(this._predecessors[t],e),s(this._successors[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--}return this}inEdges(e,t){const s=this._in[e];if(s){const e=Object.values(s);return t?e.filter((e=>e.v===t)):e}}outEdges(e,t){const s=this._out[e];if(s){const e=Object.values(s);return t?e.filter((e=>e.w===t)):e}}nodeEdges(e,t){const s=this.inEdges(e,t);if(s)return s.concat(this.outEdges(e,t))}edgeArgsToId(e,t,s,i){let n=""+t,r=""+s;if(!e&&n>r){const e=n;n=r,r=e}return n+""+r+""+(void 0===i?"\0":i)}edgeObjToId(e,t){return this.edgeArgsToId(e,t.v,t.w,t.name)}},"object"==typeof e.exports&&(e.exports=t)},506:(e,t,s)=>{var i={},n=n||s(426);i.get=e=>(i._map=i._map||new Map,i._map.has(e)||i._map.set(e,{}),i._map.get(e)),i.BinaryReader=class{static open(e){return new i.BinaryReader(e)}constructor(e){const t=e instanceof Uint8Array?e:e.peek();this._buffer=t,this._position=0,this._dataView=new DataView(t.buffer,t.byteOffset,t.byteLength)}get root(){return this.int32(this._position)+this._position}get identifier(){if(this._buffer.length>=8){const e=this._buffer.slice(4,8);if(e.every((e=>e>=32&&e<=128)))return String.fromCharCode(...e)}return""}bool(e){return!!this.int8(e)}bool_(e,t,s){return(t=this._offset(e,t))?this.bool(e+t):s}int8(e){return this.uint8(e)<<24>>24}int8_(e,t,s){return(t=this._offset(e,t))?this.int8(e+t):s}uint8(e){return this._buffer[e]}uint8_(e,t,s){return(t=this._offset(e,t))?this.uint8(e+t):s}int16(e){return this._dataView.getInt16(e,!0)}int16_(e,t,s){return(t=this._offset(e,t))?this.int16(e+t):s}uint16(e){return this._dataView.getUint16(e,!0)}uint16_(e,t,s){return(t=this._offset(e,t))?this.uint16(e+t):s}int32(e){return this._dataView.getInt32(e,!0)}int32_(e,t,s){return(t=this._offset(e,t))?this.int32(e+t):s}uint32(e){return this._dataView.getUint32(e,!0)}uint32_(e,t,s){return(t=this._offset(e,t))?this.int32(e+t):s}int64(e){return this._dataView.getInt64(e,!0)}int64_(e,t,s){return(t=this._offset(e,t))?this.int64(e+t):s}uint64(e){return this._dataView.getUint64(e,!0)}float32(e){return this._dataView.getFloat32(e,!0)}float32_(e,t,s){return(t=this._offset(e,t))?this.float32(e+t):s}float64(e){return this._dataView.getFloat64(e,!0)}float64_(e,t,s){return(t=this._offset(e,t))?this.float64(e+t):s}string(e,t){e+=this.int32(e);const s=this.int32(e);var i="",n=0;if(e+=4,1===t)return this._buffer.subarray(e,e+s);for(;n<s;){var r;const t=this.uint8(e+n++);if(t<192)r=t;else{const s=this.uint8(e+n++);if(t<224)r=(31&t)<<6|63&s;else{const i=this.uint8(e+n++);r=t<240?(15&t)<<12|(63&s)<<6|63&i:(7&t)<<18|(63&s)<<12|(63&i)<<6|63&this.uint8(e+n++)}}r<65536?i+=String.fromCharCode(r):(r-=65536,i+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return i}string_(e,t,s){return(t=this._offset(e,t))?this.string(e+t):s}bools_(e,t){if(t=this._offset(e,t)){const s=this._length(e+t);t=this._vector(e+t);const i=new Array(s);for(let e=0;e<s;e++)i[e]=!!this.uint8(t+e+4);return i}return[]}int64s_(e,t){if(t=this._offset(e,t)){const s=this._length(e+t);t=this._vector(e+t);const i=new Array(s);for(let e=0;e<s;e++)i[e]=this.int64(t+(e<<3));return i}return[]}uint64s_(e,t){if(t=this._offset(e,t)){const s=this._length(e+t);t=this._vector(e+t);const i=new Array(s);for(let e=0;e<s;e++)i[e]=this.uint64(t+(e<<3));return i}return[]}strings_(e,t){if(t=this._offset(e,t)){const s=this._length(e+t);t=this._vector(e+t);const i=new Array(s);for(let e=0;e<s;e++)i[e]=this.string(t+4*e);return i}return[]}struct(e,t,s){return(t=this._offset(e,t))?s(this,e+t):null}table(e,t,s){return(t=this._offset(e,t))?s(this,this._indirect(e+t)):null}union(e,t,s){const i=this._offset(e,t),n=i?this.uint8(e+i):0;return(t=this._offset(e,t+2))?s(this,this._union(e+t),n):null}typedArray(e,t,s){return(t=this._offset(e,t))?new s(this._buffer.buffer,this._buffer.byteOffset+this._vector(e+t),this._length(e+t)):new s(0)}unionArray(){throw new i.Error("Not implemented.")}structArray(e,t,s,i){const n=(t=this._offset(e,t))?this._length(e+t):0,r=new Array(n);for(let s=0;s<n;s++)r[s]=i(this,this._indirect(this._vector(e+t)+4*s));return r}tableArray(e,t,s){const i=(t=this._offset(e,t))?this._length(e+t):0,n=new Array(i);for(let r=0;r<i;r++)n[r]=s(this,this._indirect(this._vector(e+t)+4*r));return n}_offset(e,t){var s=e-this.int32(e);return t<this.int16(s)?this.int16(s+t):0}_indirect(e){return e+this.int32(e)}_vector(e){return e+this.int32(e)+4}_length(e){return this.int32(e+this.int32(e))}_union(e){return e+this.int32(e)}},i.TextReader=class{static open(e){return new i.TextReader(e)}constructor(e){this._root=e}get root(){return this._root}value(e,t){return void 0!==e?e:t}object(e,t){return void 0!==e?t(this,e):e}array(e){if(Array.isArray(e)){const t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=e[s];return t}if(!e)return[];throw new i.Error("Inalid value array.")}typedArray(e,t){if(Array.isArray(e)){const s=new t(e.length);for(let t=0;t<e.length;t++)s[t]=e[t];return s}if(!e)return new t(0);throw new i.Error("Inalid typed array.")}objectArray(e,t){if(Array.isArray(e)){const s=new Array(e.length);for(let i=0;i<e.length;i++)s[i]=t(this,e[i]);return s}if(!e)return[];throw new i.Error("Inalid object array.")}},i.Error=class extends Error{constructor(e){super(e),this.name="FlatBuffers Error",this.message=e}},"object"==typeof e.exports&&(e.exports.BinaryReader=i.BinaryReader,e.exports.TextReader=i.TextReader,e.exports.get=i.get)},187:(e,t,s)=>{var i=i||{},n=n||s(224);i.Archive=class{static open(e){const t=e instanceof Uint8Array?new i.BinaryReader(e):e,s=[31,139];return t.length>18&&t.peek(2).every(((e,t)=>e===s[t]))?new i.Archive(t):null}constructor(e){const t=e.position,s=new i.Entry(e);this._entries=new Map([[s.name,s.stream]]),e.seek(t)}get entries(){return this._entries}},i.Entry=class{constructor(e){const t=[31,139];if(e.position+2>e.length||!e.read(2).every(((e,s)=>e===t[s])))throw new i.Error("Invalid gzip signature.");const s=()=>{let t="";for(;e.position<e.length;){const s=e.byte();if(0===s)break;t+=String.fromCharCode(s)}return t},n=new i.BinaryReader(e.read(8)),r=n.byte();if(8!=r)throw new i.Error("Invalid compression method '"+r.toString()+"'.");const o=n.byte();if(n.uint32(),n.byte(),n.byte(),0!=(4&o)){const t=e.byte()|e.byte()<<8;e.skip(t)}this._name=0!=(8&o)?s():"",0!=(16&o)&&s(),0!=(1&o)&&e.skip(2),this._stream=new i.InflaterStream(e)}get name(){return this._name}get stream(){return this._stream}},i.InflaterStream=class{constructor(e){this._stream=e.stream(e.length-e.position-8);const t=new i.BinaryReader(e.read(8));t.uint32(),this._length=t.uint32(),this._position=0}get position(){return this._position}get length(){return this._length}seek(e){void 0===this._buffer&&this._inflate(),this._position=e>=0?e:this._length+e}skip(e){void 0===this._buffer&&this._inflate(),this._position+=e}stream(e){return new i.BinaryReader(this.read(e))}peek(e){const t=this._position;e=void 0!==e?e:this._length-this._position,this.skip(e);const s=this._position;return this.seek(t),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,s)}read(e){const t=this._position;return e=void 0!==e?e:this._length-this._position,this.skip(e),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._buffer[e]}_inflate(){if(void 0===this._buffer){const e=this._stream.peek();this._buffer=(new n.Inflater).inflateRaw(e,this._length),delete this._stream}}},i.BinaryReader=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0,this._view=new DataView(e.buffer,e.byteOffset,e.byteLength)}get position(){return this._position}get length(){return this._length}create(e){return new i.BinaryReader(e)}stream(e){return this.create(this.read(e))}seek(e){this._position=e>=0?e:this._length+e}skip(e){this._position+=e}peek(e){if(0===this._position&&void 0===e)return this._buffer;const t=this._position;this.skip(void 0!==e?e:this._length-this._position);const s=this._position;return this.seek(t),this._buffer.subarray(t,s)}read(e){if(0===this._position&&void 0===e)return this._position=this._length,this._buffer;const t=this._position;return this.skip(void 0!==e?e:this._length-this._position),this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._buffer[e]}uint16(){const e=this._position;return this.skip(2),this._view.getUint16(e,!0)}uint32(){const e=this._position;return this.skip(4),this._view.getUint32(e,!0)}},i.Error=class extends Error{constructor(e){super(e),this.name="Gzip Error"}},"object"==typeof e.exports&&(e.exports.Archive=i.Archive)},240:e=>{var t={BrowserHost:class{constructor(){this._document=window.document,this._window=window,this._navigator=navigator,this._window.location.hostname.endsWith(".github.io")&&this._window.location.replace("https://netron.app"),this._window.eval=()=>{throw new Error("window.eval() not supported.")},this._meta={};for(const e of Array.from(this._document.getElementsByTagName("meta")))e.content&&(this._meta[e.name]=this._meta[e.name]||[],this._meta[e.name].push(e.content));this._type=this._meta.type?this._meta.type[0]:"Browser",this._version=this._meta.version?this._meta.version[0]:null,this._telemetry=this._version&&"0.0.0"!==this._version,this._environment=new Map,this._environment.set("zoom","scroll")}get window(){return this._window}get document(){return this._document}get version(){return this._version}get type(){return this._type}get agent(){const e=this._navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")?"safari":"any"}initialize(e){return this._view=e,new Promise((e=>{const t=()=>{if(this._telemetry){const t=this.document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","https://www.google-analytics.com/analytics.js"),t.onload=()=>{this.window.ga&&(this.window.ga.l=1*new Date,this.window.ga("create","UA-54146-13","auto"),this.window.ga("set","anonymizeIp",!0)),e()},t.onerror=()=>{e()},this.document.querySelector("#visual-panel").appendChild(t)}else e()},s=()=>{this._view.show("welcome consent");const e=this.document.getElementById("consent-accept-button");e&&e.addEventListener("click",(()=>{this._setCookie("consent","yes",30),t()}))};this._getCookie("consent")?t():this._request("https://ipinfo.io/json",{"Content-Type":"application/json"},"utf-8",2e3).then((e=>{try{const i=JSON.parse(e),n=["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","NO","PL","PT","SK","ES","SE","GB","UK","GR","EU","RO"];i&&i.country&&-1!==!n.indexOf(i.country)?(this._setCookie("consent",Date.now(),30),t()):s()}catch(e){s()}})).catch((()=>{s()}))}))}start(){this.window.addEventListener("error",(e=>{this.exception(e.error,!0)}));const e=new URLSearchParams(this.window.location.search);if(this._environment.set("zoom",e.has("zoom")?e.get("zoom"):this._environment.get("zoom")),this._menu=new t.Dropdown(this,"menu-button","menu-dropdown"),this._menu.add({label:"Properties...",accelerator:"CmdOrCtrl+Enter",click:()=>this._view.showModelProperties()}),this._menu.add({}),this._menu.add({label:"Find...",accelerator:"CmdOrCtrl+F",click:()=>this._view.find()}),this._menu.add({}),this._menu.add({label:()=>this._view.showAttributes?"Hide Attributes":"Show Attributes",accelerator:"CmdOrCtrl+D",click:()=>this._view.toggleAttributes()}),this._menu.add({label:()=>this._view.showInitializers?"Hide Initializers":"Show Initializers",accelerator:"CmdOrCtrl+I",click:()=>this._view.toggleInitializers()}),this._menu.add({label:()=>this._view.showNames?"Hide Names":"Show Names",accelerator:"CmdOrCtrl+U",click:()=>this._view.toggleNames()}),this._menu.add({label:()=>this._view.showHorizontal?"Show Vertical":"Show Horizontal",accelerator:"CmdOrCtrl+K",click:()=>this._view.toggleDirection()}),this._menu.add({}),this._menu.add({label:"Zoom In",accelerator:"Shift+Up",click:()=>this.document.getElementById("zoom-in-button").click()}),this._menu.add({label:"Zoom Out",accelerator:"Shift+Down",click:()=>this.document.getElementById("zoom-out-button").click()}),this._menu.add({label:"Actual Size",accelerator:"Shift+Backspace",click:()=>this._view.resetZoom()}),this._menu.add({}),this._menu.add({label:"Export as PNG",accelerator:"CmdOrCtrl+Shift+E",click:()=>this._view.export(document.title+".png")}),this._menu.add({label:"Export as SVG",accelerator:"CmdOrCtrl+Alt+E",click:()=>this._view.export(document.title+".svg")}),this.document.getElementById("menu-button").addEventListener("click",(e=>{this._menu.toggle(),e.preventDefault()})),this._menu.add({}),this._menu.add({label:"About "+this.document.title,click:()=>this._about()}),this.document.getElementById("version").innerText=this.version,this._meta.file){const e=this._meta.file[0];if(this._view.accept(e))return void this._openModel(this._url(e),null)}const s=e.get("url");if(s){const t=e.get("identifier")||null,i=s.replace(new RegExp("^https://github.com/([\\w]*/[\\w]*)/blob/([\\w/_.]*)(\\?raw=true)?$"),"https://raw.githubusercontent.com/$1/$2");if(this._view.accept(t||i))return void this._openModel(i,t)}const i=e.get("gist");if(i)return void this._openGist(i);const n=this.document.getElementById("open-file-button"),r=this.document.getElementById("open-file-dialog");n&&r&&(n.addEventListener("click",(()=>{r.value="",r.click()})),r.addEventListener("change",(e=>{if(e.target&&e.target.files&&e.target.files.length>0){const t=Array.from(e.target.files),s=t.find((e=>this._view.accept(e.name)));s&&this._open(s,t)}})));const o=this.document.getElementById("github-button"),a=this.document.getElementById("logo-github");o&&a&&(o.style.opacity=1,o.addEventListener("click",(()=>{this.openURL(a.href)}))),this.document.addEventListener("dragover",(e=>{e.preventDefault()})),this.document.addEventListener("drop",(e=>{e.preventDefault()})),this.document.querySelector("#visual-panel").addEventListener("drop",(e=>{if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length>0){const t=Array.from(e.dataTransfer.files),s=t.find((e=>this._view.accept(e.name)));s&&this._open(s,t)}})),this._view.show("welcome")}environment(e){return this._environment.get(e)}error(e,t){alert(("Error"==e?"":e+" ")+t)}confirm(e,t){return confirm(e+" "+t)}require(e){const t=this._url(e+".js");return this.window.__modules__=this.window.__modules__||{},this.window.__modules__[t]?Promise.resolve(this.window.__exports__[t]):new Promise(((s,i)=>{this.window.module={exports:{}};const n=document.createElement("script");n.setAttribute("id",e),n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.onload=t=>{if(this.window.module&&this.window.module.exports){const t=this.window.module.exports;delete this.window.module,this.window.__modules__[e]=t,s(t)}else i(new Error("The script '"+t.target.src+"' has no exports."))},n.onerror=e=>{delete this.window.module,i(new Error("The script '"+e.target.src+"' failed to load."))},this.document.head.appendChild(n)}))}save(e,t,s,i){i(s+"."+t)}export(e,t){const s=this.document.createElement("a");s.download=e,s.href=URL.createObjectURL(t),this.document.querySelector("#visual-panel").appendChild(s),s.click(),this.document.querySelector("#visual-panel").removeChild(s)}request(e,t,s){const i=s?s+"/"+e:this._url(e);return this._request(i,null,t)}openURL(e){this.window.location=e}exception(e,t){if(this._telemetry&&this.window.ga&&!1!==e.telemetry){const s=[];if(s.push((e&&e.name?e.name+": ":"")+(e&&e.message?e.message:"(null)")),e.stack){const t=e.stack.match(/\n {4}at (.*)\((.*)\)/);t?s.push(t[1]+"("+t[2].split("/").pop()+")"):s.push(e.stack.split("\n").shift())}this.window.ga("send","exception",{exDescription:s.join(" @ "),exFatal:t,appName:this.type,appVersion:this.version})}}screen(e){this._telemetry&&this.window.ga&&this.window.ga("send","screenview",{screenName:e,appName:this.type,appVersion:this.version})}event(e,t,s,i){this._telemetry&&this.window.ga&&this.window.ga("send","event",{eventCategory:e,eventAction:t,eventLabel:s,eventValue:i,appName:this.type,appVersion:this.version})}_request(e,s,i,n){return new Promise(((r,o)=>{const a=new XMLHttpRequest;i||(a.responseType="arraybuffer"),n&&(a.timeout=n);const h=t=>{const s=new Error("The web request failed with status code "+t+" at '"+e+"'.");return s.type="error",s.url=e,s};if(a.onload=()=>{200==a.status?"arraybuffer"==a.responseType?r(new t.BrowserHost.BinaryStream(new Uint8Array(a.response))):r(a.responseText):o(h(a.status))},a.onerror=e=>{const t=h(a.status);t.type=e.type,o(t)},a.ontimeout=()=>{a.abort();const t=new Error("The web request timed out in '"+e+"'.");t.type="timeout",t.url=e,o(t)},a.open("GET",e,!0),s)for(const e of Object.keys(s))a.setRequestHeader(e,s[e]);a.send()}))}_url(e){let t=e;if(this.window&&this.window.location&&this.window.location.href){let s=this.window.location.href.split("?").shift();s.endsWith(".html")&&(s=s.split("/").slice(0,-1).join("/")),s.endsWith("/")&&(s=s.slice(0,-1)),t=s+"/"+(e.startsWith("/")?e.substring(1):e)}return t}_openModel(e,s){e=e+(/\?/.test(e)?"&":"?")+"cb="+(new Date).getTime(),this._view.show("welcome spinner"),this._request(e).then((i=>{const n=new t.BrowserHost.BrowserContext(this,e,s,i);this._view.open(n).then((()=>{this.document.title=s||n.identifier})).catch((e=>{e&&this._view.error(e,null,"welcome")}))})).catch((e=>{this.error("Model load request failed.",e.message),this._view.show("welcome")}))}_open(e,s){this._view.show("welcome spinner");const i=new t.BrowserHost.BrowserFileContext(this,e,s);i.open().then((()=>this._view.open(i).then((e=>(this._view.show(null),this.document.title=s[0].name,e))))).catch((e=>{this._view.error(e,null,null)}))}_openGist(e){this._view.show("welcome spinner");const s="https://api.github.com/gists/"+e;this._request(s,{"Content-Type":"application/json"},"utf-8").then((e=>{const s=JSON.parse(e);if(s.message)return void this.error("Error while loading Gist.",s.message);const i=Object.keys(s.files).find((e=>this._view.accept(s.files[e].filename)));if(!i)return void this.error("Error while loading Gist.","Gist does not contain a model file.");const n=s.files[i],r=n.filename,o=(new TextEncoder).encode(n.content),a=new t.BrowserHost.BrowserContext(this,"",r,o);this._view.open(a).then((()=>{this.document.title=r})).catch((e=>{e&&this._view.show(e.name,e,"welcome")}))})).catch((e=>{this._view.show("Model load request failed.",e,"welcome")}))}_setCookie(e,t,s){const i=new Date;i.setTime(i.getTime()+24*("number"!=typeof s?365:s)*60*60*1e3),document.cookie=e+"="+t+";path=/;expires="+i.toUTCString()}_getCookie(e){const t=("; "+document.cookie).split("; "+e+"=");return t.length<2?void 0:t.pop().split(";").shift()}_about(){const e=this,t=()=>{this.window.removeEventListener("keydown",t),e.document.querySelector("#visual-panel").removeEventListener("click",t),e._view.show("default")};this.window.addEventListener("keydown",t),this.document.querySelector("#visual-panel").addEventListener("click",t),this._view.show("about")}},Dropdown:class{constructor(e,t,s){this._host=e,this._dropdown=this._host.document.getElementById(s),this._button=this._host.document.getElementById(t),this._items=[],this._apple=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),this._acceleratorMap={},this._host.window.addEventListener("keydown",(e=>{let t=e.keyCode;if(t|=e.ctrlKey&&!this._apple||e.metaKey&&this._apple?1024:0,t|=e.altKey?512:0,t|=e.shiftKey?256:0,27==t)return void this.close();const s=this._acceleratorMap[t.toString()];s&&(s.click(),e.preventDefault())})),this._host.document.querySelector("#visual-panel").addEventListener("click",(e=>{this._button.contains(e.target)||this.close()}))}add(e){if(e.accelerator){let t=!1,s=!1,i=!1,n="";for(const r of e.accelerator.split("+"))switch(r){case"CmdOrCtrl":t=!0;break;case"Alt":s=!0;break;case"Shift":i=!0;break;default:n=r}if(""!==n){if(e.accelerator={},e.accelerator.text="",this._apple){e.accelerator.text+=s?"&#x2325;":"",e.accelerator.text+=i?"&#x21e7;":"",e.accelerator.text+=t?"&#x2318;":"";const r={Enter:"&#x23ce;",Up:"&#x2191;",Down:"&#x2193;",Backspace:"&#x232B;"};e.accelerator.text+=r[n]?r[n]:n}else{const r=[];t&&r.push("Ctrl"),s&&r.push("Alt"),i&&r.push("Shift"),r.push(n),e.accelerator.text=r.join("+")}let r=0;switch(n){case"Backspace":r=8;break;case"Enter":r=13;break;case"Up":r=38;break;case"Down":r=40;break;default:r=n.charCodeAt(0)}r|=t?1024:0,r|=s?512:0,r|=i?256:0,this._acceleratorMap[r.toString()]=e}}this._items.push(e)}toggle(){if("block"!==this._dropdown.style.display){for(;this._dropdown.lastChild;)this._dropdown.removeChild(this._dropdown.lastChild);for(const e of this._items)if(Object.keys(e).length>0){const t=this._host.document.createElement("button");if(t.innerText="function"==typeof e.label?e.label():e.label,t.addEventListener("click",(()=>{this.close(),setTimeout((()=>{e.click()}),10)})),this._dropdown.appendChild(t),e.accelerator){const s=this._host.document.createElement("span");s.style.float="right",s.innerHTML=e.accelerator.text,t.appendChild(s)}}else{const e=this._host.document.createElement("div");e.setAttribute("class","separator"),this._dropdown.appendChild(e)}this._dropdown.style.display="block"}else this.close()}close(){this._dropdown.style.display="none"}}};if(t.BrowserHost.BinaryStream=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0}get position(){return this._position}get length(){return this._length}stream(e){const s=this.read(e);return new t.BrowserHost.BinaryStream(s.slice(0))}seek(e){this._position=e>=0?e:this._length+e}skip(e){this._position+=e}peek(e){if(0===this._position&&void 0===e)return this._buffer;const t=this._position;this.skip(void 0!==e?e:this._length-this._position);const s=this._position;return this.seek(t),this._buffer.subarray(t,s)}read(e){if(0===this._position&&void 0===e)return this._position=this._length,this._buffer;const t=this._position;return this.skip(void 0!==e?e:this._length-this._position),this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._buffer[e]}},t.BrowserHost.BrowserFileContext=class{constructor(e,t,s){this._host=e,this._file=t,this._blobs={};for(const e of s)this._blobs[e.name]=e}get identifier(){return this._file.name}get stream(){return this._stream}request(e,s,i){if(void 0!==i)return this._host.request(e,s,i);const n=this._blobs[e];return n?new Promise(((i,r)=>{const o=new FileReader;o.onload=e=>{i(s?e.target.result:new t.BrowserHost.BinaryStream(new Uint8Array(e.target.result)))},o.onerror=t=>{let s="";const i=(t=t||this.window.event).target.error;switch(i.code){case i.NOT_FOUND_ERR:s="File not found '"+e+"'.";break;case i.NOT_READABLE_ERR:s="File not readable '"+e+"'.";break;case i.SECURITY_ERR:s="File access denied '"+e+"'.";break;default:s=i.message?i.message:"File read '"+i.code.toString()+"' error '"+e+"'."}r(new Error(s))},"utf-8"===s?o.readAsText(n,s):o.readAsArrayBuffer(n)})):Promise.reject(new Error("File not found '"+e+"'."))}require(e){return this._host.require(e)}exception(e,t){this._host.exception(e,t)}open(){return this.request(this._file.name,null).then((e=>{this._stream=e}))}},t.BrowserHost.BrowserContext=class{constructor(e,t,s,i){if(this._host=e,this._stream=i,s)this._identifier=s,this._base=t,this._base.endsWith("/")&&this._base.substring(0,this._base.length-1);else{const e=t.split("?")[0].split("/");this._identifier=e.pop(),this._base=e.join("/")}}get identifier(){return this._identifier}get stream(){return this._stream}request(e,t,s){return this._host.request(e,t,void 0===s?this._base:s)}require(e){return this._host.require(e)}exception(e,t){this._host.exception(e,t)}},"undefined"==typeof TextDecoder&&(TextDecoder=function(e){this._encoding=e},TextDecoder.prototype.decode=function(e){let t="";const s=e.length;let i=0;switch(this._encoding){case"utf-8":for(;i<s;){const s=e[i++];switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(s);break;case 12:case 13:{const n=e[i++];t+=String.fromCharCode((31&s)<<6|63&n);break}case 14:{const n=e[i++],r=e[i++];t+=String.fromCharCode((15&s)<<12|(63&n)<<6|(63&r)<<0);break}case 15:{const n=e[i++],r=e[i++],o=e[i++];t+=String.fromCodePoint((7&s)<<18|(63&n)<<12|(63&r)<<6|63&o)}}}break;case"ascii":for(;i<s;)t+=String.fromCharCode(e[i++])}return t}),"undefined"==typeof TextEncoder){TextEncoder=function(){},TextEncoder.prototype.encode=function(e){"use strict";const t=e.length;let s=-1;const i="undefined"==typeof Uint8Array?new Array(2*t):new Uint8Array(3*t);for(let n=0,r=0,o=0;o!==t;){if(n=e.charCodeAt(o),o+=1,n>=55296&&n<=56319){if(o===t){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;break}if(r=e.charCodeAt(o),!(r>=56320&&r<=57343)){i[s+=1]=239,i[s+=1]=191,i[s+=1]=189;continue}if(n=1024*(n-55296)+r-56320+65536,o+=1,n>65535){i[s+=1]=240|n>>>18,i[s+=1]=128|n>>>12&63,i[s+=1]=128|n>>>6&63,i[s+=1]=128|63&n;continue}}n<=127?i[s+=1]=0|n:n<=2047?(i[s+=1]=192|n>>>6,i[s+=1]=128|63&n):(i[s+=1]=224|n>>>12,i[s+=1]=128|n>>>6&63,i[s+=1]=128|63&n)}return"undefined"!=typeof Uint8Array?new Uint8Array(i.buffer.slice(0,s+1)):i.length===s+1?i:i.slice(0,s+1)},TextEncoder.prototype.toString=function(){return"[object TextEncoder]"};try{Object.defineProperty(TextEncoder.prototype,"encoding",{get:function(){if(Object.prototype.isPrototypeOf.call(TextEncoder.prototype,this))return"utf-8";throw TypeError("Illegal invocation")}})}catch(e){TextEncoder.prototype.encoding="utf-8"}"undefined"!=typeof Symbol&&(TextEncoder.prototype[Symbol.toStringTag]="TextEncoder")}if("undefined"==typeof URLSearchParams&&(URLSearchParams=function(e){const t=e=>e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(e=>decodeURIComponent(e)));if(this._dict={},"string"==typeof e){const s=(e=0===e.indexOf("?")?e.substring(1):e).split("&");for(const e of s){const s=e.indexOf("="),i=t(s>-1?e.substring(0,s):e),n=s>-1?t(e.substring(s+1)):"";Object.prototype.hasOwnProperty.call(this._dict,i)||(this._dict[i]=[]),this._dict[i].push(n)}}},URLSearchParams.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this._dict,e)?this._dict[e][0]:null}),HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(e,t,s){const i=this;setTimeout((function(){const n=atob(i.toDataURL(t,s).split(",")[1]),r=n.length,o=new Uint8Array(r);for(let e=0;e<r;e++)o[e]=n.charCodeAt(e);e(new Blob([o],{type:t||"image/png"}))}))}),!("scrollBehavior"in window.document.documentElement.style)){const e=Element.prototype.scrollTo;Element.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(null===arguments[0]||"object"!=typeof arguments[0]||void 0===arguments[0].behavior||"auto"===arguments[0].behavior||"instant"===arguments[0].behavior)return void e.apply(this,arguments);const t=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),s=e=>.5*(1-Math.cos(Math.PI*e)),i=e=>{const n=s(Math.min((t()-e.startTime)/468,1)),r=e.startX+(e.x-e.startX)*n,o=e.startY+(e.y-e.startY)*n;e.element.scrollLeft=r,e.element.scrollTop=o,r===e.x&&o===e.y||window.requestAnimationFrame(i.bind(window,e))},n={element:this,x:void 0===arguments[0].left?this.scrollLeft:~~arguments[0].left,y:void 0===arguments[0].top?this.scrollTop:~~arguments[0].top,startX:this.scrollLeft,startY:this.scrollTop,startTime:t()};i(n)}}window.addEventListener("load",(()=>{})),"object"==typeof e.exports&&(e.exports.BrowserHost=t.BrowserHost)},426:(e,t,s)=>{var i=i||{},n=n||s(152);i.TextReader=class{static open(e){const t=n.Decoder.open(e);let s="start";for(let e=0;e<4096;e++){const i=t.decode();if(void 0===i||"\0"===i){if(0===e)return null;break}if(i<=" "){if(" "!==i&&"\n"!==i&&"\r"!==i&&"\t"!==i)return null}else switch(s){case"start":if("#"===i){s="comment";break}if("["===i){s="list";break}if("{"===i){s="object";break}if(i>="a"&&i<="z"||i>="A"&&i<="Z"){s="";break}return null;case"list":if('"'===i||"-"===i||"+"===i||"{"===i||"["===i||i>="0"&&i<="9"){s="";break}return null;case"object":if('"'!=i)return null;s="";continue}}return new i.TextReader(e)}constructor(e){this._data=e,this._escape={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"}}read(){const e=n.Decoder.open(this._data),t=[];let s;this._decoder=e,this._position=0,this._char=e.decode(),this._whitespace();let r=!0;for(;;)if(Array.isArray(s)){this._whitespace();let e=this._char;if("]"===e){if(this._next(),this._whitespace(),t.length>0){s=t.pop(),r=!1;continue}return void 0!==this._char&&this._unexpected(),s}switch(r||(","!==this._char&&this._unexpected(),this._next(),this._whitespace(),e=this._char),r=!1,e){case"{":{this._next(),t.push(s);const e={};s.push(e),s=e,r=!0;break}case"[":{this._next(),t.push(s);const e=[];s.push(e),s=e,r=!0;break}default:s.push('"'===e?this._string():this._literal())}}else if(s instanceof Object){this._whitespace();let e=this._char;if("}"===e){if(this._next(),this._whitespace(),t.length>0){s=t.pop(),r=!1;continue}return void 0!==this._char&&this._unexpected(),s}if(r||(","!==this._char&&this._unexpected(),this._next(),this._whitespace(),e=this._char),r=!1,'"'===e){const n=this._string();switch(n){case"__proto__":case"constructor":case"prototype":throw new i.Error("Invalid key '"+n+"'"+this._location())}switch(this._whitespace(),":"!==this._char&&this._unexpected(),this._next(),this._whitespace(),e=this._char,e){case"{":{this._next(),t.push(s);const e={};s[n]=e,s=e,r=!0;break}case"[":{this._next(),t.push(s);const e=[];s[n]=e,s=e,r=!0;break}default:s[n]='"'===e?this._string():this._literal()}this._whitespace();continue}this._unexpected()}else{const e=this._char;switch(e){case"{":this._next(),this._whitespace(),s={},r=!0;break;case"[":this._next(),this._whitespace(),s=[],r=!0;break;default:{const t='"'===e?this._string():e>="0"&&e<="9"?this._number():this._literal();return this._whitespace(),void 0!==this._char&&this._unexpected(),t}}}}_next(){void 0===this._char&&this._unexpected(),this._position=this._decoder.position,this._char=this._decoder.decode()}_whitespace(){for(;" "===this._char||"\n"===this._char||"\r"===this._char||"\t"===this._char;)this._next()}_literal(){const e=this._char;if(e>="0"&&e<="9")return this._number();switch(e){case"t":return this._expect("true"),!0;case"f":return this._expect("false"),!1;case"n":return this._expect("null"),null;case"N":return this._expect("NaN"),NaN;case"I":return this._expect("Infinity"),1/0;case"-":return this._number()}this._unexpected()}_number(){let e="";if("-"===this._char&&(e="-",this._next()),"I"===this._char)return this._expect("Infinity"),-1/0;const t=this._char;if((t<"0"||t>"9")&&this._unexpected(),e+=t,this._next(),"0"===t){const e=this._char;e>="0"&&e<="9"&&this._unexpected()}for(;this._char>="0"&&this._char<="9";)e+=this._char,this._next();if("."===this._char){e+=".",this._next();const t=this._char;for((t<"0"||t>"9")&&this._unexpected();this._char>="0"&&this._char<="9";)e+=this._char,this._next()}if("e"===this._char||"E"===this._char){e+=this._char,this._next();const t=this._char;"-"!==t&&"+"!==t||(e+=this._char,this._next());const s=this._char;for((s<"0"||s>"9")&&this._unexpected(),e+=this._char,this._next();this._char>="0"&&this._char<="9";)e+=this._char,this._next()}return+e}_string(){let e="";for(this._next();'"'!=this._char;)if("\\"===this._char)if(this._next(),"u"===this._char){this._next();let t=0;for(let e=0;e<4;e++){const e=parseInt(this._char,16);isFinite(e)||this._unexpected(),this._next(),t=16*t+e}e+=String.fromCharCode(t)}else this._escape[this._char]?(e+=this._escape[this._char],this._next()):this._unexpected();else this._char<" "?this._unexpected():(e+=this._char,this._next());return this._next(),e}_expect(e){for(let t=0;t<e.length;t++)e[t]!==this._char&&this._unexpected(),this._next()}_unexpected(){let e=this._char;if(void 0===e)throw new i.Error("Unexpected end of JSON input.");if('"'===e)e="string";else if(e>="0"&&e<="9"||"-"===e)e="number";else{if(e<" "||e>""){const t=Object.keys(this._escape).filter((t=>this._escape[t]===e));e=1===t.length?"\\"+t:"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}e="token '"+e+"'"}throw new i.Error("Unexpected "+e+this._location())}_location(){let e,t=1,s=1;this._decoder.position=0;do{if(this._decoder.position===this._position)return" at "+t.toString()+":"+s.toString()+".";e=this._decoder.decode(),"\n"===e?(t++,s=1):s++}while(void 0!==e);return" at "+t.toString()+":"+s.toString()+"."}},i.BinaryReader=class{static open(e){const t=e instanceof Uint8Array?e:e.peek();return new i.BinaryReader(t)}constructor(e){this._buffer=e}read(){const e=this._buffer,t=e.length,s=new DataView(e.buffer,e.byteOffset,e.byteLength),n=new TextDecoder("ascii"),r=new TextDecoder("utf-8");let o=0;const a=e=>{if(o+=e,o>t)throw new i.Error("Expected "+(o+t)+" more bytes. The file might be corrupted. Unexpected end of file.",!0)},h=()=>{const n=o;a(4);const r=s.getInt32(n,4);if(r<5||n+r>t||0!=e[n+r-1])throw new i.Error("Invalid file size.",!0)};h();const c=[];let l={};for(;;){a(1);const t=e[o-1];if(0==t){if(0===c.length)break;l=c.pop();continue}const p=o;o=e.indexOf(0,p)+1;const d=n.decode(e.subarray(p,o-1));let _=null;switch(t){case 1:{const e=o;a(8),_=s.getFloat64(e,!0);break}case 2:{a(4);const t=s.getInt32(o-4,!0),n=o;if(a(t),_=r.decode(e.subarray(n,o-1)),"0x00"!=e[o-1])throw new i.Error("String missing terminal 0.",!0);break}case 3:h(),_={};break;case 4:h(),_=[];break;case 5:{const t=o;a(5);const n=s.getInt32(t,!0),r=e[t+4];if(0!==r)throw new i.Error("Unknown binary subtype '"+r+"'.",!0);a(n),_=e.subarray(t+5,o);break}case 8:if(a(1),_=e[o-1],_>1)throw new i.Error("Invalid boolean value '"+_+"'.",!0);_=1===_;break;case 10:_=null;break;case 16:{const e=o;a(4),_=s.getInt32(e,!0);break}case 17:{const e=o;a(8),_=s.getUint64(e,!0).toNumber();break}case 18:{const e=o;a(8),_=s.getInt64(e,!0).toNumber();break}default:throw new i.Error("Unknown value type '"+t+"'.",!0)}if(Array.isArray(l)){if(l.length!==parseInt(d,10))throw new i.Error("Invalid array index '"+d+"'.",!0);l.push(_)}else{switch(d){case"__proto__":case"constructor":case"prototype":throw new i.Error("Invalid key '"+d+"' at "+o.toString()+"'.",!0)}l[d]=_}3!==t&&4!==t||(c.push(l),l=_)}if(o!==t)throw new i.Error("Unexpected data at '"+o.toString()+"'.",!0);return l}},i.Error=class extends Error{constructor(e,t){super(e),this.name=t?"BSON Error":"JSON Error"}},"object"==typeof e.exports&&(e.exports.TextReader=i.TextReader,e.exports.BinaryReader=i.BinaryReader)},617:e=>{var t=t||{};t.Array=class{constructor(e){if(e){const s=new t.BinaryReader(e),i=[147,78,85,77,80,89];if(!s.read(6).every(((e,t)=>e==i[t])))throw new t.Error("Invalid signature.");const n=s.byte(),r=s.byte();if(n>3)throw new t.Error("Invalid version '"+[n,r].join(".")+"'.");const o=n>=2?s.uint32():s.uint16(),a=new TextDecoder(n>=3?"utf-8":"ascii").decode(s.read(o)),h=t.HeaderReader.create(a).read();if(!h.descr||h.descr.length<2)throw new t.Error("Missing property 'descr'.");if(!h.shape)throw new t.Error("Missing property 'shape'.");switch(this._shape=h.shape,this._byteOrder=h.descr[0],this._byteOrder){case"|":this._dataType=h.descr.substring(1),this._data=s.read(s.size-s.position);break;case">":case"<":{if(3!==h.descr.length)throw new t.Error("Unsupported data type '"+h.descr+"'.");this._dataType=h.descr.substring(1);const e=parseInt(h.descr[2],10)*this._shape.reduce(((e,t)=>e*t),1);this._data=s.read(e);break}default:throw new t.Error("Unsupported data type '"+h.descr+"'.")}h.fortran_order&&(this._data=null)}}get data(){return this._data}set data(e){this._data=e}get dataType(){return this._dataType}set dataType(e){this._dataType=e}get shape(){return this._shape}set shape(e){this._shape=e}get byteOrder(){return this._byteOrder}set byteOrder(e){this._byteOrder=e}toBuffer(){const e=new t.BinaryWriter;e.write([147,78,85,77,80,89]),e.byte(1),e.byte(0);const s={itemSize:1,position:0,dataType:this._dataType,byteOrder:this._byteOrder||"<",shape:this._shape,descr:""};if("<"!==s.byteOrder&&">"!==s.byteOrder)throw new t.Error("Unknown byte order '"+this._byteOrder+"'.");if(2!==s.dataType.length||"f"!==s.dataType[0]&&"i"!==s.dataType[0]&&"u"!==s.dataType[0])throw new t.Error("Unsupported data type '"+this._dataType+"'.");s.itemSize=parseInt(s.dataType[1],10);let i="";switch(this._shape.length){case 0:throw new t.Error("Invalid shape.");case 1:i="("+this._shape[0].toString()+",)";break;default:i="("+this._shape.map((e=>e.toString())).join(", ")+")"}let n="{ "+["'descr': '"+s.byteOrder+s.dataType+"'","'fortran_order': False","'shape': "+i].join(", ")+" }";n+=" ".repeat(16-(n.length+2+8+1&15))+"\n",e.string(n);const r=s.itemSize*this._shape.reduce(((e,t)=>e*t),1);return s.data=new Uint8Array(r),s.view=new DataView(s.data.buffer,s.data.byteOffset,r),t.Array._encodeDimension(s,this._data,0),e.write(s.data),e.toBuffer()}static _encodeDimension(e,s,i){const n=e.shape[i],r="<"===e.byteOrder;if(i==e.shape.length-1)for(let t=0;t<n;t++){switch(e.dataType){case"f2":e.view.setFloat16(e.position,s[t],r);break;case"f4":e.view.setFloat32(e.position,s[t],r);break;case"f8":e.view.setFloat64(e.position,s[t],r);break;case"i1":e.view.setInt8(e.position,s[t],r);break;case"i2":e.view.setInt16(e.position,s[t],r);break;case"i4":e.view.setInt32(e.position,s[t],r);break;case"i8":e.view.setInt64(e.position,s[t],r);break;case"u1":e.view.setUint8(e.position,s[t],r);break;case"u2":e.view.setUint16(e.position,s[t],r);break;case"u4":e.view.setUint32(e.position,s[t],r);break;case"u8":e.view.setUint64(e.position,s[t],r)}e.position+=e.itemSize}else for(let r=0;r<n;r++)t.Array._encodeDimension(e,s[r],i+1)}},t.BinaryReader=class{constructor(e){this._buffer=e,this._position=0}get position(){return this._position}get size(){return this._buffer.length}byte(){return this._buffer[this._position++]}read(e){const t=this._buffer.slice(this._position,this._position+e);return this._position+=e,t}uint16(){return this.byte()|this.byte()<<8}},t.BinaryWriter=class{constructor(){this._length=0,this._head=null,this._tail=null}byte(e){this.write([e])}uint16(e){this.write([255&e,e>>8&255])}write(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e[s];this._write(t)}string(e){this.uint16(e.length);const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);this._write(t)}_write(e){const t={buffer:e,next:null};this._tail?this._tail.next=t:this._head=t,this._tail=t,this._length+=t.buffer.length}toBuffer(){const e=new Uint8Array(this._length);let t=0,s=this._head;for(;null!=s;)e.set(s.buffer,t),t+=s.buffer.length,s=s.next;return e}},t.HeaderReader=class{constructor(e){this._text=e,this._escape={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"}}static create(e){return new t.HeaderReader(e)}read(){const e=new t.HeaderReader.StringDecoder(this._text),s=[];let i,n;this._decoder=e,this._position=0,this._char=e.decode(),this._whitespace();let r=!0;for(;;){this._whitespace();let e,o,a,h=this._char;if(r||"}"===this._char||"]"===this._char||")"===this._char||(","!==this._char&&this._unexpected(),this._next(),this._whitespace(),h=this._char),h===n){if(this._next(),this._whitespace(),s.length>0){n=s.pop(),i=s.pop(),r=!1;continue}return void 0!==this._char&&this._unexpected(),i}if(r=!1,"}"===n){switch(e=this._string(),e){case"__proto__":case"constructor":case"prototype":throw new t.Error("Invalid key '"+e+"'"+this._location())}this._whitespace(),":"!==this._char&&this._unexpected(),this._next()}switch(this._whitespace(),h=this._char,h){case"{":this._next(),o={},a="}",r=!0;break;case"(":case"[":this._next(),o=[],a="["===h?"]":")",r=!0;break;default:o="'"===h?this._string():this._literal()}if(this._whitespace(),!a&&!i)return void 0!==this._char&&this._unexpected(),o;switch(n){case"}":i[e]=o;break;case")":case"]":i.push(o)}a&&(i&&(s.push(i),s.push(n)),i=o,n=a)}}_next(){void 0===this._char&&this._unexpected(),this._position=this._decoder.position,this._char=this._decoder.decode()}_whitespace(){for(;" "===this._char||"\n"===this._char||"\r"===this._char||"\t"===this._char;)this._next()}_literal(){const e=this._char;if(e>="0"&&e<="9")return this._number();switch(e){case"T":return this._expect("True"),!0;case"F":return this._expect("False"),!1;case"N":return this._expect("None"),null;case"n":return this._expect("nan"),NaN;case"i":return this._expect("inf"),1/0;case"-":return this._number()}this._unexpected()}_number(){let e="";if("-"===this._char&&(e="-",this._next()),"i"===this._char)return this._expect("inf"),-1/0;const t=this._char;if((t<"0"||t>"9")&&this._unexpected(),e+=t,this._next(),"0"===t){const e=this._char;e>="0"&&e<="9"&&this._unexpected()}for(;this._char>="0"&&this._char<="9";)e+=this._char,this._next();if("."===this._char){e+=".",this._next();const t=this._char;for((t<"0"||t>"9")&&this._unexpected();this._char>="0"&&this._char<="9";)e+=this._char,this._next()}if("e"===this._char||"E"===this._char){e+=this._char,this._next();const t=this._char;"-"!==t&&"+"!==t||(e+=this._char,this._next());const s=this._char;for((s<"0"||s>"9")&&this._unexpected(),e+=this._char,this._next();this._char>="0"&&this._char<="9";)e+=this._char,this._next()}return+e}_string(){let e="";for(this._next();"'"!=this._char;)if("\\"===this._char)if(this._next(),"u"===this._char){this._next();let t=0;for(let e=0;e<4;e++){const e=parseInt(this._char,16);isFinite(e)||this._unexpected(),this._next(),t=16*t+e}e+=String.fromCharCode(t)}else this._escape[this._char]?(e+=this._escape[this._char],this._next()):this._unexpected();else this._char<" "?this._unexpected():(e+=this._char,this._next());return this._next(),e}_expect(e){for(let t=0;t<e.length;t++)e[t]!==this._char&&this._unexpected(),this._next()}_unexpected(){let e=this._char;if(void 0===e)throw new t.Error("Unexpected end of JSON input.");if(e<" "||e>""){const t=Object.keys(this._escape).filter((t=>this._escape[t]===e));e=1===t.length?"\\"+t:"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}throw e="token '"+e+"'",new t.Error("Unexpected "+e+this._location())}_location(){let e,t=1,s=1;this._decoder.position=0;do{if(this._decoder.position===this.position)return" at "+t.toString()+":"+s.toString()+".";e=this._decoder.decode(),"\n"===e?(t++,s=1):s++}while(void 0!==e);return" at "+t.toString()+":"+s.toString()+"."}},t.HeaderReader.StringDecoder=class{constructor(e){this.text=e,this.position=0,this.length=e.length}decode(){return this.position<this.length?this.text[this.position++]:void 0}},t.Error=class extends Error{constructor(e){super(e),this.name="NumPy Error"}},"object"==typeof e.exports&&(e.exports.Array=t.Array)},66:(e,t,s)=>{var i=i||{},n=n||s(243),r=r||s(152);i.get=e=>(i._map=i._map||new Map,i._map.has(e)||i._map.set(e,{}),i._map.get(e)),i.BinaryReader=class{static open(e){return new i.BinaryReader(e)}constructor(e){const t=e instanceof Uint8Array?e:e.peek();this._buffer=t,this._length=t.length,this._position=0,this._view=new DataView(t.buffer,t.byteOffset,t.byteLength),this._utf8Decoder=new TextDecoder("utf-8")}signature(){const e=new Map;this._position=0;try{if(this._length>0){const t=7&this._buffer[0];if(4!==t&&6!==t&&7!==t){const t=this.length;for(;this._position<t;){const t=this.uint32(),s=t>>>3,i=7&t;if(i>5||0===s){e.clear();break}if(e.set(s,i),!this._skipType(i)){e.clear();break}}}}}catch(t){e.clear()}return this._position=0,e}decode(){let e={};this._position=0;try{const t=e=>{const s=this._uint32();if(void 0===s)return;const i=this.position+s;if(!(i>e)){try{const e={};for(;this.position<i;){const s=this._uint32();if(void 0===s)return this.seek(i),2;const n=s>>>3,r=7&s;if(r>5||0===n)return this.seek(i),2;if(2===r){const s=e[n];if(2!==s){const r=t(i);if(this.position>i)return this.seek(i),2;if(void 0===r)return this.seek(i),2;if(2===r)e[n]=r;else if(s)for(const e of Object.entries(r))2===s[e[0]]&&2!==e[1]||(s[e[0]]=e[1]);else e[n]=r;continue}}if(e[n]=r,!this._skipType(r))return this.seek(i),2}if(this.position===i)return e}catch(e){}return this.seek(i),2}};if(this._length>0){const s=7&this._buffer[0];if(4!==s&&6!==s&&7!==s){const s=this.length;for(;this.position<s;){const i=this.uint32(),n=i>>>3,r=7&i;if(r>5||0===n){e={};break}if(2===r){const i=e[n];if(2!==i){const r=t(s);if(void 0===r){e={};break}if(2===r)e[n]=r;else if(i)for(const e of Object.entries(r))2===i[e[0]]&&2!==e[1]||(i[e[0]]=e[1]);else e[n]=r;continue}}if(e[n]=r,!this._skipType(r)){e={};break}}}}}catch(t){e={}}return this._position=0,e}get length(){return this._length}get position(){return this._position}seek(e){this._position=e>=0?e:this._length+e}string(){return this._utf8Decoder.decode(this.bytes())}bool(){return 0!==this.uint32()}byte(){if(this._position<this._length)return this._buffer[this._position++];throw new RangeError("Unexpected end of file.")}bytes(){const e=this.uint32(),t=this._position;return this.skip(e),this._buffer.slice(t,this._position)}uint32(){let e;e=this.byte();let t=(127&e)>>>0;if(e<128)return t;if(e=this.byte(),t=(t|(127&e)<<7)>>>0,e<128)return t;if(e=this.byte(),t=(t|(127&e)<<14)>>>0,e<128)return t;if(e=this.byte(),t=(t|(127&e)<<21)>>>0,e<128)return t;if(e=this.byte(),t=(t|(15&e)<<28)>>>0,e<128)return t;if(255!==this.byte()||255!==this.byte()||255!==this.byte()||255!==this.byte()||1!==this.byte())throw new i.Error("Varint is not 32-bit.");return t}int32(){return 0|this.uint32()}sint32(){const e=this.uint32();return e>>>1^-(1&e)|0}int64(){return this._varint().toInt64()}uint64(){return this._varint().toInt64()}sint64(){return this._varint().zzDecode().toInt64()}fixed64(){const e=this._position;return this.skip(8),this._view.getUint64(e,!0)}sfixed64(){const e=this._position;return this.skip(8),this._view.getInt64(e,!0)}fixed32(){const e=this._position;return this.skip(4),this._view.getUint32(e,!0)}sfixed32(){const e=this._position;return this.skip(4),this._view.getInt32(e,!0)}float(){const e=this._position;return this.skip(4),this._view.getFloat32(e,!0)}double(){const e=this._position;return this.skip(8),this._view.getFloat64(e,!0)}array(e,t,s){if(2==(7&s)){const s=this.uint32()+this._position;for(;this._position<s;)e.push(t())}else e.push(t());return e}floats(e,t){if(2==(7&t)){if(e&&e.length>0)throw new i.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t;s>this._length&&this._unexpected();const n=t>>>2;e=t>1048576?new Float32Array(n):new Array(n);let r=this._position;for(let t=0;t<n;t++)e[t]=this._view.getFloat32(r,!0),r+=4;this._position=s}else void 0!==e&&e.length<1e6?e.push(this.float()):(e=void 0,this.float());return e}doubles(e,t){if(2==(7&t)){if(e&&e.length>0)throw new i.Error("Invalid packed float array.");const t=this.uint32(),s=this._position+t;s>this._length&&this._unexpected();const n=t>>>3;e=t>1048576?new Float64Array(n):new Array(n);let r=this._position;for(let t=0;t<n;t++)e[t]=this._view.getFloat64(r,!0),r+=8;this._position=s}else void 0!==e&&e.length<1e6?e.push(this.double()):(e=void 0,this.double());return e}skip(e){this._position+=e,this._position>this._length&&this._unexpected()}skipVarint(){do{this._position>=this._length&&this._unexpected()}while(128&this._buffer[this._position++])}_uint32(){let e;if(this._position<this._length){e=this._buffer[this._position++];let t=(127&e)>>>0;if(e<128)return t;if(this._position<this._length){if(e=this._buffer[this._position++],t=(t|(127&e)<<7)>>>0,e<128)return t;if(this._position<this._length){if(e=this._buffer[this._position++],t=(t|(127&e)<<14)>>>0,e<128)return t;if(this._position<this._length){if(e=this._buffer[this._position++],t=(t|(127&e)<<21)>>>0,e<128)return t;if(this._position<this._length){if(e=this._buffer[this._position++],t=(t|(15&e)<<28)>>>0,e<128)return t;if(255!==this.byte()||255!==this.byte()||255!==this.byte()||255!==this.byte()||1!==this.byte())return;return t}}}}}}_skipType(e){switch(e){case 0:do{if(this._position>=this._length)return!1}while(128&this._buffer[this._position++]);break;case 1:if(this._position+8>=this._length)return!1;this._position+=8;break;case 2:{const e=this._uint32();if(void 0===e)return!1;if(this._position+e>this._end)return!1;this._position+=e;break}case 3:for(;;){const e=this._uint32();if(void 0===e)return!1;const t=7&e;if(4===t)break;if(!this._skipType(t))return!1}break;case 5:if(this._position+4>=this._length)return!1;this._position+=4;break;default:return!1}return!0}skipType(e){switch(e){case 0:this.skipVarint();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw new i.Error("Invalid type "+e+" at offset "+this._position+".")}}entry(e,t,s){this.skipVarint(),this._position++;let i=t();Number.isInteger(i)||"string"==typeof i||(i=i.toNumber()),this._position++;const n=s();e[i]=n}_varint(){const e=new i.LongBits(0,0);let t=0;if(!(this._length-this._position>4)){for(;t<3;t++)if(this._position>=this._length&&this._unexpected(),e.lo=(e.lo|(127&this._buffer[this._position])<<7*t)>>>0,this._buffer[this._position++]<128)return e;return e.lo=(e.lo|(127&this._buffer[this._position++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this._buffer[this._position])<<7*t)>>>0,this._buffer[this._position++]<128)return e;if(e.lo=(e.lo|(127&this._buffer[this._position])<<28)>>>0,e.hi=(e.hi|(127&this._buffer[this._position])>>4)>>>0,this._buffer[this._position++]<128)return e;if(t=0,this._length-this._position>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this._buffer[this._position])<<7*t+3)>>>0,this._buffer[this._position++]<128)return e}else for(;t<5;++t)if(this._position>=this._length&&this._unexpected(),e.hi=(e.hi|(127&this._buffer[this._position])<<7*t+3)>>>0,this._buffer[this._position++]<128)return e;throw new i.Error("Invalid varint encoding.")}_unexpected(){throw new RangeError("Unexpected end of file.")}},i.TextReader=class{static open(e){const t=e instanceof Uint8Array?e:e.peek(),s=r.Decoder.open(t);let n=!0;for(let e=0;e<256;e++){const t=s.decode();if(void 0===t){if(0===e)return null;break}if("\0"===t)return null;const i=" "===t||"\n"===t||"\r"===t||"\t"===t;if(t<" "&&!i)return null;if(n&&!i){if(n=!1,"#"===t||"["===t)continue;if(t>="a"&&t<="z"||t>="A"&&t<="Z")continue;return null}}return new i.TextReader(t)}constructor(e){this._decoder=r.Decoder.open(e),this.reset()}signature(){const e=new Map;this.reset();try{for(this.start(!1);!this.end();){const t=this.tag();if("{"===this.token())for(this.start(),e.set(t,!0);!this.end();){const s=this.tag();e.set(t+"."+s,!0),this.skip(),this.match(",")}else this.skip(),e.set(t,!0)}}catch(e){}return this.reset(),e}reset(){this._decoder.position=0,this._position=0,this._token=void 0,this._depth=0,this._arrayDepth=0,this._token="",this.next()}start(){this._depth>0&&this.expect("{"),this._depth++}end(){if(this._depth<=0)throw new i.Error("Invalid depth "+this.location());if("}"===this._token)return this.expect("}"),this.match(";"),this._depth--,!0;if(void 0===this._token){if(1!==this._depth)throw new i.Error("Unexpected end of input"+this.location());return this._depth--,!0}return!1}tag(){const e=this._token;return this.next(),"["!==this._token&&"{"!==this._token&&this.expect(":"),e}integer(){const e=this._token,t=Number.parseInt(e,10);if(Number.isNaN(e-t))throw new i.Error("Couldn't parse integer '"+e+"'"+this.location());return this.next(),this.semicolon(),t}double(){let e=this._token;if(e.startsWith("nan"))return NaN;if(e.startsWith("inf"))return 1/0;if(e.startsWith("-inf"))return-1/0;e.endsWith("f")&&(e=e.substring(0,e.length-1));const t=Number.parseFloat(e);if(Number.isNaN(e-t))throw new i.Error("Couldn't parse float '"+e+"'"+this.location());return this.next(),this.semicolon(),t}float(){return this.double()}uint32(){return this.integer()}int32(){return this.integer()}sint32(){return this.integer()}int64(){return n.Int64.create(this.integer())}uint64(){return n.Uint64.create(this.integer())}sint64(){return n.Int64.create(this.integer())}fixed64(){return n.Uint64.create(this.integer())}sfixed64(){return n.Int64.create(this.integer())}fixed32(){return this.integer()}sfixed32(){return this.integer()}string(){const e=this._token;if(e.length<2)throw new i.Error("String is too short"+this.location());const t=e[0];if("'"!==t&&'"'!==t)throw new i.Error("String is not in quotes"+this.location());if(t!==e[e.length-1])throw new i.Error("String quotes do not match"+this.location());const s=e.substring(1,e.length-1);return this.next(),this.semicolon(),s}bool(){const e=this._token;switch(e){case"true":case"True":case"1":return this.next(),this.semicolon(),!0;case"false":case"False":case"0":return this.next(),this.semicolon(),!1}throw new i.Error("Couldn't parse boolean '"+e+"'"+this.location())}bytes(){const e=this.string(),t=e.length,s=new Uint8Array(t);for(let i=0;i<t;i++)s[i]=e.charCodeAt(i);return s}enum(e){const t=this._token;let s;if(Object.prototype.hasOwnProperty.call(e,t))s=e[t];else if(s=Number.parseInt(t,10),Number.isNaN(t-s))throw new i.Error("Couldn't parse enum '"+(void 0===t?"":t)+"'"+this.location());return this.next(),this.semicolon(),s}any(e){this.start();const t=e();if(this._token.startsWith("[")&&this._token.endsWith("]"))t.type_url=this._token.substring(1,this._token.length-1).trim(),this.next(),this.match(":"),t.value=this.read(),this.match(";"),this.end()||this.expect("}");else for(;!this.end();){const e=this.tag();switch(e){case"type_url":t.type_url=this.string();break;case"value":t.value=this.bytes();break;default:this.field(e,t)}}return t}anyarray(e,t){if(this.start(),this._token.startsWith("[")&&this._token.endsWith("]"))for(;!this.end();)if(this._token.startsWith("[")&&this._token.endsWith("]")){const s=t();s.type_url=this._token.substring(1,this._token.length-1).trim(),this.next(),this.match(":"),s.value=this.read(),this.match(";"),e.push(s)}else this.expect("[");else{const s=t();for(;!this.end();){const e=this.tag();switch(e){case"type_url":s.type_url=this.string();break;case"value":s.value=this.bytes();break;default:this.field(e,s)}}e.push(s)}}entry(e,t,s){let i,n;for(this.start();!this.end();)switch(this.tag()){case"key":i=t();break;case"value":n=s()}e[i]=n}array(e,t){if(this.first())for(;!this.last();)switch(e.push(t()),this._token){case",":this.next();break;case"]":break;default:this.handle(this._token)}else e.push(t())}first(){return!!this.match("[")&&(this._arrayDepth++,!0)}last(){return!!this.match("]")&&(this._arrayDepth--,!0)}read(){const e=this._position;this.skip();const t=this._position,s=this._decoder.position;this._decoder.position=e;let i="";for(;this._decoder.position<t;)i+=this._decoder.decode();return this._decoder.position=s,i}skip(){switch(this._token){case"{":{const e=this._depth;for(this.start();!this.end()||e<this._depth;)"{"===this._token?this.start():"}"!==this._token&&(this.next(),this.match(";"));break}case"[":{const e=this._arrayDepth;for(this.first();!this.last()||e<this._arrayDepth;)this.next(),"["===this._token?this.first():void 0===this._token&&this.handle(this._token);break}default:this.next(),this.semicolon()}}handle(e){throw new i.Error("Unexpected token '"+e+"'"+this.location())}field(e){throw new i.Error("Unknown field '"+e+"'"+this.location())}token(){return this._token}next(){if(void 0===this._token)throw new i.Error("Unexpected end of input"+this.location());this._position=this._decoder.position;let e=this._decoder.decode();for(;;){switch(e){case" ":case"\n":case"\r":case"\t":this._position=this._decoder.position,e=this._decoder.decode();continue;case"#":do{if(e=this._decoder.decode(),void 0===e)return void(this._token=void 0)}while("\n"!==e);this._position=this._decoder.position,e=this._decoder.decode();continue}break}if(void 0!==e){if(e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e){let t=e,s=this._decoder.position;for(;e=this._decoder.decode(),void 0!==e&&"\n"!==e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"+"===e||"-"===e);)t+=e,s=this._decoder.position;return this._decoder.position=s,void(this._token=t)}switch(e){case"{":case"}":case":":case",":case"]":case";":return void(this._token=e);case"[":{let t=e,s=this._decoder.position,i=this._decoder.decode();if(void 0!==i&&i>="a"&&i<="z"||i>="A"&&i<="Z")for(t+=i;i=this._decoder.decode(),void 0!==i&&"\n"!==i;)if(i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"||"."===i||"/"===i)t+=i,s=this._decoder.position;else if("]"===i)return void(this._token=t+i);return this._decoder.position=s,void(this._token="[")}case'"':case"'":{const t=e;let s=e;for(;;){if(e=this._decoder.decode(),void 0===e||"\n"===e)throw new i.Error("Unexpected end of string"+this.location());if("\\"!=e){if(s+=e,e===t)break}else{if(e=this._decoder.decode(),void 0===e||"\n"===e)throw new i.Error("Unexpected end of string"+this.location());switch(e){case"\\":e="\\";break;case"'":e="'";break;case'"':e='"';break;case"r":e="\r";break;case"n":e="\n";break;case"t":e="\t";break;case"b":e="\b";break;case"x":case"X":{let t=0;for(let e=0;e<2;e++){let e=this._decoder.decode();if(void 0===e)throw new i.Error("Unexpected end of string"+this.location());if(e=e.charCodeAt(0),e=e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:e>=48&&e<=57?e-48:-1,-1===e)throw new i.Error("Unexpected hex digit '"+e+"' in bytes string"+this.location());t=t<<4|e}e=String.fromCharCode(t);break}default:{if(e<"0"||e>"9")throw new i.Error("Unexpected character '"+e+"' in string"+this.location());let t=0,s=e;if(s<"0"||s>"9")throw new i.Error("Unexpected octal digit '"+s+"' in bytes string"+this.location());if(s=s.charCodeAt(0),t=t<<3|s-48,s=this._decoder.decode(),void 0===s)throw new i.Error("Unexpected end of string"+this.location());if(s<"0"||s>"9")throw new i.Error("Unexpected octal digit '"+s+"' in bytes string"+this.location());if(s=s.charCodeAt(0),t=t<<3|s-48,s=this._decoder.decode(),void 0===s)throw new i.Error("Unexpected end of string"+this.location());if(s<"0"||s>"9")throw new i.Error("Unexpected octal digit '"+s+"' in bytes string"+this.location());s=s.charCodeAt(0),t=t<<3|s-48,e=String.fromCharCode(t);break}}s+=e}}return void(this._token=s)}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":case"+":case".":{let t=e,s=this._decoder.position;for(;e=this._decoder.decode(),void 0!==e&&"\n"!==e&&(e>="0"&&e<="9"||"_"===e||"+"===e||"-"===e||"."===e||"e"===e||"E"===e);)t+=e,s=this._decoder.position;return this._decoder.position=s,void(this._token=t)}}throw new i.Error("Unexpected token '"+e+"'"+this.location())}this._token=void 0}expect(e){if(this._token!==e)throw new i.Error("Unexpected '"+this._token+"' instead of '"+e+"'"+this.location());this.next()}match(e){return e==this._token&&(this.next(),!0)}location(){let e,t=1,s=1;this._decoder.position=0;do{if(this._decoder.position===this._position)return" at "+t.toString()+":"+s.toString()+".";e=this._decoder.decode(),"\n"===e?(t++,s=1):s++}while(void 0!==e);return" at "+t.toString()+":"+s.toString()+"."}semicolon(){0===this._arrayDepth&&this.match(";")}},i.Int64=n.Int64,i.Uint64=n.Uint64,i.LongBits=class{constructor(e,t){this.lo=e>>>0,this.hi=t>>>0}zzDecode(){const e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}toUint64(){return new n.Uint64(this.lo,this.hi)}toInt64(){return new n.Int64(this.lo,this.hi)}},i.Error=class extends Error{constructor(e){super(e),this.name="Protocol Buffer Error",this.message=e}},"object"==typeof e.exports&&(e.exports.BinaryReader=i.BinaryReader,e.exports.TextReader=i.TextReader,e.exports.Error=i.Error,e.exports.Int64=i.Int64,e.exports.Uint64=i.Uint64,e.exports.get=i.get)},383:e=>{var t=t||{};t.Parser=class{constructor(e,s,i){this._tokenizer=new t.Tokenizer(e,s),this._debug=i,t.Parser._precedence||(t.Parser._precedence={or:2,and:3,not:4,in:5,instanceof:5,is:5,"<":5,">":5,"<=":5,">=":5,"<>":5,"==":5,"!=":5,"|":6,"^":7,"&":8,"<<":9,">>":9,"+":10,"-":10,"*":11,"@":11,"/":11,"//":11,"%":11,"~":13,"**":14})}parse(){const e=this._node("program");for(e.body=[];!this._tokenizer.match("eof");){const s=this._parseStatement();if(s)e.body.push(s);else if(!(this._tokenizer.eat("\n")||this._tokenizer.eat(";")||"eof"==this._tokenizer.peek().type||this._tokenizer.eat("indent")&&"eof"==this._tokenizer.peek().type))throw new t.Error("Unknown statement"+this._tokenizer.location())}return e}_parseSuite(){const e=this._node("block");e.statements=[];let s=null;if(this._tokenizer.eat("\n")){if(this._tokenizer.eat("indent"))for(;!this._tokenizer.eat("eof")&&!this._tokenizer.eat("dedent");)if(!this._tokenizer.eat(";"))if(s=this._parseStatement(),s)e.statements.push(s);else if(!this._tokenizer.eat("\n")&&!this._tokenizer.match("dedent")&&!this._tokenizer.match("eof"))throw new t.Error("Empty statement"+this._tokenizer.location())}else if(!this._tokenizer.eat("eof")){for(;!this._tokenizer.match("\n")&&!this._tokenizer.match("eof")&&!this._tokenizer.match("dedent");)if(!this._tokenizer.eat(";")){if(s=this._parseStatement(),!s)throw new t.Error("Empty statement"+this._tokenizer.location());e.statements.push(s)}this._tokenizer.eat("\n")}return e}_parseStatement(){let e=this._node();if(e=this._eat("id","break"),e)return e;if(e=this._eat("id","continue"),e)return e;if(e=this._eat("id","return"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","raise"),e)return e.exception=this._parseExpression(-1,["from"]),this._tokenizer.eat("id","from")?e.from=this._parseExpression():this._tokenizer.eat(",")&&(e.exception=[e.exception],e.exception.push(this._parseExpression()),this._tokenizer.eat(",")&&e.exception.push(this._parseExpression())),e;if(e=this._eat("id","assert"),e){for(e.condition=this._parseExpression();this._tokenizer.eat(",");)e.condition={type:"list",value:[e.condition]},e.condition.value.push(this._parseExpression());return e}if(e=this._eat("id","exec"),e){if(e.variable=this._parseExpression(-1,["in"]),this._tokenizer.eat("in"))do{e.target=e.target||[],e.target.push(this._parseExpression(-1,["in"],!1))}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","global"),e){e.variable=[];do{e.variable.push(this._parseName())}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","nonlocal"),e){e.variable=[];do{e.variable.push(this._parseName())}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","import"),e){e.modules=[];do{const t=this._node("module");t.name=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(t.as=this._parseExpression(-1,[],!1)),e.modules.push(t)}while(this._tokenizer.eat(","));return e}if(e=this._eat("id","from"),e){const t=this._tokenizer.peek();t&&Array.from(t.type).every((e=>"."==e))?(e.from=this._eat(t.type),e.from.expression=this._parseExpression()):e.from=this._parseExpression(),this._tokenizer.expect("id","import"),e.import=[];const s=this._tokenizer.eat("(");do{const t=this._node();t.symbol=this._parseExpression(-1,[],!1),this._tokenizer.eat("id","as")&&(t.as=this._parseExpression(-1,[],!1)),e.import.push(t)}while(this._tokenizer.eat(","));return s&&this._tokenizer.expect(")"),e}if(e=this._eat("id","class"),e)return e.name=this._parseName().value,"("===this._tokenizer.peek().value&&(e.base=this._parseArguments()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;const s=this._eat("id","async");if(s&&!this._tokenizer.match("id","def")&&!this._tokenizer.match("id","with")&&!this._tokenizer.match("id","for"))throw new t.Error("Expected 'def', 'with' or 'for'"+this._tokenizer.location());if(e=this._eat("id","def"),e)return s&&(e.async=s),e.name=this._parseName().value,this._tokenizer.expect("("),e.parameters=this._parseParameters(")"),this._tokenizer.eat("->")&&(e.returnType=this._parseType()),this._tokenizer.expect(":"),e.body=this._parseSuite(),e;if(e=this._eat("id","del"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","print"),e)return e.expression=this._parseExpression(-1,[],!0),e;if(e=this._eat("id","if"),e){e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.then=this._parseSuite();let t=e;for(this._tokenizer.eat("\n");this._tokenizer.eat("id","elif");)t.else=this._node("if"),t=t.else,t.condition=this._parseExpression(),this._tokenizer.expect(":"),t.then=this._parseSuite(),this._tokenizer.eat("\n");return this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),t.else=this._parseSuite()),e}if(e=this._eat("id","while"),e)return e.condition=this._parseExpression(),this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e;if(e=this._eat("id","pass"),e)return e;if(e=this._eat("id","for"),e){for(e.variable=[],e.variable.push(this._parseExpression(-1,["in"]));this._tokenizer.eat(",");){if(this._tokenizer.match("id","in")){e.variable.push({});break}e.variable.push(this._parseExpression(-1,["in"]))}for(this._tokenizer.expect("id","in"),e.target=[],e.target.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")){e.target.push({});break}e.target.push(this._parseExpression(-1,["in"]))}return this._tokenizer.expect(":"),e.body=this._parseSuite(),this._tokenizer.eat("id","else")&&(this._tokenizer.expect(":"),e.else=this._parseSuite()),e}if(e=this._eat("id","with"),e){s&&(e.async=s),e.item=[];do{const t=this._node();t.type="with_item",t.expression=this._parseExpression(),this._tokenizer.eat("id","as")&&(t.variable=this._parseExpression()),e.item.push(t)}while(this._tokenizer.eat(","));return this._tokenizer.expect(":"),e.body=this._parseSuite(),e}if(e=this._eat("id","try"),e){for(this._tokenizer.expect(":"),e.body=this._parseSuite(),e.except=[];this._tokenizer.match("id","except");){const t=this._node("except");for(this._tokenizer.expect("id","except"),t.clause=[],t.clause.push(this._parseExpression());this._tokenizer.eat(",");){if(this._tokenizer.match(":")||this._tokenizer.match("as")){t.clause.push({});break}t.clause.push(this._parseExpression())}this._tokenizer.eat("id","as")&&(t.variable=this._parseExpression()),this._tokenizer.expect(":"),t.body=this._parseSuite(),e.except.push(t)}return this._tokenizer.match("id","else")&&(e.else=this._node("else"),this._tokenizer.expect("id","else"),this._tokenizer.expect(":"),e.else.body=this._parseSuite()),this._tokenizer.match("id","finally")&&(e.finally=this._node("finally"),this._tokenizer.expect("id","finally"),this._tokenizer.expect(":"),e.finally.body=this._parseSuite()),e}if(this._tokenizer.match("@")){if(e=this._node("decorator"),this._tokenizer.expect("@"),e.value=this._parseExpression(),!e.value||"call"!==e.value.type&&"id"!==e.value.type&&"."!==e.value.type)throw new t.Error("Invalid decorator"+this._tokenizer.location());return e}const i=this._parseExpression(-1,[],!0);if(i){if("id"==i.type&&this._tokenizer.eat(":"))return e=this._node("var"),e.name=i.value,e.location=i.location,e.variableType=this._parseExpression(-1,["="]),this._tokenizer.eat("=")&&(e.initializer=this._parseExpression()),e;let s=!1;switch(i.type){case"=":case":=":case"==":case"!=":case"+=":case"-=":case"*=":case"@=":case"/=":case"//=":case"**=":case"&=":case"|=":case"%=":case">>=":case"<<=":case">>":case"<<":case">=":case"<=":case"<":case">":case"%":case"^=":case"...":case"call":case"assert":case"raise":case"string":case"list":case"var":case".":case"[]":case"yield":case"+":case"-":case"*":case"**":case"@":case"/":case"//":case"~":case"&":case"^":case"|":case"not":case"id":case"number":case"in":case"and":case"or":case"if":case"for":case"tuple":case"lambda":case"await":s=!0}if(s)return i;throw new t.Error("Unhandled expression"+this._tokenizer.location())}return null}_parseExpression(e,s,i){e=e||-1;const n=new Set(s),r=[];for(;;){let o=this._node();const a=this._tokenizer.peek();if(1==r.length&&n.has(a.value))break;const h=t.Parser._precedence[a.value];if(h&&h>=e){if(this._tokenizer.read(),o.type=a.value,"id"!=a.type||"in"!==a.value&&"not"!==a.value){if("~"==a.value){o.type="~",o.expression=this._parseExpression(h,s,!1!==i),r.push(o);continue}"id"==a.type&&"is"==a.value&&this._tokenizer.eat("id","not")&&(o.type="is not")}else if("in"===a.value)o.type="in";else{if(!this._tokenizer.eat("id","in")){o.type="not",o.expression=this._parseExpression(h,s,!1!==i),r.push(o);continue}o.type="not in"}o.left=r.pop(),o.right=this._parseExpression(h,s,!1!==i),r.push(o);continue}if(this._tokenizer.eat(":=")){o.type=":=",o.target=r.pop(),o.expression=this._parseExpression(-1,s,!1!==i),r.push(o);continue}if(this._tokenizer.eat("=")){o.type="=",o.target=r.pop(),o.expression=this._parseExpression(-1,s,!1!==i),r.push(o);continue}switch(a.type){case"-=":case"**=":case"*=":case"//=":case"/=":case"&=":case"%=":case"^=":case"+=":case"<<=":case">>=":case"|=":case"@=":o=this._node(a.type),this._tokenizer.expect(a.type),o.target=r.pop(),o.expression=this._parseExpression(-1,s,!0),r.push(o);continue}if(o=this._eat("id","if"),o){o.then=r.pop(),o.condition=this._parseExpression(),this._tokenizer.expect("id","else"),o.else=this._parseExpression(),r.push(o);continue}for(;this._tokenizer.match("id","for")||this._tokenizer.match("id","async");){const e=this._eat("id","async");if(e&&!this._tokenizer.match("id","for"))throw new t.Error("Expected 'for'"+this._tokenizer.location());if(o=this._eat("id","for"),o){for(e&&(o.async=e),o.expression=r.pop(),o.variable=this._parseExpression(-1,["in"],!0),this._tokenizer.expect("id","in"),o.target=this._parseExpression(-1,["for","if"],!0);this._tokenizer.eat("id","if");)o.condition=o.condition||[],o.condition.push(this._parseExpression(-1,["for","if"]));r.push(o)}}if(o=this._eat("id","lambda"),o){o.parameters=this._parseParameters(":"),o.body=this._parseExpression(-1,s,!1),r.push(o);continue}if(o=this._eat("id","yield"),o){if(this._tokenizer.eat("id","from"))o.from=this._parseExpression(-1,[],!0);else{o.expression=[];do{o.expression.push(this._parseExpression(-1,[],!1))}while(this._tokenizer.eat(","))}r.push(o);continue}if(o=this._eat("id","await"),o){o.expression=this._parseExpression(e,s,i),r.push(o);continue}if(o=this._eat("."),o){this._tokenizer.eat("\n"),o.target=r.pop(),o.member=this._parseName(),r.push(o);continue}if("("===this._tokenizer.peek().value){if(0==r.length){o=this._node("tuple");const e=this._parseArguments();1==e.length?r.push(e[0]):(o.value=e,r.push(o))}else o=this._node("call"),o.target=r.pop(),o.arguments=this._parseArguments(),r.push(o);continue}if("["===this._tokenizer.peek().value){0==r.length?r.push(this._parseExpressions()):(o=this._node("[]"),o.target=r.pop(),o.arguments=this._parseSlice(),r.push(o));continue}if("{"==this._tokenizer.peek().value){r.push(this._parseDictOrSetMaker());continue}o=this._node();const c=this._parseLiteral();if(c){if(r.length>0&&"number"==c.type&&(c.value.startsWith("-")||c.value.startsWith("+")))o.type=c.value.substring(0,1),c.value=c.value.substring(1),o.left=r.pop(),o.right=c,r.push(o);else if(1==r.length&&"string"==c.type&&"string"==r[0].type)r[0].value+=c.value;else{if("number"===c.type)switch(c.value){case"inf":c.value=1/0;break;case"-inf":c.value=-1/0}r.push(c)}continue}if(this._tokenizer.peek().keyword)break;if(o=this._eat("..."),o){r.push(o);continue}const l=this._parseName();if(!l){if(!0===i&&1==r.length&&this._tokenizer.eat(",")){if("tuple"===r[0].type?o=r[0]:(o=this._node("tuple"),o.value=[r.pop()],r.push(o)),"="===this._tokenizer.peek().value)continue;if(!this._tokenizer.match("=")&&!n.has(this._tokenizer.peek().value)){const t=s.slice(0).concat([",","="]),n=this._parseExpression(e,t,i);if(n){o.value.push(n);continue}}break}break}r.push(l)}if(1==r.length)return r.pop();if(0!=r.length)throw new t.Error("Unexpected expression"+this._tokenizer.location());return null}_parseDictOrSetMaker(){const e=[];this._tokenizer.expect("{");let s=!0;for(;!this._tokenizer.eat("}");){const i=this._parseExpression(-1,[],!1);if(null==i)throw new t.Error("Expected expression"+this._tokenizer.location());if(this._tokenizer.eat(":")||(s=!1),s){const s=this._parseExpression(-1,[],!1);if(null==s)throw new t.Error("Expected expression"+this._tokenizer.location());e.push({type:"pair",key:i,value:s})}else e.push(i);if(this._tokenizer.eat(","),this._tokenizer.eat("\n"),this._tokenizer.eat("}"))break}return s?{type:"dict",value:e}:{type:"set",value:e}}_parseExpressions(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const s=this._parseExpression();if(null==s)throw new t.Error("Expected expression"+this._tokenizer.location());for(e.push(s),this._tokenizer.eat(",");this._tokenizer.eat("\n"););if(this._tokenizer.eat("]"))break}return{type:"list",value:e}}_parseSlice(){let e={type:"::"},s=[];const i=["start","stop","step"];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");)if(this._tokenizer.eat(":"))e[i.shift()]={type:"list",value:s},s=[];else if(!this._tokenizer.eat(",")&&"]"!=this._tokenizer.peek().value){const e=this._parseExpression();if(null==e)throw new t.Error("Expected expression"+this._tokenizer.location());s.push(e)}return s.length>0&&(e[i.shift()]={type:"list",value:s}),!e.start||e.stop||e.step||(e=e.start),e}_parseName(){const e=this._tokenizer.peek();return"id"!=e.type||e.keyword?null:(this._tokenizer.read(),e)}_parseLiteral(){const e=this._tokenizer.peek();return"string"==e.type||"number"==e.type||"boolean"==e.type?(this._tokenizer.read(),e):null}_parseTypeArguments(){const e=[];for(this._tokenizer.expect("[");!this._tokenizer.eat("]");){const s=this._parseType();if(null==s)throw new t.Error("Expected type "+this._tokenizer.location());if(e.push(s),!this._tokenizer.eat(",")){this._tokenizer.expect("]");break}}return e}_parseType(){const e=this._node();return e.type="type",e.name=this._parseExpression(-1,["[","="]),e.name?("["===this._tokenizer.peek().value&&(e.arguments=this._parseTypeArguments()),e):null}_parseParameter(e){const t=this._node("parameter");if(this._tokenizer.eat("/"))return t.name="/",t;this._tokenizer.eat("**")&&(t.parameterType="**"),this._tokenizer.eat("*")&&(t.parameterType="*");const s=this._parseName();return null!==s?(t.name=s.value,":"!==e&&this._tokenizer.eat(":")&&(t.parameterType=this._parseType()),this._tokenizer.eat("=")&&(t.initializer=this._parseExpression()),t):null}_parseParameters(e){const t=[];for(;!this._tokenizer.eat(e);)if(this._tokenizer.eat("\n"),this._tokenizer.eat("(")?t.push(this._parseParameters(")")):t.push(this._parseParameter(e)),this._tokenizer.eat("\n"),!this._tokenizer.eat(",")){this._tokenizer.expect(e);break}return t}_parseArguments(){const e=[];for(this._tokenizer.expect("(");!this._tokenizer.eat(")");){if(this._tokenizer.eat("\n"))continue;const s=this._parseExpression(-1,[],!1);if(null==s)throw new t.Error("Expected expression "+this._tokenizer.location());if(e.push(s),!this._tokenizer.eat(",")){this._tokenizer.eat("\n"),this._tokenizer.expect(")");break}}return e}_node(e){const t={};return t.location=this._tokenizer.location(),e&&(t.type=e),t}_eat(e,t){if(this._tokenizer.match(e,t)){const s=this._node("id"===e?t:e);return this._tokenizer.expect(e,t),s}return null}},t.Tokenizer=class{constructor(e,s){if(this._text=e,this._file=s,this._position=0,this._lineStart=0,this._line=0,this._token={type:"",value:""},this._brackets=0,this._indentation=[],this._outdent=0,!t.Tokenizer._whitespace){t.Tokenizer._whitespace=new RegExp("[-\ufeff]");const e="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",s="------------------------------------------------------------------------------------------------------------------------------------------";t.Tokenizer._identifierStart=new RegExp("["+e+"]"),t.Tokenizer._identifierChar=new RegExp("["+e+s+"]")}}peek(){return this._cache||(this._token=this._tokenize(this._token),this._cache=!0),this._token}read(){this._cache||(this._token=this._tokenize(this._token));const e=this._position+this._token.value.length;for(;this._position<e;)t.Tokenizer._isNewline(this._get(this._position))?(this._position=this._newLine(this._position),this._lineStart=this._position,this._line++):this._position++;return this._cache=!1,this._token}match(e,t){const s=this.peek();return!(s.type!==e||t&&s.value!==t)}eat(e,t){const s=this.peek();return!(s.type!==e||t&&s.value!==t||(this.read(),0))}expect(e,s){const i=this.peek();if(i.type!==e)throw new t.Error("Unexpected '"+i.value+"' instead of '"+e+"'"+this.location());if(s&&i.value!==s)throw new t.Error("Unexpected '"+i.value+"' instead of '"+s+"'"+this.location());this.read()}location(){return" at "+this._file+":"+(this._line+1).toString()+":"+(this._position-this._lineStart+1).toString()}static _isSpace(e){switch(e){case" ":case"\t":case"\v":case"\f":case"":return!0;default:return e.charCodeAt(0)>=5760&&t.Tokenizer._whitespace.test(e)}}static _isNewline(e){switch(e){case"\n":case"\r":case"\u2028":case"\u2029":return!0}return!1}static _isIdentifierStartChar(e){return e<"A"?"$"===e:e<="Z"||(e<"a"?"_"===e:e<="z"||e.charCodeAt(0)>=170&&t.Tokenizer._identifierStart.test(e))}static _isIdentifierChar(e){return e<"0"?"$"===e:e<="9"||!(e<"A")&&(e<="Z"||(e<"a"?"_"===e:e<="z"||e.charCodeAt(0)>=170&&t.Tokenizer._identifierChar.test(e)))}static _isDecimal(e){return e>="0"&&e<="9"||"_"===e}static _isHex(e){return t.Tokenizer._isDecimal(e)||e>="a"&&e<="f"||e>="A"&&e<="F"||"_"===e}static _isOctal(e){return e>="0"&&e<="7"||"_"===e}static _isBinary(e){return"0"===e||"1"===e||"_"===e}_get(e){return e>=this._text.length?"\0":this._text[e]}_skipLine(){for(;this._position<this._text.length&&!t.Tokenizer._isNewline(this._get(this._position));)this._position++}_skipWhitespace(){for(;this._position<this._text.length;){const e=this._text[this._position];if("#"==e)this._skipLine();else if(t.Tokenizer._isSpace(e))this._position++;else if("\\"==e){if(this._position++,!t.Tokenizer._isNewline(this._get(this._position)))throw new t.Error("Unexpected '"+this._text[this._position]+"' after line continuation"+this.location());this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}else{if(!(this._brackets>0&&t.Tokenizer._isNewline(e)))break;this._position=this._newLine(this._position),this._lineStart=this._position,this._line++}}}_newLine(e){return"\n"===this._get(e)&&"\r"===this._get(e+1)||"\r"===this._get(e)&&"\n"===this._get(e+1)?e+2:e+1}_tokenize(e){if("\n"!==this._token.type&&this._skipWhitespace(),"dedent"===this._token.type&&(this._indentation.pop(),this._outdent--,this._outdent>0))return{type:"dedent",value:""};if("\n"==e.type){let e="",s=this._position;for(;s<this._text.length;){const i=this._text[s];if(t.Tokenizer._isSpace(i))e+=i,s++;else{if(!t.Tokenizer._isNewline(i)){if("#"==i){for(e="";s<this._text.length&&!t.Tokenizer._isNewline(this._text[s]);)s++;continue}break}e="",s=this._newLine(s),this._position=s,this._lineStart=s,this._line++}}let i=null;if(e.length>0){const t=this._indentation.length>0?this._indentation[this._indentation.length-1]:"";if(e.length>t.length)i="indent",this._indentation.push(e);else if(e.length>0&&e.length<t.length){i="dedent",this._outdent=0;for(let t=this._indentation.length-1;t>=0&&e.length<this._indentation[t].length;t--)this._outdent++}else this._position+=e.length}else{if(s>=this._text.length)return{type:"eof",value:""};this._indentation.length>0&&(i="dedent",this._outdent=this._indentation.length)}switch(i){case"indent":case"dedent":return{type:i,value:e}}}if(this._position>=this._text.length)return{type:"eof",value:""};const s=this._get(this._position),i=this._string();if(i)return i;switch(s){case"(":case"[":case"{":return this._brackets++,{type:s,value:s};case")":case"]":case"}":if(0===this._brackets)throw new t.Error("Unexpected '"+s+"'"+this.location);return this._brackets--,{type:s,value:s};case",":case";":case"?":return{type:s,value:s};default:{const e=this._number();if(e)return e;if("."===s){let e=this._position+1;for(;"."===this._get(e);)e++;const t=this._text.substring(this._position,e);return{type:t,value:t}}const t=this._identifier();if(t)return t;const i=this._operator();if(i)return i;break}}if("."===s)return{type:s,value:s};if("\\"===s)return{type:"\\",value:s};if(t.Tokenizer._isNewline(s))return{type:"\n",value:this._text.substring(this._position,this._newLine(this._position))};throw new t.Error("Unexpected token '"+s+"'"+this.location())}_number(){let e=this._get(this._position);const s="-"===e||"+"===e?1:0;let i=this._position+s;if(e=this._get(i),"0"===e){let e=0;const s=this._get(i+1);if("x"!==s&&"X"!==s||!t.Tokenizer._isHex(this._get(i+2)))if("b"!==s&&"B"!==s||!t.Tokenizer._isBinary(this._get(i+2)))if("o"!==s&&"O"!==s||!t.Tokenizer._isOctal(this._get(i+2))){if(s>="0"&&s<="7"){for(i++;t.Tokenizer._isOctal(this._get(i));)i+=1;"l"!==this._get(i)&&"L"!==this._get(i)||(i+=1),e=8}}else{for(i+=2;t.Tokenizer._isOctal(this._get(i));)i++;e=8}else{for(i+=2;t.Tokenizer._isBinary(this._get(i));)i++;e=2}else{for(i+=2;t.Tokenizer._isHex(this._get(i));)i+=1;"l"!==this._get(i)&&"L"!==this._get(i)||(i+=1),e=16}if(e>0&&"."!==this._get(i)){const t=this._text.substring(this._position,i),s=-1!==t.indexOf("_")?t.split("_").join(""):t;if(!isNaN(parseInt(s,e)))return{type:"number",value:t}}}i=this._position+s;let n=!1;if(this._get(i)>="1"&&this._get(i)<="9"){for(;t.Tokenizer._isDecimal(this._get(i));)i++;e=this._get(i).toLowerCase(),n="."!==e&&"e"!==e}if("0"===this._get(i)&&(i++,e=this._get(i).toLowerCase(),n=!t.Tokenizer._isDecimal(e)&&"."!==e&&"e"!==e&&"j"!==e),n){if("j"===this._get(i)||"J"===this._get(i)||"l"===this._get(i)||"L"===this._get(i))return{type:"number",value:this._text.substring(this._position,i+1)};const e=this._text.substring(this._position,i);if(!isNaN(parseInt(e,10)))return{type:"number",value:e}}if(i=this._position+s,this._get(i)>="0"&&this._get(i)<="9"||"."===this._get(i)&&this._get(i+1)>="0"&&this._get(i+1)<="9"){for(;t.Tokenizer._isDecimal(this._get(i));)i++;for("."===this._get(i)&&i++;t.Tokenizer._isDecimal(this._get(i));)i++;if(i>this._position+s)if("e"===this._get(i)||"E"===this._get(i))if(i++,"-"!=this._get(i)&&"+"!=this._get(i)||i++,t.Tokenizer._isDecimal(this._get(i)))for(;t.Tokenizer._isDecimal(this._get(i));)i++;else i=this._position;else for(;t.Tokenizer._isDecimal(this._get(i));)i++;if(i>this._position+s){if("j"===this._get(i)||"J"===this._get(i))return{type:"number",value:this._text.substring(this._position,i+1)};const e=this._text.substring(this._position,i),t=-1!=e.indexOf("_")?e.split("_").join(""):e;if(!isNaN(parseFloat(t)))return{type:"number",value:e}}}return i=this._position+s,"i"!==this._get(i)||"n"!==this._get(i+1)||"f"!==this._get(i+2)||t.Tokenizer._isIdentifierChar(this._get(i+3))?null:{type:"number",value:this._text.substring(this._position,i+3)}}_identifier(){let e=this._position;if(t.Tokenizer._isIdentifierStartChar(this._get(e)))for(e++;t.Tokenizer._isIdentifierChar(this._get(e));)e++;if(e>this._position){const s=this._text.substring(this._position,e);return{type:"id",value:s,keyword:t.Tokenizer._isKeyword(s)}}return null}_operator(){let e=0;const t=this._get(this._position),s=this._get(this._position+1),i=this._get(this._position+2);switch(t){case"+":case"&":case"|":case"^":case"=":case"!":case"%":case"~":case"@":case":":e="="===s?2:1;break;case"-":e="="===s||">"===s?2:1;break;case"*":e="*"===s?"="===i?3:2:"="===s?2:1;break;case"/":e="/"===s?"="===i?3:2:"="===s?2:1;break;case"<":e=">"===s?2:"<"===s?"="===i?3:2:"="===s?2:1;break;case">":e=">"===s?"="===i?3:2:"="===s?2:1}if(e>0){const t=this._text.substring(this._position,this._position+e);return{type:t,value:t}}return null}_string(){let e=this._position,t=-1;if("'"===this._get(e)||'"'===this._get(e))t="";else if("'"===this._get(e+1)||'"'===this._get(e+1)){const s=this._get(e);switch(s.toLowerCase()){case"b":case"f":case"r":case"u":t=s}}else if("'"===this._get(e+2)||'"'===this._get(e+2)){const e=this._text.substr(this._position,2);switch(e.toLowerCase()){case"br":case"fr":case"rb":case"rf":case"ur":t=e}}if(t.length>=0){e+=t.length;let s="",i=0;const n=this._get(e),r=this._get(e+1),o=this._get(e+2);switch(n){case"'":s=n,i="'"===r&&"'"===o?3:1;break;case'"':s=n,i='"'===r&&'"'===o?3:1}if(e+=i,1==i)for(;e<this._text.length;){if(this._text[e]===s)return{type:"string",value:this._text.substring(this._position,e+1)};if("\\"!==this._text[e]||this._get(e+1)!=s&&"\n"!=this._get(e+1)&&"\\"!=this._get(e+1)){if("\r"===this._text[e]||"\n"===this._text[e])break;e++}else e+=2}else if(3==i)for(;e<this._text.length;){if(this._get(e)===s&&this._get(e+1)===s&&this._get(e+2)===s)return{type:"string",value:this._text.substring(this._position,e+3)};"\\"!==this._get(e)||this._get(e+1)!==s?e++:e+=2}}if(e=this._position,"`"===this._get(e))for(e++;e<this._text.length;){if("`"===this._text[e])return{type:"string",value:this._text.substring(this._position,e+1)};e++}return null}static _isKeyword(e){switch(e){case"and":case"as":case"else":case"for":case"if":case"import":case"in":case"is":case"not":case"or":return!0}return!1}},t.Execution=class{constructor(e,s){const i=this;this._sources=e||new Map,this._exceptionCallback=s,this._utf8Decoder=new TextDecoder("utf-8"),this._packages=new Map,this._unknownNameMap=new Set,this._context=new t.Execution.Context,this._context.scope.builtins={},this._context.scope.builtins.type={__module__:"builtins",__name__:"type"},this._context.scope.builtins.type.__class__=this._context.scope.builtins.type,this._context.scope.builtins.module={__module__:"builtins",__name__:"module",__class__:this._context.scope.builtins.type},this._context.scope.builtins.module.__type__=this._context.scope.builtins.module,this.registerModule("__builtin__"),this.registerModule("_codecs"),this.registerModule("argparse"),this.registerModule("collections"),this.registerModule("copy_reg"),this.registerModule("cuml"),this.registerModule("gensim"),this.registerModule("joblib"),this.registerModule("lightgbm"),this.registerModule("numpy"),this.registerModule("nolearn"),this.registerModule("sklearn"),this.registerModule("typing"),this.registerModule("xgboost");const n=this._context.scope.builtins,r=this._context.scope.numpy,o=this._context.scope.typing;this.registerType("builtins.function",class{}),this.registerType("builtins.method",class{}),this.registerType("builtins.dict",class{}),this.registerType("builtins.list",class{}),this.registerType("builtins.bool",class{}),this.registerType("builtins.int",class{}),this.registerType("builtins.float",class{}),this.registerType("builtins.object",class{}),this.registerType("builtins.str",class{}),this.registerType("builtins.tuple",class{}),this.registerType("typing._Final",class{}),this.registerType("typing._SpecialForm",class extends o._Final{}),this.registerType("typing._BaseGenericAlias",class extends o._Final{}),this.registerType("typing._GenericAlias",class extends o._BaseGenericAlias{}),this.registerType("typing._SpecialGenericAlias",class extends o._BaseGenericAlias{}),this.registerType("typing._TupleType",class extends o._SpecialGenericAlias{}),o.Optional=i.invoke("typing._SpecialForm",[]),o.List=i.invoke("typing._SpecialGenericAlias",[]),o.Dict=i.invoke("typing._SpecialGenericAlias",[]),o.Tuple=i.invoke("typing._TupleType",[]),this.registerType("argparse.Namespace",class{constructor(e){this.args=e}}),this.registerType("collections.deque",class{constructor(e){if(e){let t=0;for(const s of e)this[t++]=s;this.length=t}}}),this.registerType("collections.OrderedDict",class extends Map{constructor(e){if(super(),e)for(const t of e)this.__setitem__(t[0],t[1])}__setitem__(e,t){this.set(e,t)}}),this.registerType("cuml.common.array_descriptor.CumlArrayDescriptorMeta",class{}),this.registerType("cuml.ensemble.randomforestclassifier.RandomForestClassifier",class{}),this.registerType("cuml.raft.common.handle.Handle",class{__setstate__(e){this._handle=e}}),this.registerType("haiku._src.data_structures.FlatMapping",class{constructor(e){for(const t of Object.keys(e))this[t]=e[t]}}),this.registerType("numpy.core._multiarray_umath.scalar",class{constructor(e,s){let i=s;if("string"==typeof s){i=new Uint8Array(s.length);for(let e=0;e<s.length;e++)i[e]=s.charCodeAt(e)}const n=new DataView(i.buffer,i.byteOffset,i.byteLength);switch(e.name){case"uint8":return n.getUint8(0);case"float32":return n.getFloat32(0,!0);case"float64":return n.getFloat64(0,!0);case"int8":return n.getInt8(0,!0);case"int16":return n.getInt16(0,!0);case"int32":return n.getInt32(0,!0);case"int64":return n.getInt64(0,!0)}throw new t.Error("Unknown scalar type '"+e.name+"'.")}}),this.registerType("numpy.dtype",class{constructor(e,s,i){switch(this.align=s,this.copy=i,e){case"i1":case"b1":this.name="int8",this.itemsize=1;break;case"i2":this.name="int16",this.itemsize=2;break;case"i4":this.name="int32",this.itemsize=4;break;case"i8":this.name="int64",this.itemsize=8;break;case"u1":this.name="uint8",this.itemsize=1;break;case"u2":this.name="uint16",this.itemsize=2;break;case"u4":this.name="uint32",this.itemsize=4;break;case"u8":this.name="uint64",this.itemsize=8;break;case"f2":this.name="float16",this.itemsize=2;break;case"f4":this.name="float32",this.itemsize=4;break;case"f8":this.name="float64",this.itemsize=8;break;case"c8":this.name="complex64",this.itemsize=8;break;case"c16":this.name="complex128",this.itemsize=16;break;default:if(e.startsWith("V"))this.itemsize=Number(e.substring(1)),this.name="void"+(8*this.itemsize).toString();else if(e.startsWith("O"))this.itemsize=Number(e.substring(1)),this.name="object";else if(e.startsWith("S"))this.itemsize=Number(e.substring(1)),this.name="string";else if(e.startsWith("U"))this.itemsize=Number(e.substring(1)),this.name="string";else{if(!e.startsWith("M"))throw new t.Error("Unknown dtype '"+e.toString()+"'.");this.itemsize=Number(e.substring(1)),this.name="datetime"}}}__setstate__(e){switch(e.length){case 8:this.version=e[0],this.byteorder=e[1],this.subarray=e[2],this.names=e[3],this.fields=e[4],this.elsize=e[5],this.alignment=e[6],this.int_dtypeflags=e[7];break;case 9:this.version=e[0],this.byteorder=e[1],this.subarray=e[2],this.names=e[3],this.fields=e[4],this.elsize=e[5],this.alignment=e[6],this.int_dtypeflags=e[7],this.metadata=e[8];break;default:throw new t.Error("Unknown numpy.dtype setstate length '"+e.length.toString()+"'.")}}}),this.registerType("gensim.models.doc2vec.Doctag",class{}),this.registerType("gensim.models.doc2vec.Doc2Vec",class{}),this.registerType("gensim.models.doc2vec.Doc2VecTrainables",class{}),this.registerType("gensim.models.doc2vec.Doc2VecVocab",class{}),this.registerType("gensim.models.fasttext.FastText",class{}),this.registerType("gensim.models.fasttext.FastTextTrainables",class{}),this.registerType("gensim.models.fasttext.FastTextVocab",class{}),this.registerType("gensim.models.fasttext.FastTextKeyedVectors",class{}),this.registerType("gensim.models.keyedvectors.Doc2VecKeyedVectors",class{}),this.registerType("gensim.models.keyedvectors.FastTextKeyedVectors",class{}),this.registerType("gensim.models.keyedvectors.KeyedVectors",class{}),this.registerType("gensim.models.keyedvectors.Vocab",class{}),this.registerType("gensim.models.keyedvectors.Word2VecKeyedVectors",class{}),this.registerType("gensim.models.phrases.Phrases",class{}),this.registerType("gensim.models.tfidfmodel.TfidfModel",class{}),this.registerType("gensim.models.word2vec.Vocab",class{}),this.registerType("gensim.models.word2vec.Word2Vec",class{}),this.registerType("gensim.models.word2vec.Word2VecTrainables",class{}),this.registerType("gensim.models.word2vec.Word2VecVocab",class{}),this.registerType("joblib.numpy_pickle.NumpyArrayWrapper",class{constructor(){}__setstate__(e){this.subclass=e.subclass,this.dtype=e.dtype,this.shape=e.shape,this.order=e.order,this.allow_mmap=e.allow_mmap}__read__(e){if("object"==this.dtype.name)return e.load(((e,t)=>i.invoke(e,t)),null);{const t=this.dtype.itemsize*this.shape.reduce(((e,t)=>e*t),1);this.data=e.read(t)}return i.invoke(this.subclass,[this.shape,this.dtype,this.data])}}),this.registerType("lightgbm.sklearn.LGBMRegressor",class{}),this.registerType("lightgbm.sklearn.LGBMClassifier",class{}),this.registerType("lightgbm.basic.Booster",class{constructor(){this.average_output=!1,this.models=[],this.loaded_parameter=""}__setstate__(e){"string"!=typeof e.handle?Object.assign(this,e):this.LoadModelFromString(e.handle)}LoadModelFromString(e){const s=e.split("\n"),i=s.shift()||"?";if("tree"!==i.trim())throw new t.Error("Invalid signature '"+i.trim()+"'.");const n=new Map;for(;s.length>0&&!s[0].startsWith("Tree=");){const e=s.shift().trim();if(e.length>0){const s=e.split("=");if(1===s.length)n.set(s[0],"");else if(2===s.length)n.set(s[0],s[1]);else if(s.length>2)if("feature_names"===s[0])n.set(s[0],e.substring("feature_names=".length));else{if("monotone_constraints"!=s[0])throw new t.Error("Wrong line: "+e.substring(0,Math.min(128,e.length)));n.set(s[0],e.substring("monotone_constraints=".length))}}}const r=(e,s)=>{if(n.has(e))return parseInt(n.get(e),10);if(void 0!==s)return s;throw new t.Error("Model file does not specify "+e+".")},o=(e,s)=>{if(n.has(e)){const i=n.get(e).split(" ");if(i.length!==s)throw new t.Error("Wrong size of "+e+".");return i}throw new t.Error("Model file does not contain "+e+".")};this.version=n.get("version")||"",this.num_class=r("num_class"),this.num_tree_per_iteration=r("num_tree_per_iteration",this.num_class),this.label_index=r("label_index"),this.max_feature_idx=r("max_feature_idx"),n.has("average_output")&&(this.average_output=!0),this.feature_names=o("feature_names",this.max_feature_idx+1),this.feature_infos=o("feature_infos",this.max_feature_idx+1),n.has("monotone_constraints")&&(this.monotone_constraints=o("monotone_constraints",this.max_feature_idx+1)),n.has("objective")&&(this.objective=n.get("objective"));let a=null;for(;s.length>0;){const e=s.shift().trim();if(0===e.length)continue;if(e.startsWith("Tree=")){a={index:parseInt(e.split("=").pop(),10)},this.models.push(a);continue}if("end of trees"===e)break;const i=e.split("=");if(2!==i.length)throw new t.Error("Invalid property '"+e+"'.");const n=i[0].trim(),r=i[1].trim();a[n]=r}const h=[];let c=!1;for(;s.length>0;){const e=s.shift().trim();if("parameters:"!==e){if("end of parameters"===e)break;c&&h.push(e)}else c=!0}h.length>0&&(this.loaded_parameter=h.join("\n"))}}),this.registerType("nolearn.lasagne.base.BatchIterator",class{}),this.registerType("nolearn.lasagne.base.Layers",class{}),this.registerType("nolearn.lasagne.base.NeuralNet",class{}),this.registerType("nolearn.lasagne.base.TrainSplit",class{}),this.registerType("nolearn.lasagne.handlers.PrintLayerInfo",class{}),this.registerType("nolearn.lasagne.handlers.PrintLog",class{}),this.registerType("numpy.ndarray",class{constructor(e,t,s,i,n,r){this.shape=e,this.dtype=t,this.data=void 0!==s?s:null,this.offset=void 0!==i?i:0,this.strides=void 0!==n?n:null,this.order=void 0!==i?r:null}__setstate__(e){this.version=e[0],this.shape=e[1],this.dtype=e[2],this.isFortran=e[3],this.data=e[4]}__read__(e){const s=(this.shape||[]).reduce(((e,t)=>e*t),1),i=this.dtype.itemsize*s;if("string"==typeof this.data){if(this.data=e.unescape(this.data,i),this.data.length!=i)throw new t.Error("Invalid string array data size.")}else this.data.length;return this}}),this.registerType("numpy.ma.core.MaskedArray",class extends r.ndarray{constructor(e){super(e.shape,e.dtype,e.data)}}),this.registerType("numpy.core.memmap.memmap",class extends r.ndarray{constructor(e,t){super(e,t)}}),this.registerType("pathlib.PosixPath",class{constructor(){this.path=Array.from(arguments).join("/")}}),this.registerType("sklearn.calibration._CalibratedClassifier",class{}),this.registerType("sklearn.calibration._SigmoidCalibration",class{}),this.registerType("sklearn.calibration.CalibratedClassifierCV",class{}),this.registerType("sklearn.compose._column_transformer.ColumnTransformer",class{}),this.registerType("sklearn.compose._target.TransformedTargetRegressor",class{}),this.registerType("sklearn.cluster._dbscan.DBSCAN",class{}),this.registerType("sklearn.cluster._kmeans.KMeans",class{}),this.registerType("sklearn.decomposition._pca.PCA",class{}),this.registerType("sklearn.decomposition.PCA",class{}),this.registerType("sklearn.decomposition.pca.PCA",class{}),this.registerType("sklearn.decomposition._truncated_svd.TruncatedSVD",class{}),this.registerType("sklearn.decomposition.truncated_svd.TruncatedSVD",class{}),this.registerType("sklearn.discriminant_analysis.LinearDiscriminantAnalysis",class{}),this.registerType("sklearn.discriminant_analysis.QuadraticDiscriminantAnalysis",class{}),this.registerType("sklearn.dummy.DummyClassifier",class{}),this.registerType("sklearn.dummy.DummyRegressor",class{}),this.registerType("sklearn.externals.joblib.numpy_pickle.NumpyArrayWrapper",class{constructor(){}__setstate__(e){this.subclass=e.subclass,this.dtype=e.dtype,this.shape=e.shape,this.order=e.order,this.allow_mmap=e.allow_mmap}__read__(e){if("object"==this.dtype.name)return e.load(((e,t)=>i.invoke(e,t)),null);{const t=this.dtype.itemsize*this.shape.reduce(((e,t)=>e*t),1);this.data=e.read(t)}return i.invoke(this.subclass,[this.shape,this.dtype,this.data])}}),this.registerType("sklearn.externals.joblib.numpy_pickle.NDArrayWrapper",class{}),this.registerType("sklearn.ensemble._bagging.BaggingClassifier",class{}),this.registerType("sklearn.ensemble._forest.RandomForestRegressor",class{}),this.registerType("sklearn.ensemble._forest.RandomForestClassifier",class{}),this.registerType("sklearn.ensemble._forest.ExtraTreesClassifier",class{}),this.registerType("sklearn.ensemble._gb_losses.BinomialDeviance",class{}),this.registerType("sklearn.ensemble._gb_losses.LeastSquaresError",class{}),this.registerType("sklearn.ensemble._gb_losses.MultinomialDeviance",class{}),this.registerType("sklearn.ensemble._gb.GradientBoostingClassifier",class{}),this.registerType("sklearn.ensemble._gb.GradientBoostingRegressor",class{}),this.registerType("sklearn.ensemble._iforest.IsolationForest",class{}),this.registerType("sklearn.ensemble._stacking.StackingClassifier",class{}),this.registerType("sklearn.ensemble._voting.VotingClassifier",class{}),this.registerType("sklearn.ensemble.forest.RandomForestClassifier",class{}),this.registerType("sklearn.ensemble.forest.RandomForestRegressor",class{}),this.registerType("sklearn.ensemble.forest.ExtraTreesClassifier",class{}),this.registerType("sklearn.ensemble.gradient_boosting.BinomialDeviance",class{}),this.registerType("sklearn.ensemble.gradient_boosting.GradientBoostingClassifier",class{}),this.registerType("sklearn.ensemble.gradient_boosting.LogOddsEstimator",class{}),this.registerType("sklearn.ensemble.gradient_boosting.MultinomialDeviance",class{}),this.registerType("sklearn.ensemble.gradient_boosting.PriorProbabilityEstimator",class{}),this.registerType("sklearn.ensemble.weight_boosting.AdaBoostClassifier",class{}),this.registerType("sklearn.feature_extraction._hashing.FeatureHasher",class{}),this.registerType("sklearn.feature_extraction.text.CountVectorizer",class{}),this.registerType("sklearn.feature_extraction.text.HashingVectorizer",class{}),this.registerType("sklearn.feature_extraction.text.TfidfTransformer",class{}),this.registerType("sklearn.feature_extraction.text.TfidfVectorizer",class{}),this.registerType("sklearn.feature_selection._from_model.SelectFromModel",class{}),this.registerType("sklearn.feature_selection._univariate_selection.SelectKBest",class{}),this.registerType("sklearn.feature_selection._univariate_selection.SelectPercentile",class{}),this.registerType("sklearn.feature_selection._variance_threshold.VarianceThreshold",class{}),this.registerType("sklearn.feature_selection.univariate_selection.SelectKBest",class{}),this.registerType("sklearn.feature_selection.variance_threshold.VarianceThreshold",class{}),this.registerType("sklearn.gaussian_process.gpc.GaussianProcessClassifier",class{}),this.registerType("sklearn.gaussian_process.kernels.ConstantKernel",class{}),this.registerType("sklearn.gaussian_process.kernels.Product",class{}),this.registerType("sklearn.gaussian_process.kernels.RBF",class{}),this.registerType("sklearn.grid_search._CVScoreTuple",class{}),this.registerType("sklearn.grid_search.GridSearchCV",class{}),this.registerType("sklearn.impute._base.SimpleImputer",class{}),this.registerType("sklearn.impute.SimpleImputer",class{}),this.registerType("sklearn.isotonic.IsotonicRegression",class{}),this.registerType("sklearn.linear_model._base.LinearRegression",class{}),this.registerType("sklearn.linear_model._bayes.BayesianRidge",class{}),this.registerType("sklearn.linear_model._coordinate_descent.ElasticNetCV",class{}),this.registerType("sklearn.linear_model._coordinate_descent.ElasticNet",class{}),this.registerType("sklearn.linear_model._logistic.LogisticRegression",class{}),this.registerType("sklearn.linear_model._ridge.Ridge",class{}),this.registerType("sklearn.linear_model._sgd_fast.Hinge",class{}),this.registerType("sklearn.linear_model._sgd_fast.Log",class{}),this.registerType("sklearn.linear_model._sgd_fast.ModifiedHuber",class{}),this.registerType("sklearn.linear_model._sgd_fast.SquaredHinge",class{}),this.registerType("sklearn.linear_model._stochastic_gradient.SGDClassifier",class{}),this.registerType("sklearn.linear_model.base.LinearRegression",class{}),this.registerType("sklearn.linear_model.sgd_fast.Hinge",class{}),this.registerType("sklearn.linear_model.LogisticRegression",class{}),this.registerType("sklearn.linear_model.logistic.LogisticRegression",class{}),this.registerType("sklearn.linear_model.logistic.LogisticRegressionCV",class{}),this.registerType("sklearn.linear_model.LassoLars",class{}),this.registerType("sklearn.linear_model.ridge.Ridge",class{}),this.registerType("sklearn.linear_model.sgd_fast.Log",class{}),this.registerType("sklearn.linear_model.stochastic_gradient.SGDClassifier",class{}),this.registerType("sklearn.metrics._scorer._PredictScorer",class{}),this.registerType("sklearn.metrics.scorer._PredictScorer",class{}),this.registerType("sklearn.mixture._bayesian_mixture.BayesianGaussianMixture",class{}),this.registerType("sklearn.model_selection._search.GridSearchCV",class{}),this.registerType("sklearn.model_selection._search.RandomizedSearchCV",class{}),this.registerType("sklearn.model_selection._split.KFold",class{}),this.registerType("sklearn.multiclass.OneVsRestClassifier",class{}),this.registerType("sklearn.multioutput.MultiOutputClassifier",class{}),this.registerType("sklearn.multioutput.MultiOutputRegressor",class{}),this.registerType("sklearn.naive_bayes.BernoulliNB",class{}),this.registerType("sklearn.naive_bayes.ComplementNB",class{}),this.registerType("sklearn.naive_bayes.GaussianNB",class{}),this.registerType("sklearn.naive_bayes.MultinomialNB",class{}),this.registerType("sklearn.neighbors._classification.KNeighborsClassifier",class{}),this.registerType("sklearn.neighbors._dist_metrics.newObj",class{}),this.registerType("sklearn.neighbors._kd_tree.newObj",class{}),this.registerType("sklearn.neighbors._regression.KNeighborsRegressor",class{}),this.registerType("sklearn.neighbors.classification.KNeighborsClassifier",class{}),this.registerType("sklearn.neighbors.dist_metrics.newObj",class{}),this.registerType("sklearn.neighbors.kd_tree.newObj",class{}),this.registerType("sklearn.neighbors.KNeighborsClassifier",class{}),this.registerType("sklearn.neighbors.KNeighborsRegressor",class{}),this.registerType("sklearn.neighbors.regression.KNeighborsRegressor",class{}),this.registerType("sklearn.neighbors.unsupervised.NearestNeighbors",class{}),this.registerType("sklearn.neural_network._multilayer_perceptron.MLPClassifier",class{}),this.registerType("sklearn.neural_network._multilayer_perceptron.MLPRegressor",class{}),this.registerType("sklearn.neural_network._stochastic_optimizers.AdamOptimizer",class{}),this.registerType("sklearn.neural_network._stochastic_optimizers.SGDOptimizer",class{}),this.registerType("sklearn.neural_network.rbm.BernoulliRBM",class{}),this.registerType("sklearn.neural_network.multilayer_perceptron.MLPClassifier",class{}),this.registerType("sklearn.neural_network.multilayer_perceptron.MLPRegressor",class{}),this.registerType("sklearn.neural_network.stochastic_gradient.SGDClassifier",class{}),this.registerType("sklearn.pipeline.Pipeline",class{}),this.registerType("sklearn.pipeline.FeatureUnion",class{}),this.registerType("sklearn.preprocessing._data.MinMaxScaler",class{}),this.registerType("sklearn.preprocessing._data.MaxAbsScaler",class{}),this.registerType("sklearn.preprocessing._data.Normalizer",class{}),this.registerType("sklearn.preprocessing._data.PolynomialFeatures",class{}),this.registerType("sklearn.preprocessing._data.QuantileTransformer",class{}),this.registerType("sklearn.preprocessing._data.RobustScaler",class{}),this.registerType("sklearn.preprocessing._data.StandardScaler",class{}),this.registerType("sklearn.preprocessing._discretization.KBinsDiscretizer",class{}),this.registerType("sklearn.preprocessing._encoders.OneHotEncoder",class{}),this.registerType("sklearn.preprocessing._function_transformer.FunctionTransformer",class{}),this.registerType("sklearn.preprocessing._label.LabelBinarizer",class{}),this.registerType("sklearn.preprocessing._label.LabelEncoder",class{}),this.registerType("sklearn.preprocessing.data.Binarizer",class{}),this.registerType("sklearn.preprocessing.data.MaxAbsScaler",class{}),this.registerType("sklearn.preprocessing.data.MinMaxScaler",class{}),this.registerType("sklearn.preprocessing.data.Normalizer",class{}),this.registerType("sklearn.preprocessing.data.OneHotEncoder",class{}),this.registerType("sklearn.preprocessing.data.PolynomialFeatures",class{}),this.registerType("sklearn.preprocessing.data.PowerTransformer",class{}),this.registerType("sklearn.preprocessing.data.RobustScaler",class{}),this.registerType("sklearn.preprocessing.data.QuantileTransformer",class{}),this.registerType("sklearn.preprocessing.data.StandardScaler",class{}),this.registerType("sklearn.preprocessing.imputation.Imputer",class{}),this.registerType("sklearn.preprocessing.label.LabelBinarizer",class{}),this.registerType("sklearn.preprocessing.label.LabelEncoder",class{}),this.registerType("sklearn.preprocessing.label.MultiLabelBinarizer",class{}),this.registerType("sklearn.svm._classes.LinearSVC",class{}),this.registerType("sklearn.svm._classes.SVC",class{}),this.registerType("sklearn.svm._classes.SVR",class{}),this.registerType("sklearn.svm.classes.LinearSVC",class{}),this.registerType("sklearn.svm.classes.OneClassSVM",class{}),this.registerType("sklearn.svm.classes.SVC",class{}),this.registerType("sklearn.svm.classes.SVR",class{}),this.registerType("sklearn.tree._classes.DecisionTreeClassifier",class{}),this.registerType("sklearn.tree._classes.DecisionTreeRegressor",class{}),this.registerType("sklearn.tree._classes.ExtraTreeClassifier",class{}),this.registerType("sklearn.tree._classes.ExtraTreeRegressor",class{}),this.registerType("sklearn.tree._tree.Tree",class{constructor(e,t,s){this.n_features=e,this.n_classes=t,this.n_outputs=s}__setstate__(e){this.max_depth=e.max_depth,this.node_count=e.node_count,this.nodes=e.nodes,this.values=e.values}}),this.registerType("sklearn.tree.tree.DecisionTreeClassifier",class{}),this.registerType("sklearn.tree.tree.DecisionTreeRegressor",class{}),this.registerType("sklearn.tree.tree.ExtraTreeClassifier",class{}),this.registerType("sklearn.utils.deprecation.DeprecationDict",class{}),this.registerType("re.Pattern",(function(e,t){this.pattern=e,this.flags=t})),this.registerType("spacy._ml.PrecomputableAffine",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("spacy.syntax._parser_model.ParserModel",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.describe.Biases",class{__setstate__(e){Object.assign(this,e)}}),this.registerType("thinc.describe.Dimension",class{__setstate__(e){Object.assign(this,e)}}),this.registerType("thinc.describe.Gradient",class{__setstate__(e){Object.assign(this,e)}}),this.registerType("thinc.describe.Weights",class{__setstate__(e){Object.assign(this,e)}}),this.registerType("thinc.describe.Synapses",class{__setstate__(e){Object.assign(this,e)}}),this.registerType("thinc.neural._classes.affine.Affine",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.convolution.ExtractWindow",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.feature_extracter.FeatureExtracter",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.feed_forward.FeedForward",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.function_layer.FunctionLayer",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.hash_embed.HashEmbed",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.layernorm.LayerNorm",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.maxout.Maxout",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.resnet.Residual",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural._classes.softmax.Softmax",class{__setstate__(e){Object.assign(this,t.Unpickler.open(e).load(((e,t)=>i.invoke(e,t)),null))}}),this.registerType("thinc.neural.mem.Memory",class{}),this.registerType("thinc.neural.ops.NumpyOps",class{}),this.registerType("types.CodeType",class{constructor(){}}),this.registerType("types.MethodType",class{constructor(){}}),this.registerType("types.ObjectType",n.object),this.registerType("xgboost.compat.XGBoostLabelEncoder",class{}),this.registerType("xgboost.core.Booster",class{}),this.registerType("xgboost.sklearn.XGBClassifier",class{}),this.registerType("xgboost.sklearn.XGBRegressor",class{}),this.registerFunction("__builtin__.bytearray",(function(e,s){if(e){if("latin-1"===s){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}throw new t.Error("Unsupported bytearray encoding '"+JSON.stringify(s)+"'.")}return[]})),this.registerFunction("__builtin__.bytes",(function(e,s){if(e){if("latin-1"===s){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}throw new t.Error("Unsupported bytearray encoding '"+JSON.stringify(s)+"'.")}return[]})),this.registerFunction("__builtin__.set",(function(e){return e||[]})),this.registerFunction("__builtin__.frozenset",(function(e){return e||[]})),this.registerFunction("__builtin__.getattr",(function(e,t,s){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:s})),this.registerFunction("__builtin__.slice",(function(e,t,s){return[e,t,s]})),this.registerFunction("__builtin__.type",(function(e){return e?e.__class__:void 0})),this.registerFunction("_codecs.encode",(function(e){return e})),this.registerFunction("builtins.bytearray",(function(e){return{data:e}})),this.registerFunction("builtins.getattr",(function(e,t,s){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:s})),this.registerFunction("builtins.set",(function(e){return e||[]})),this.registerFunction("builtins.slice",(function(e,t,s){return{start:e,stop:t,step:s}})),this.registerFunction("cloudpickle.cloudpickle._builtin_type",(function(e){return e})),this.registerFunction("collections.Counter",(function(){return{__module__:"collections",__name__:"Counter"}})),this.registerFunction("collections.defaultdict",(function(){return{}})),this.registerFunction("copy_reg._reconstructor",(function(e,s,r){if("__builtin__.object"===s||s===n.object)return i.invoke(e,[]);if("__builtin__.tuple"===s||s===n.tuple){const t=i.invoke(e,[]);for(let e=0;e<r.length;e++)t[e]=r[e];return t}throw new t.Error("Unknown copy_reg._reconstructor base type '"+s+"'.")})),this.registerFunction("dill._dill._create_cell",(function(){return function(){}})),this.registerFunction("dill._dill._create_code",(function(e){return i.invoke("types.CodeType",[e])})),this.registerFunction("dill._dill._create_function",(function(){return function(){}})),this.registerFunction("dill._dill._get_attr",(function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})),this.registerFunction("dill._dill._import_module",(function(e,t){try{return i.context.getx(e)}catch(e){if(t)return null}})),this.registerFunction("dill.dill._load_type",(function(e){return i.context.getx("types."+e)})),this.registerFunction("dill._dill._load_type",(function(e){return i.context.getx("types."+e)})),this.registerFunction("getattr",(function(e,t,s){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:s})),this.registerFunction("numpy.core._multiarray_umath._reconstruct",(function(e,t,s){return i.invoke(e,[t,s])})),this.registerFunction("numpy.core.multiarray._reconstruct",(function(e,t,s){return i.invoke(e,[t,s])})),this.registerFunction("numpy.core.multiarray.scalar",(function(e,s){let i=s;if("string"==typeof s||s instanceof String){i=new Uint8Array(s.length);for(let e=0;e<s.length;e++)i[e]=s.charCodeAt(e)}const n=new DataView(i.buffer,i.byteOffset,i.byteLength);switch(e.name){case"float32":return n.getFloat32(0,!0);case"float64":return n.getFloat64(0,!0);case"uint8":return n.getUint8(0,!0);case"int8":return n.getInt8(0,!0);case"int16":return n.getInt16(0,!0);case"int32":return n.getInt32(0,!0);case"int64":return n.getInt64(0,!0)}throw new t.Error("Unknown scalar type '"+e.name+"'.")})),this.registerFunction("numpy.ma.core._mareconstruct",(function(e,t,s,n){const r=i.invoke(t,[s,n]),o=i.invoke("numpy.ndarray",[s,""]);return i.invoke(e,[r,o,n])})),this.registerFunction("numpy.random.__RandomState_ctor",(function(){return{}})),this.registerFunction("numpy.random._pickle.__randomstate_ctor",(function(){return{}})),this.registerFunction("numpy.core.numeric._frombuffer",(function(){return{}})),this.registerFunction("re._compile",(function(e,t){return i.invoke("re.Pattern",[e,t])})),this.registerFunction("srsly.cloudpickle.cloudpickle._builtin_type",(function(e){return function(){return i.invoke("types."+e,arguments)}}))}get context(){return this._context}source(e){return this._sources.has(e)?this._sources.get(e):null}debug(){}parse(e){const s=this.source(e);if(s){const i=this.debug(e),n=this._utf8Decoder.decode(s),r=new t.Parser(n,e,i).parse();if(!r)throw new t.Error("Module '"+e+"' parse error.");return r}return null}package(e){const t=e.lastIndexOf(".");if(t>0&&this.package(e.substring(0,t)),!this._packages.has(e)){const t="code/"+e.split(".").join("/")+".py",s=this.parse(t);if(s){let i=this._context.getx(e);void 0===i&&(i={},this._context.setx(e,i)),i.__class__=this._context.scope.builtins.module,i.__name__=e,i.__file__=t,this._packages.set(e,i);const n=this._context.push(i);this.block(s.body,n)}}return this._packages.get(e)}type(e){const t=this._context.getx(e);if(void 0!==t)return t;const s=e.split("."),i=s.pop(),n=s.join("."),r=this.package(n);return r?r[i]:null}invoke(e,t){const s=e.__class__?e:this.type(e);if(s){if(s.__class__===this._context.scope.builtins.type){if(s.prototype&&s.prototype.__class__===s)return Reflect.construct(s,t);const e={};return e.__proto__=s,e.__init__&&"function"==typeof e.__init__&&e.__init__.apply(e,t),e}if(s.__class__===this._context.scope.builtins.function)return s.__call__?s.__call__(t):s.apply(null,t)}return this._raiseUnkownName(e),this.registerType(e,class{}),this.invoke(e,[])}call(e,s,i,n){const r=this._target(e,n),o=i.map((e=>this.expression(e,n)));if(!r||null!==s&&!r[s]){if("__new__"!==s||1!==o.length||o[0]!=r){const i=t.Utility.target(e)+"."+s;if(this.type(i))return this.invoke(i,o);throw new t.Error("Unsupported function '"+i+"'.")}s=null,o.shift()}const a=s?r[s]:r;if(a.__class__===this._context.scope.builtins.type){if(a.prototype&&a.prototype.__class__===a)return Reflect.construct(a,i);const e={};return e.__proto__=a,e.__class__=a,e.__init__&&"function"==typeof e.__init__&&e.__init__.apply(e,i),e}if(a.__class__===this._context.scope.builtins.function&&a.__call__)return a.__call__(o);if(a.__class__===this._context.scope.builtins.method&&a.__call__)return a.__call__([r].concat(o));if("function"==typeof a)return a.apply(r,o);throw new t.Error("Unsupported call expression.")}apply(e,t,s){const i=Array.prototype.slice.call(t);s=s.push();for(const t of e.parameters){let e=i.shift();void 0===e&&t.initializer&&(e=this.expression(t.initializer,s)),s.set(t.name,e)}return this.block(e.body.statements,s)}block(e,t){for(e=Array.prototype.slice.call(e);e.length>0;){const s=e.shift(),i=this.statement(s,t);if(void 0!==i)return i}}statement(e,s){switch(e.type){case"pass":break;case"return":return this.expression(e.expression,s);case"def":{const i=s.get("__name__"),n=this,r=s.get("__class__");let o=null;if(r===this._context.scope.builtins.type)o=this._context.scope.builtins.method;else{if(r!==this._context.scope.builtins.module)throw new t.Error("Invalid function scope.");o=this._context.scope.builtins.function}const a={__class__:o,__globals__:s,__module__:i,__name__:e.name,__code__:e,__call__:function(e){return n.apply(this.__code__,e,this.__globals__)}};s.set(e.name,a);break}case"class":{const t={__class__:this._context.scope.builtins.type,__module__:s.get("__name__"),__name__:e.name};s.set(e.name,t),s=s.push(t),this.block(e.body.statements,s),s=s.pop();break}case"var":s.set(e.name,void 0);break;case"=":case"call":this.expression(e,s);break;case"if":{const i=this.expression(e.condition,s);if(!0===i||i){const t=this.block(e.then.statements,s);if(void 0!==t)return t;break}if(!1===i){const t=this.block(e.else.statements,s);if(void 0!==t)return t;break}throw new t.Error("Unknown condition.")}case"for":if(1==e.target.length&&1===e.variable.length&&"id"===e.variable[0].type){const t=this.expression(e.target[0],s),i=e.variable[0];for(const n of t){this.statement({type:"=",target:i,expression:{type:"number",value:n}},s);const t=this.block(e.body.statements,s);if(void 0!==t)return t}break}throw new t.Error("Unsupported 'for' statement.");case"while":if(this.expression(e.condition,s)){const t=this.block(e.body.statements,s);if(void 0!==t)return t}break;case"import":for(const i of e.modules){const e=t.Utility.target(i.name),n=this.package(e);i.as&&s.set(i.as,n)}break;default:throw new t.Error("Unknown statement '"+e.type+"'.")}}expression(e,s){const i=s.getx("self");switch(e.type){case"=":{const i=e.target;if("id"===i.type)return void s.set(i.value,this.expression(e.expression,s));if("[]"===i.type){if("id"===i.target.type&&"list"===i.arguments.type&&1===i.arguments.value.length){const t=this.expression(i.arguments.value[0],s);return"__annotations__"===i.target.value&&s.set(i.target.value,s.get(i.target.value)||{}),void(s.get(i.target.value)[t]=this.expression(e.expression,s))}}else{if("."===i.type&&"id"===i.member.type)return void(this.expression(i.target,s)[i.member.value]=this.expression(e.expression,s));if("tuple"===i.type){const n=this.expression(e.expression,s);if(i.value.every((e=>"id"===e.type))){if(i.value.length<n.length)throw new t.Error("ValueError: too many values to unpack (expected "+i.value.length+", actual "+n.length+").");if(i.value.length>n.length)throw new t.Error("ValueError: not enough values to unpack (expected "+i.value.length+", actual "+n.length+").");for(let e=0;e<n.length;e++)s.set(i.value[e].value,n[e]);return}}}break}case"list":return e.value.map((e=>this.expression(e,s)));case"string":return e.value.substring(1,e.value.length-1);case"number":return Number(e.value);case"[]":{if("id"===e.target.type&&"list"===e.arguments.type&&1===e.arguments.value.length&&s.get(e.target.value)){const t=this.expression(e.arguments.value[0],s),i=s.get(e.target.value);return i[t<0?i.length+t:t]}const t=this.expression(e.target,s);if(t&&"list"===e.arguments.type&&(t.__class__===this.context.scope.typing._TupleType||t.__class__===this.context.scope.typing._SpecialGenericAlias||t.__class__===this.context.scope.typing._SpecialForm)){const i=Object.assign({},t);return i.__args__=e.arguments.value.map((e=>this.expression(e,s))),i}if("list"===e.arguments.type&&1===e.arguments.value.length){const i=this.expression(e.arguments.value[0],s);return t[i<0?t.length+i:i]}break}case".":if("id"==e.member.type)return this._target(e.target,s)[e.member.value];throw new t.Error("Unsupported field expression.");case"call":return"id"===e.target.type&&"unchecked_cast"===e.target.value&&2===e.arguments.length?this.expression(e.arguments[1],s):"."===e.target.type?this.call(e.target.target,e.target.member.value,e.arguments,s):this.call(e.target,null,e.arguments,s);case"id":{switch(e.value){case"self":return i;case"None":return null;case"True":return!0;case"False":return!1}const t=e=>e&&(e.__class__===this._context.scope.builtins.type||e.__class__===this._context.scope.typing._TupleType||e.__class__===this._context.scope.typing._SpecialGenericAlias||e.__class__===this._context.scope.typing._SpecialForm),n=this._context.scope.builtins[e.value];if(t(n))return n;const r=s.get(e.value);if(void 0===r){const s=this._context.scope.typing[e.value];if(t(s))return s;const i=this._context.scope.torch[e.value];if(t(i))return i}return r}case"tuple":return e.value.map((e=>this.expression(e,s)));case"dict":{const i={};for(const n of e.value){if("pair"!==n.type)throw new t.Error("Unsupported dict item type '"+n.type+"'.");const e=this.expression(n.key,s),r=this.expression(n.value,s);i[e]=r}return i}}throw new t.Error("Unknown expression '"+e.type+"'.")}_target(e,s){let i=e,n="";for(;;){if("."!==i.type||!i.member||"id"!==i.member.type){if("id"===i.type&&"self"!==i.value&&"CONSTANTS"!==i.value){n=i.value+n;break}n=null;break}n="."+i.member.value+n,i=i.target}if(n){let e=s.getx(n);if(!e&&(e=this.package(n),!e&&(e=s.getx(n),!e)))throw new t.Error("Failed to resolve module '"+n+"'.");return e}return this.expression(e,s)}registerFunction(e,s){if(this._context.getx(e))throw new t.Error("Function '"+e+"' is already registered.");const i=e.split(".");s.__class__=this._context.scope.builtins.function,s.__name__=i.pop(),s.__module__=i.join("."),this._context.setx(e,s)}registerType(e,s){if(this._context.getx(e))throw new t.Error("Class '"+e+"' is already registered.");const i=e.split(".");s.__class__=this._context.scope.builtins.type,s.__name__=i.pop(),s.__module__=i.join("."),s.prototype.__class__=s,this._context.setx(e,s)}registerModule(e){let t=this._context.scope;const s=e.split(".");for(;s.length>0;){const i=s.shift();t[i]={__name__:e,__class__:this._context.scope.builtins.module},t=t[i]}}_raiseUnkownName(e){if(e&&!this._unknownNameMap.has(e)){this._unknownNameMap.add(e);const s=e.split(".").shift();this._context.scope[s]&&this._context.scope[s].__class__==this._context.scope.builtins.module&&this._exceptionCallback(new t.Error("Unknown function '"+e+"'."),!1)}}},t.Execution.Context=class{constructor(e,t){this._parent=e||null,this._scope=t||{}}push(e){return new t.Execution.Context(this,e)}pop(){return this._parent}get scope(){return this._scope}set(e,t){this._scope[e]=t}get(e){return e in this._scope?this._scope[e]:this._parent?this._parent.get(e):void 0}setx(e,s){if("string"!=typeof e||!e.split)throw new t.Error("Invalid name '"+JSON.stringify(e)+"'.");const i=e.split(".");if(1==i.length)this.set(i[0],s);else{let e=this.get(i[0]);for(e||(e={},this.set(i[0],e)),i.shift();i.length>1;){const t=i.shift();e[t]=e[t]||{},e=e[t]}e[i[0]]=s}}getx(e){const t=e.split(".");let s=this.get(t[0]);if(void 0!==s){for(t.shift();t.length>0&&s[t[0]];)s=s[t[0]],t.shift();if(0===t.length)return s}}},t.Utility=class{static target(e){return"id"==e.type?e.value:"."==e.type?t.Utility.target(e.target)+"."+t.Utility.target(e.member):null}},t.Unpickler=class{static open(e){const s=e instanceof Uint8Array?new t.Unpickler.BinaryReader(e):new t.Unpickler.StreamReader(e);if(s.length>2){const e=s.peek(2);if(128===e[0]&&e[1]<7)return new t.Unpickler(s);s.seek(-1);const i=s.peek(1);if(s.seek(0),46===i[0])return new t.Unpickler(s)}return null}constructor(e){this._reader=e}load(e,s){const i=this._reader,n=[];let r=[];const o=new Map,a=t.Unpickler.OpCode;for(;i.position<i.length;){const h=i.byte();switch(h){case a.PROTO:{const e=i.byte();if(e>5)throw new t.Error("Unsupported protocol version '"+e+"'.");break}case a.GLOBAL:r.push([i.line(),i.line()].join("."));break;case a.STACK_GLOBAL:r.push([r.pop(),r.pop()].reverse().join("."));break;case a.PUT:{const e=parseInt(i.line(),10);o.set(e,r[r.length-1]);break}case a.OBJ:{const t=r;r=n.pop(),r.push(e(t.pop(),t));break}case a.GET:{const e=parseInt(i.line(),10);r.push(o.get(e));break}case a.POP:r.pop();break;case a.POP_MARK:r=n.pop();break;case a.DUP:r.push(r[r.length-1]);break;case a.PERSID:r.push(s(i.line()));break;case a.BINPERSID:r.push(s(r.pop()));break;case a.REDUCE:{const t=r.pop(),s=r.pop();r.push(e(s,t));break}case a.NEWOBJ:{const t=r.pop(),s=r.pop();r.push(e(s,t));break}case a.BINGET:r.push(o.get(i.byte()));break;case a.INST:{const t=i.line()+"."+i.line(),s=r;r=n.pop(),r.push(e(t,s));break}case a.LONG_BINGET:r.push(o.get(i.uint32()));break;case a.BINPUT:o.set(i.byte(),r[r.length-1]);break;case a.LONG_BINPUT:o.set(i.uint32(),r[r.length-1]);break;case a.BININT:r.push(i.int32());break;case a.BININT1:r.push(i.byte());break;case a.LONG:r.push(parseInt(i.line(),10));break;case a.BININT2:r.push(i.uint16());break;case a.BINBYTES:r.push(i.read(i.int32()));break;case a.BINBYTES8:r.push(i.read(i.int64()));break;case a.SHORT_BINBYTES:r.push(i.read(i.byte()));break;case a.FLOAT:r.push(parseFloat(i.line()));break;case a.BINFLOAT:r.push(i.float64());break;case a.INT:{const e=i.line();"01"==e?r.push(!0):"00"==e?r.push(!1):r.push(parseInt(e,10));break}case a.EMPTY_LIST:case a.EMPTY_TUPLE:case a.EMPTY_SET:r.push([]);break;case a.ADDITEMS:{const e=r;r=n.pop();const t=r[r.length-1];for(let s=0;s<e.length;s++)t.push(e[s]);break}case a.FROZENSET:{const e=r;r=n.pop(),r.push(e);break}case a.DICT:{const e=r;r=n.pop();const t={};for(let s=0;s<e.length;s+=2)t[e[s]]=e[s+1];r.push(t);break}case a.LIST:{const e=r;r=n.pop(),r.push(e);break}case a.TUPLE:{const e=r;r=n.pop(),r.push(e);break}case a.SETITEM:{const e=r.pop(),t=r.pop(),s=r[r.length-1];s.__setitem__?s.__setitem__(t,e):s[t]=e;break}case a.SETITEMS:{const e=r;r=n.pop();const t=r[r.length-1];for(let s=0;s<e.length;s+=2)t.__setitem__?t.__setitem__(e[s],e[s+1]):t[e[s]]=e[s+1];break}case a.EMPTY_DICT:r.push({});break;case a.APPEND:{const e=r.pop();r[r.length-1].push(e);break}case a.APPENDS:{const e=r;r=n.pop();const t=r[r.length-1];t.push.apply(t,e);break}case a.STRING:{const e=i.line();r.push(e.substr(1,e.length-2));break}case a.BINSTRING:r.push(i.string(i.uint32()));break;case a.SHORT_BINSTRING:r.push(i.string(i.byte()));break;case a.UNICODE:r.push(i.line());break;case a.BINUNICODE:r.push(i.string(i.uint32(),"utf-8"));break;case a.SHORT_BINUNICODE:r.push(i.string(i.byte(),"utf-8"));break;case a.BUILD:{const e=r.pop();let t=r.pop();if(t.__setstate__)t.__setstate__.__call__?t.__setstate__.__call__([t,e]):t.__setstate__(e);else if(ArrayBuffer.isView(e)||Object(e)!==e)t.__state__=e;else if(t instanceof Map)for(const s in e)t.set(s,e[s]);else Object.assign(t,e);t.__read__&&(t=t.__read__(this)),r.push(t);break}case a.MARK:n.push(r),r=[];break;case a.NEWTRUE:r.push(!0);break;case a.NEWFALSE:r.push(!1);break;case a.LONG1:{const e=i.read(i.byte());let t=0;switch(e.length){case 0:t=0;break;case 1:t=e[0];break;case 2:t=e[1]<<8|e[0];break;case 3:t=e[2]<<16|e[1]<<8|e[0];break;case 4:t=e[3]<<24|e[2]<<16|e[1]<<8|e[0];break;case 5:t=4294967296*e[4]+((e[3]<<24|e[2]<<16|e[1]<<8|e[0])>>>0);break;default:t=Array.prototype.slice.call(e,0)}r.push(t);break}case a.LONG4:r.push(i.read(i.uint32()));break;case a.TUPLE1:r.push([r.pop()]);break;case a.TUPLE2:{const e=r.pop(),t=r.pop();r.push([t,e]);break}case a.TUPLE3:{const e=r.pop(),t=r.pop(),s=r.pop();r.push([s,t,e]);break}case a.MEMOIZE:o.set(o.size,r[r.length-1]);break;case a.FRAME:i.read(8);break;case a.BYTEARRAY8:r.push(i.read(i.int64()));break;case a.NONE:r.push(null);break;case a.STOP:return r.pop();default:throw new t.Error("Unknown opcode "+h+" at position "+(i.position-1).toString()+".")}}throw new t.Error("Unexpected end of file.")}read(e){return this._reader.read(e)}stream(e){return this._reader.stream(e)}int32(){return this._reader.int32()}int64(){return this._reader.int64()}unescape(e,t){const s=e.length,i=new Uint8Array(s);if(t&&t==s){for(let s=0;s<t;s++)i[s]=e.charCodeAt(s);return i}let n=0,r=0;for(;n<s;){let t=e.charCodeAt(n++);if(92!==t||n>=s)i[r++]=t;else switch(t=e.charCodeAt(n++),t){case 39:i[r++]=39;break;case 92:i[r++]=92;break;case 34:i[r++]=34;break;case 114:i[r++]=13;break;case 110:i[r++]=10;break;case 116:i[r++]=9;break;case 98:i[r++]=8;break;case 88:case 120:{const t=n-1,o=r;for(let a=0;a<2;a++){if(n>=s){n=t,r=o,i[r]=92;break}let a=e.charCodeAt(n++);if(a=a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:a>=48&&a<=57?a-48:-1,-1===a){n=t,r=o,i[r]=92;break}i[r]=i[r]<<4|a}r++;break}default:if(t<48||t>57)i[r++]=92,i[r++]=t;else{n--;const t=n,o=r;for(let a=0;a<3;a++){if(n>=s){n=t,r=o,i[r]=92;break}const a=e.charCodeAt(n++);if(a<48||a>57){n=t,r=o,i[r]=92;break}i[r]=i[r]<<3|a-48}r++}}}return i.slice(0,r)}},t.Unpickler.OpCode={MARK:40,EMPTY_TUPLE:41,STOP:46,POP:48,POP_MARK:49,DUP:50,BINBYTES:66,SHORT_BINBYTES:67,FLOAT:70,BINFLOAT:71,INT:73,BININT:74,BININT1:75,LONG:76,BININT2:77,NONE:78,PERSID:80,BINPERSID:81,REDUCE:82,STRING:83,BINSTRING:84,SHORT_BINSTRING:85,UNICODE:86,BINUNICODE:88,EMPTY_LIST:93,APPEND:97,BUILD:98,GLOBAL:99,DICT:100,APPENDS:101,GET:103,BINGET:104,INST:105,LONG_BINGET:106,LIST:108,OBJ:111,PUT:112,BINPUT:113,LONG_BINPUT:114,SETITEM:115,TUPLE:116,SETITEMS:117,EMPTY_DICT:125,PROTO:128,NEWOBJ:129,TUPLE1:133,TUPLE2:134,TUPLE3:135,NEWTRUE:136,NEWFALSE:137,LONG1:138,LONG4:139,SHORT_BINUNICODE:140,BINUNICODE8:141,BINBYTES8:142,EMPTY_SET:143,ADDITEMS:144,FROZENSET:145,NEWOBJ_EX:146,STACK_GLOBAL:147,MEMOIZE:148,FRAME:149,BYTEARRAY8:150,NEXT_BUFFER:151,READONLY_BUFFER:152},t.Unpickler.BinaryReader=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0,this._view=new DataView(e.buffer,e.byteOffset,e.byteLength),this._utf8Decoder=new TextDecoder("utf-8"),this._asciiDecoder=new TextDecoder("ascii")}get position(){return this._position}get length(){return this._length}seek(e){if(this._position=e>=0?e:this._length+e,this._position>this._buffer.length)throw new Error("Expected "+(this._position-this._buffer.length)+" more bytes. The file might be corrupted. Unexpected end of file.")}skip(e){if(this._position+=e,this._position>this._buffer.length)throw new t.Error("Expected "+(this._position-this._buffer.length)+" more bytes. The file might be corrupted. Unexpected end of file.")}stream(e){const s=this.read(e);return new t.Unpickler.BinaryReader(s)}peek(e){const t=this._position;e=void 0!==e?e:this._length-this._position,this.skip(e);const s=this._position;return this.skip(-e),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,s)}read(e){const t=this._position;return e=void 0!==e?e:this._length-this._position,this.skip(e),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._view.getUint8(e)}uint16(){const e=this._position;return this.skip(2),this._view.getUint16(e,!0)}int32(){const e=this._position;return this.skip(4),this._view.getInt32(e,!0)}uint32(){const e=this._position;return this.skip(4),this._view.getUint32(e,!0)}int64(){const e=this._position;return this.skip(8),this._view.getInt64(e,!0).toNumber()}float32(){const e=this._position;return this.skip(4),this._view.getFloat32(e,!0)}float64(){const e=this._position;return this.skip(8),this._view.getFloat64(e,!0)}string(e,t){const s=this.read(e);return"utf-8"==t?this._utf8Decoder.decode(s):this._asciiDecoder.decode(s)}line(){const e=this._buffer.indexOf(10,this._position);if(-1==e)throw new t.Error("Could not find end of line.");const s=e-this._position,i=this.string(s,"ascii");return this.skip(1),i}},t.Unpickler.StreamReader=class{constructor(e){this._stream=e,this._length=e.length,this._position=0,this._utf8Decoder=new TextDecoder("utf-8"),this._asciiDecoder=new TextDecoder("ascii")}get position(){return this._position}get length(){return this._length}seek(e){this._stream.seek(e),this._position=this._stream.position}skip(e){if(this._position+=e,this._position>this._length)throw new t.Error("Expected "+(this._position-this._length)+" more bytes. The file might be corrupted. Unexpected end of file.")}stream(e){return this._stream.seek(this._position),this.skip(e),this._stream.stream(e)}peek(e){return this._stream.seek(this._position),this._stream.peek(e)}read(e){return this._stream.seek(this._position),this.skip(e),this._stream.read(e)}byte(){const e=this._fill(1);return this._view.getUint8(e)}uint16(){const e=this._fill(2);return this._view.getUint16(e,!0)}int32(){const e=this._fill(4);return this._view.getInt32(e,!0)}uint32(){const e=this._fill(4);return this._view.getUint32(e,!0)}int64(){const e=this._fill(8);return this._view.getInt64(e,!0).toNumber()}float32(){const e=this._fill(4);return this._view.getFloat32(e,!0)}float64(){const e=this._fill(8);return this._view.getFloat64(e,!0)}string(e,t){const s=this.read(e);return"utf-8"==t?this._utf8Decoder.decode(s):this._asciiDecoder.decode(s)}line(){let e=this._fill(0),s=this._buffer.indexOf(10,e);if(-1==s){const i=Math.min(16777216,this._stream.length-this._position);if(this._fill(i),this.skip(-i),e=this._fill(0),s=this._buffer.indexOf(10,e),-1==s)throw new t.Error("Could not find end of line.")}const i=s-e,n=this.string(i,"ascii");return this.skip(1),n}_fill(e){if(this._position+e>this._length)throw new Error("Expected "+(this._position+e-this._length)+" more bytes. The file might be corrupted. Unexpected end of file.");(!this._buffer||this._position<this._offset||this._position+e>this._offset+this._buffer.length)&&(this._offset=this._position,this._stream.seek(this._offset),this._buffer=this._stream.read(Math.min(268435456,this._length-this._offset)),this._view=new DataView(this._buffer.buffer,this._buffer.byteOffset,this._buffer.byteLength));const t=this._position;return this._position+=e,t-this._offset}},t.Error=class extends Error{constructor(e){super(e),this.name="Error loading Python module."}},"object"==typeof e.exports&&(e.exports.Execution=t.Execution,e.exports.Unpickler=t.Unpickler)},182:e=>{var t=t||{};t.Archive=class{static open(e){const s=e instanceof Uint8Array?new t.BinaryReader(e):e;if(s.length>512){const e=s.peek(512),i=e.map(((e,t)=>t>=148&&t<156?32:e)).reduce(((e,t)=>e+t),0);let n="";for(let t=148;t<156&&0!==e[t];t++)n+=String.fromCharCode(e[t]);if(n=parseInt(n,8),!isNaN(n)&&i===n)return new t.Archive(s)}return null}constructor(e){this._entries=new Map;const s=e.position;for(;e.position<e.length;){const s=new t.Entry(e);if("0"!==s.type&&"1"!==s.type&&"2"!==s.type||this._entries.set(s.name,s.stream),e.position+512>e.length||e.peek(512).every((e=>0===e)))break}e.seek(s)}get entries(){return this._entries}},t.Entry=class{constructor(e){const s=e.read(512),i=new t.BinaryReader(s),n=s.map(((e,t)=>t>=148&&t<156?32:e)).reduce(((e,t)=>e+t),0);let r="";for(let e=148;e<156&&0!==s[e];e++)r+=String.fromCharCode(s[e]);if(r=parseInt(r,8),isNaN(r)||n!==r)throw new t.Error("Invalid tar archive.");this._name=i.string(100),i.string(8),i.string(8),i.string(8);const o=parseInt(i.string(12).trim(),8);i.string(12),i.string(8),this._type=i.string(1),i.string(100),"ustar"===i.string(6)&&(i.string(2),i.string(32),i.string(32),i.string(8),i.string(8),this._name=i.string(155)+this._name),this._stream=e.stream(o),e.read(o%512!=0?512-o%512:0)}get type(){return this._type}get name(){return this._name}get stream(){return this._stream}},t.BinaryReader=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0,this._view=new DataView(e.buffer,e.byteOffset,e.byteLength)}get position(){return this._position}get length(){return this._length}create(e){return new t.BinaryReader(e)}stream(e){return this.create(this.read(e))}seek(e){this._position=e>=0?e:this._length+e}skip(e){this._position+=e}peek(e){if(0===this._position&&void 0===e)return this._buffer;const t=this._position;this.skip(void 0!==e?e:this._length-this._position);const s=this._position;return this.seek(t),this._buffer.subarray(t,s)}read(e){if(0===this._position&&void 0===e)return this._position=this._length,this._buffer;const t=this._position;return this.skip(void 0!==e?e:this._length-this._position),this._buffer.subarray(t,this._position)}string(e){const t=this.read(e);let s=0,i="";for(let n=0;n<e;n++){const e=t[s++];if(0===e)break;i+=String.fromCharCode(e)}return i}},t.Error=class extends Error{constructor(e){super(e),this.name="tar Error"}},"object"==typeof e.exports&&(e.exports.Archive=t.Archive)},152:e=>{var t=t||{};t.Decoder=class{static open(e,s){if("string"==typeof e)return new t.Decoder.String(e);const i=(e,s)=>{if(e&&e!==s)throw new t.Error("Invalid encoding '"+e+"'.")},n=e instanceof Uint8Array?e:e.peek(),r=n.length;if(r>=3&&239===n[0]&&187===n[1]&&191===n[2])return i(s,"utf-8"),new t.Decoder.Utf8(n,3,!0);if(r>=2&&255===n[0]&&254===n[1])return i(s,"utf-16"),new t.Decoder.Utf16LE(n,2);if(r>=2&&254===n[0]&&255===n[1])return i(s,"utf-16"),new t.Decoder.Utf16BE(n,2);if(r>=4&&0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])throw new t.Error("Unsupported UTF-32 big-endian encoding.");if(r>=4&&255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])throw new t.Error("Unsupported UTF-32 little-endian encoding.");if(r>=5&&43===n[0]&&47===n[1]&&118===n[2]&&56===n[3]&&45===n[4])throw new t.Error("Unsupported UTF-7 encoding.");if(r>=4&&43===n[0]&&47===n[1]&&118===n[2]&&(56===n[3]||57===n[3]||43===n[3]||47===n[3]))throw new t.Error("Unsupported UTF-7 encoding.");if(r>=4&&132===n[0]&&49===n[1]&&149===n[2]&&51===n[3])throw new t.Error("Unsupported GB-18030 encoding.");if(r>4&&r%2==0&&(0===n[0]||0===n[1]||0===n[2]||0===n[3])){const e=new Uint32Array(256),o=new Uint32Array(256);for(let t=0;t<r;t+=2)e[n[t]]++,o[n[t+1]]++;if(0===e[0]&&o[0]/(r>>1)>.5)return i(s,"utf-16"),new t.Decoder.Utf16LE(n,0);if(0===o[0]&&e[0]/(r>>1)>.5)return i(s,"utf-16"),new t.Decoder.Utf16BE(n,0)}return s&&(s.startsWith("iso-8859-")||s.startsWith("latin-"))?new t.Decoder.Latin1(n,0):(i(s,"utf-8"),new t.Decoder.Utf8(n,0,"utf-8"===s))}},t.Decoder.String=class{constructor(e){this.buffer=e?e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g):[],this.position=0,this.length=this.buffer.length}get encoding(){return null}get encoding(){return null}decode(){if(this.position<this.length)return this.buffer[this.position++]}},t.Decoder.Utf8=class{constructor(e,t,s){this.position=t||0,this.buffer=e,this.fatal=s}get encoding(){return"utf-8"}decode(){const e=this.buffer[this.position];if(void 0===e)return e;if(this.position++,e<128)return String.fromCodePoint(e);if(e>=194&&e<=223&&void 0!==this.buffer[this.position]){const t=this.buffer[this.position];return this.position++,String.fromCharCode((31&e)<<6|63&t)}if(e>=224&&e<=239&&void 0!==this.buffer[this.position+1]){const t=this.buffer[this.position];if((224!==e||t>=160)&&(237!==e||t<=159)){const s=this.buffer[this.position+1];if(s>=128&&s<251)return this.position+=2,String.fromCharCode((15&e)<<12|(63&t)<<6|(63&s)<<0)}}if(e>=240&&e<=244&&void 0!==this.buffer[this.position+2]){const t=this.buffer[this.position];if(t>=128&&t<=191){const s=this.buffer[this.position+1];if(s>=128&&s<=191){const i=this.buffer[this.position+2];if(i>=128&&i<=191)return this.position+=3,String.fromCodePoint((7&e)<<18|(63&t)<<12|(63&s)<<6|63&i)}}}if(this.fatal)throw new t.Error("Invalid utf-8 character.");return String.fromCharCode(65533)}},t.Decoder.Latin1=class{constructor(e,t){this.position=t||0,this.buffer=e}get encoding(){return"latin-1"}decode(){const e=this.buffer[this.position];return void 0===e?e:(this.position++,String.fromCodePoint(e))}},t.Decoder.Utf16LE=class{constructor(e,t){this.buffer=e,this.position=t||0,this.length=e.length}get encoding(){return"utf-16"}decode(){if(this.position+1<this.length){const e=this.buffer[this.position++]|this.buffer[this.position++]<<8;if(e<55296||e>=57343)return String.fromCharCode(e);if(e>=55296&&e<56319&&this._position+1<this._length){const t=this._buffer[this._position++]|this._buffer[this._position++]<<8;if(e>=56320||e<57343)return String.fromCodePoint(65536+((1023&e)<<10)+(1023&t))}return String.fromCharCode(65533)}}},t.Decoder.Utf16BE=class{constructor(e,t){this.buffer=e,this.position=t||0,this.length=e.length}get encoding(){return"utf-16"}decode(){if(this.position+1<this.length){const e=this.buffer[this.position++]<<8|this.buffer[this.position++];if(e<55296||e>=57343)return String.fromCharCode(e);if(e>=55296&&e<56319&&this._position+1<this._length){const t=this._buffer[this._position++]<<8|this._buffer[this._position++];if(e>=56320||e<57343)return String.fromCodePoint(65536+((1023&e)<<10)+(1023&t))}return String.fromCharCode(65533)}}},t.Reader=class{constructor(e,s){this._decoder=t.Decoder.open(e),this._position=0,this._length=s||Number.MAX_SAFE_INTEGER}static open(e,s){return new t.Reader(e,s)}read(){if(this._position>=this._length)return;let e="",t=null;for(;;){const s=this._decoder.decode();if(void 0===s){this._length=this._position;break}if(this._position++,this._position>this._length)break;if("\n"===s)break;e+=s,e.length>=32&&(t=t||[],t.push(e),e="")}return t?(t.push(e),t.join("")):e}},t.Error=class extends Error{constructor(e){super(e),this.name="Text Error"}},"object"==typeof e.exports&&(e.exports.Decoder=t.Decoder,e.exports.Reader=t.Reader)},701:(e,t,s)=>{var i=i||{},n=n||s(135);i.Graph=class{constructor(e,t){this._isCompound=e,this._options=t,this._nodes=new Map,this._edges=new Map,this._children={},this._children["\0"]={},this._parent={}}graph(){return this._options}setNode(e){return this._nodes.set(e.name,e),this._isCompound&&(this._parent[e.name]="\0",this._children[e.name]={},this._children["\0"][e.name]=!0),this}setEdge(e){if(!this._nodes.has(e.v))throw new i.Error;if(!this._nodes.has(e.w))throw new i.Error;const t=e.v+" "+e.w+" ";return this._edges.has(t)||this._edges.set(t,e),this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");for(let s=t+="";s;s=this.parent(s))if(s===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");return delete this._children[this._parent[e]][e],this._parent[e]=t,this._children[t][e]=!0,this}nodes(){return Array.from(this._nodes.keys())}hasNode(e){return this._nodes.has(e)}node(e){return this._nodes.get(e)}edges(){return Array.from(this._edges.values())}edge(e){return e}parent(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}}children(e){if(e=void 0===e?"\0":e,this._isCompound){const t=this._children[e];if(t)return Object.keys(t)}else{if("\0"===e)return this.nodes();if(this.hasNode(e))return[]}}build(e,t){const s=t=>e.createElementNS("http://www.w3.org/2000/svg",t),i=e=>{const i=s("g");return i.setAttribute("id",e),i.setAttribute("class",e),t.appendChild(i),i},n=i("clusters"),r=i("edge-paths"),o=i("edge-labels"),a=i("nodes"),h=s("defs");r.appendChild(h);const c=e=>{const t=s("marker");t.setAttribute("id",e),t.setAttribute("viewBox","0 0 10 10"),t.setAttribute("refX",9),t.setAttribute("refY",5),t.setAttribute("markerUnits","strokeWidth"),t.setAttribute("markerWidth",8),t.setAttribute("markerHeight",6),t.setAttribute("orient","auto");const i=s("path");return i.setAttribute("d","M 0 0 L 10 5 L 0 10 L 4 5 z"),i.style.setProperty("stroke-width",1),t.appendChild(i),t};h.appendChild(c("arrowhead-vee")),h.appendChild(c("arrowhead-vee-select"));for(const t of this.nodes()){const i=this.node(t);0==this.children(t).length?i.build(e,a):(i.rectangle=s("rect"),i.rx&&i.rectangle.setAttribute("rx",i.rx),i.ry&&i.rectangle.setAttribute("ry",i.ry),i.element=s("g"),i.element.setAttribute("class","cluster"),i.element.appendChild(i.rectangle),n.appendChild(i.element))}for(const t of this.edges())this.edge(t).build(e,r,o)}layout(){n.layout(this);for(const e of this.nodes()){const t=this.node(e);if(0==this.children(e).length)t.layout();else{const t=this.node(e);t.element.setAttribute("transform","translate("+t.x+","+t.y+")"),t.rectangle.setAttribute("x",-t.width/2),t.rectangle.setAttribute("y",-t.height/2),t.rectangle.setAttribute("width",t.width),t.rectangle.setAttribute("height",t.height)}}for(const e of this.edges())this.edge(e).layout()}},i.Node=class{constructor(){this._blocks=[]}header(){const e=new i.Node.Header;return this._blocks.push(e),e}list(){const e=new i.Node.List;return this._blocks.push(e),e}build(e,t){const s=t=>e.createElementNS("http://www.w3.org/2000/svg",t);this.label=s("g"),this.element=s("g"),this.id&&this.element.setAttribute("id",this.id),this.element.setAttribute("class",this.class?"node "+this.class:"node"),this.element.style.opacity=0,this.element.appendChild(this.label),t.appendChild(this.element);let n=0,r=0;const o=[];for(const t of this._blocks)o.push(r),t.build(e,this.label),n<t.width&&(n=t.width),r+=t.height;for(let e=0;e<this._blocks.length;e++){const t=o.shift();this._blocks[e].update(this.label,t,n,0==e,e==this._blocks.length-1)}const a=s("path");a.setAttribute("class",["node","border"].join(" ")),a.setAttribute("d",i.Node.roundedRect(0,0,n,r,!0,!0,!0,!0)),this.label.appendChild(a);const h=this.label.getBBox(),c=-h.width/2,l=-h.height/2;this.width=h.width,this.height=h.height,this.label.setAttribute("transform","translate("+c+","+l+")")}layout(){this.element.setAttribute("transform","translate("+this.x+","+this.y+")"),this.element.style.opacity=1}static roundedRect(e,t,s,i,n,r,o,a){return"M"+(e+(n=n?5:0))+","+t+"h"+(s-n-(r=r?5:0))+"a"+r+","+r+" 0 0 1 "+r+","+r+"v"+(i-r-(o=o?5:0))+"a"+o+","+o+" 0 0 1 "+-o+","+o+"h"+(o+(a=a?5:0)-s)+"a"+a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a+n)+"a"+n+","+n+" 0 0 1 "+n+","+-n+"z"}},i.Node.Header=class{constructor(){this._items=[]}add(e,t,s,i,n){this._items.push({id:e,classList:t,content:s,tooltip:i,handler:n})}build(e,t){this._document=e,this._width=0,this._height=0,this._elements=[];let s=0;for(const e of this._items){const i=4,n=7,r=this.createElement("g"),o=["node-item"];t.appendChild(r);const a=this.createElement("path"),h=this.createElement("text");if(r.appendChild(a),r.appendChild(h),e.classList&&o.push(...e.classList),r.setAttribute("class",o.join(" ")),e.id&&r.setAttribute("id",e.id),e.handler&&r.addEventListener("click",e.handler),e.tooltip){const t=this.createElement("title");t.textContent=e.tooltip,r.appendChild(t)}e.content&&(h.textContent=e.content);const c=h.getBBox(),l=c.width+n+n,p=c.height+i+i;this._elements.push({group:r,text:h,path:a,x:s,y:0,width:l,height:p,tx:n,ty:i-c.y}),s+=l,this._height<p&&(this._height=p),s>this._width&&(this._width=s)}}get width(){return this._width}get height(){return this._height}update(e,t,s,n,r){const o=s-this._width;let a,h,c;for(a=0;a<this._elements.length;a++)h=this._elements[a],0==a?h.width=h.width+o:(h.x=h.x+o,h.tx=h.tx+o),h.y=h.y+t;for(a=0;a<this._elements.length;a++){h=this._elements[a],h.group.setAttribute("transform","translate("+h.x+","+h.y+")");const e=0==a&&n,t=a==this._elements.length-1&&n,s=a==this._elements.length-1&&r,o=0==a&&r;h.path.setAttribute("d",i.Node.roundedRect(0,0,h.width,h.height,e,t,s,o)),h.text.setAttribute("x",6),h.text.setAttribute("y",h.ty)}for(a=0;a<this._elements.length;a++)h=this._elements[a],0!=a&&(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",h.x),c.setAttribute("x2",h.x),c.setAttribute("y1",t),c.setAttribute("y2",t+this._height),e.appendChild(c));n||(c=this.createElement("line"),c.setAttribute("class","node"),c.setAttribute("x1",0),c.setAttribute("x2",s),c.setAttribute("y1",t),c.setAttribute("y2",t),e.appendChild(c))}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}},i.Node.List=class{constructor(){this._items=[]}add(e,t,s,i,n){this._items.push({id:e,name:t,value:s,tooltip:i,separator:n})}get handler(){return this._handler}set handler(e){this._handler=e}build(e,t){this._document=e,this._width=0,this._height=0,this._element=this.createElement("g"),this._element.setAttribute("class","node-attribute"),t.appendChild(this._element),this._handler&&this._element.addEventListener("click",this._handler),this._backgroundElement=this.createElement("path"),this._element.appendChild(this._backgroundElement),this._element.setAttribute("transform","translate(0,0)"),this._height+=3;for(const e of this._items){const t=1,s=6,i=this.createElement("text");if(e.id&&i.setAttribute("id",e.id),i.setAttribute("xml:space","preserve"),this._element.appendChild(i),e.tooltip){const t=this.createElement("title");t.textContent=e.tooltip,i.appendChild(t)}const n=this.createElement("tspan");n.textContent=e.name,"="!=e.separator.trim()&&(n.style.fontWeight="bold"),i.appendChild(n);const r=this.createElement("tspan");r.textContent=e.separator+e.value,i.appendChild(r);const o=i.getBBox(),a=s+o.width+s;this._width<a&&(this._width=a),i.setAttribute("x",0+s),i.setAttribute("y",this._height+t-o.y),this._height+=t+o.height+t}this._height+=3,this._width<75&&(this._width=75)}get width(){return this._width}get height(){return this._height}update(e,t,s,n,r){this._element.setAttribute("transform","translate(0,"+t+")");const o=n,a=n,h=r,c=r;if(this._backgroundElement.setAttribute("d",i.Node.roundedRect(0,0,s,this._height,o,a,h,c)),!n){const e=this.createElement("line");e.setAttribute("class","node"),e.setAttribute("x1",0),e.setAttribute("x2",s),e.setAttribute("y1",0),e.setAttribute("y2",0),this._element.appendChild(e)}}createElement(e){return this._document.createElementNS("http://www.w3.org/2000/svg",e)}};class r{constructor(){this._x0=null,this._y0=null,this._x1=null,this._y1=null,this._data=""}moveTo(e,t){this._data+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)}lineTo(e,t){this._data+="L"+(this._x1=+e)+","+(this._y1=+t)}bezierCurveTo(e,t,s,i,n,r){this._data+="C"+ +e+","+ +t+","+ +s+","+ +i+","+(this._x1=+n)+","+(this._y1=+r)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._data+="Z")}get data(){return this._data}}class o{constructor(e){this._context=e}lineStart(){this._x0=NaN,this._x1=NaN,this._y0=NaN,this._y1=NaN,this._point=0}lineEnd(){switch(this._point){case 3:this.curve(this._x1,this._y1),this._context.lineTo(this._x1,this._y1);break;case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6),this.curve(e,t);break;default:this.curve(e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}curve(e,t){this._context.bezierCurveTo((2*this._x0+this._x1)/3,(2*this._y0+this._y1)/3,(this._x0+2*this._x1)/3,(this._y0+2*this._y1)/3,(this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6)}}i.Edge=class{constructor(e,t){this.from=e,this.to=t}get arrowhead(){return"vee"}build(e,t,s){const i=t=>e.createElementNS("http://www.w3.org/2000/svg",t);if(this.element=i("path"),this.id&&this.element.setAttribute("id",this.id),this.element.setAttribute("class",this.class?"edge-path "+this.class:"edge-path"),t.appendChild(this.element),this.label){const t=i("tspan");t.setAttribute("xml:space","preserve"),t.setAttribute("dy","1em"),t.setAttribute("x","1"),t.appendChild(e.createTextNode(this.label));const n=i("text");n.appendChild(t);const r=i("g");r.appendChild(n),this.labelElement=i("g"),this.labelElement.style.opacity=0,this.labelElement.setAttribute("class","edge-label"),this.id&&this.labelElement.setAttribute("id","edge-label-"+this.id),this.labelElement.appendChild(r),s.appendChild(this.labelElement);const o=r.getBBox(),a=-o.width/2,h=-o.height/2;r.setAttribute("transform","translate("+a+","+h+")"),this.width=o.width,this.height=o.height}}layout(){const e=i.Edge._computeCurvePath(this,this.from,this.to);this.element.setAttribute("d",e),this.labelElement&&(this.labelElement.setAttribute("transform","translate("+this.x+","+this.y+")"),this.labelElement.style.opacity=1)}static _computeCurvePath(e,t,s){const n=e.points.slice(1,e.points.length-1);n.unshift(i.Edge._intersectRect(t,n[0])),n.push(i.Edge._intersectRect(s,n[n.length-1]));const a=new r,h=new o(a);for(let e=0;e<n.length;e++){const t=n[e];0==e&&h.lineStart(),h.point(t.x,t.y),e==n.length-1&&h.lineEnd()}return a.data}static _intersectRect(e,t){const s=e.x,i=e.y,n=t.x-s,r=t.y-i;let o,a,h=e.width/2,c=e.height/2;return Math.abs(r)*h>Math.abs(n)*c?(r<0&&(c=-c),o=0===r?0:c*n/r,a=c):(n<0&&(h=-h),o=h,a=0===n?0:h*r/n),{x:s+o,y:i+a}}},"object"==typeof e.exports&&(e.exports.Graph=i.Graph,e.exports.Node=i.Node,e.exports.Edge=i.Edge)},555:(e,t,s)=>{var i=i||{},n=n||s(243);i.Sidebar=class{constructor(e,t){this._host=e,this._id=t?"-"+t:"",this._stack=[],this._closeSidebarHandler=()=>{this._pop()},this._closeSidebarKeyDownHandler=e=>{27==e.keyCode&&(e.preventDefault(),this._pop())}}_getElementById(e){return this._host.document.getElementById(e+this._id)}open(e,t){this.close(),this.push(e,t)}close(){this._deactivate(),this._stack=[],this._hide()}push(e,t){const s={title:t,content:e};this._stack.push(s),this._activate(s)}_pop(){this._deactivate(),this._stack.length>0&&this._stack.pop(),this._stack.length>0?this._activate(this._stack[this._stack.length-1]):this._hide()}_hide(){const e=this._getElementById("sidebar");e&&(e.style.width="0px");const t=this._getElementById("graph");t&&(t.style.marginRight="0px",t.focus())}_deactivate(){if(this._getElementById("sidebar")){const e=this._getElementById("sidebar-closebutton");e&&(e.removeEventListener("click",this._closeSidebarHandler),e.style.color="#f8f8f8"),this._host.document.removeEventListener("keydown",this._closeSidebarKeyDownHandler)}}_activate(e){const t="min(calc(100vw * 0.6), 500px)",s=this._getElementById("sidebar");if(s){s.innerHTML="";const i=this._host.document.createElement("h1");i.classList.add("sidebar-title"),i.innerHTML=e.title?e.title.toUpperCase():"",s.appendChild(i);const n=this._host.document.createElement("a");n.classList.add("sidebar-closebutton"),n.setAttribute("id","sidebar-closebutton"),n.setAttribute("href","javascript:void(0)"),n.innerHTML="&times;",n.addEventListener("click",this._closeSidebarHandler),s.appendChild(n);const r=this._host.document.createElement("div");if(r.classList.add("sidebar-content"),r.setAttribute("id","sidebar-content"),s.appendChild(r),"string"==typeof e.content)r.innerHTML=e.content;else if(e.content instanceof Array)for(const t of e.content)r.appendChild(t);else r.appendChild(e.content);s.style.width=t,this._host.document.addEventListener("keydown",this._closeSidebarKeyDownHandler)}const i=this._getElementById("graph");i&&(i.style.marginRight=t)}},i.NodeSidebar=class{constructor(e,t){if(this._host=e,this._node=t,this._elements=[],this._attributes=[],this._inputs=[],this._outputs=[],t.type){let e=null;const s=t.type;s&&(s.description||s.inputs||s.outputs||s.attributes)&&(e={},e.text=s.nodes?"":"?",e.callback=()=>{this._raise("show-documentation",null)}),this._addProperty("type",new i.ValueTextView(this._host,t.type.name,e)),t.type.module&&this._addProperty("module",new i.ValueTextView(this._host,t.type.module))}t.name&&this._addProperty("name",new i.ValueTextView(this._host,t.name)),t.location&&this._addProperty("location",new i.ValueTextView(this._host,t.location)),t.description&&this._addProperty("description",new i.ValueTextView(this._host,t.description)),t.device&&this._addProperty("device",new i.ValueTextView(this._host,t.device));const s=t.attributes;if(s&&s.length>0){const e=t.attributes.slice();e.sort(((e,t)=>{const s=e.name.toUpperCase(),i=t.name.toUpperCase();return s<i?-1:s>i?1:0})),this._addHeader("Attributes");for(const t of e)this._addAttribute(t.name,t)}const n=t.inputs;if(n&&n.length>0){this._addHeader("Inputs");for(const e of n)this._addInput(e.name,e)}const r=t.outputs;if(r&&r.length>0){this._addHeader("Outputs");for(const e of r)this._addOutput(e.name,e)}const o=this._host.document.createElement("div");o.className="sidebar-view-separator",this._elements.push(o)}render(){return this._elements}_addHeader(e){const t=this._host.document.createElement("div");t.className="sidebar-view-header",t.innerText=e,this._elements.push(t)}_addProperty(e,t){const s=new i.NameValueView(this._host,e,t);this._elements.push(s.render())}_addAttribute(e,t){const s=new r(this._host,t);s.on("show-graph",((e,t)=>{this._raise("show-graph",t)}));const n=new i.NameValueView(this._host,e,s);this._attributes.push(n),this._elements.push(n.render())}_addInput(e,t){if(t.arguments.length>0){const s=new i.ParameterView(this._host,t);s.on("export-tensor",((e,t)=>{this._raise("export-tensor",t)})),s.on("error",((e,t)=>{this._raise("error",t)}));const n=new i.NameValueView(this._host,e,s);this._inputs.push(n),this._elements.push(n.render())}}_addOutput(e,t){if(t.arguments.length>0){const s=new i.NameValueView(this._host,e,new i.ParameterView(this._host,t));this._outputs.push(s),this._elements.push(s.render())}}toggleInput(e){for(const t of this._inputs)e==t.name&&t.toggle()}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}static formatAttributeValue(e,t,s){if("function"==typeof e)return e();if(e&&(e instanceof n.Int64||e instanceof n.Uint64))return e.toString();if(Number.isNaN(e))return"NaN";switch(t){case"shape":return e?e.toString():"(null)";case"shape[]":if(e&&!Array.isArray(e))throw new Error("Invalid shape '"+JSON.stringify(e)+"'.");return e?e.map((e=>e.toString())).join(", "):"(null)";case"graph":return e?e.name:"(null)";case"graph[]":return e?e.map((e=>e.name)).join(", "):"(null)";case"tensor":return e&&e.type&&e.type.shape&&e.type.shape.dimensions&&0==e.type.shape.dimensions.length?e.toString():"[...]";case"function":return e.name;case"function[]":return e?e.map((e=>e.name)).join(", "):"(null)"}if("string"==typeof e&&(!t||"string"!=t))return s?'"'+e+'"':e;if(Array.isArray(e)){if(0==e.length)return s?"[]":"";let r=!1;e.length>1e3&&(e=e.slice(0,1e3),r=!0);const o=t&&t.endsWith("[]")?t.substring(0,t.length-2):null,a=e.map((e=>{if(e&&(e instanceof n.Int64||e instanceof n.Uint64))return e.toString();if(Number.isNaN(e))return"NaN";const t=!o||"string"===o;return i.NodeSidebar.formatAttributeValue(e,o,t)}));return r&&a.push(""),s?["[",a.join(", "),"]"].join(" "):a.join(", ")}if(null===e)return s?"null":"";if(void 0===e)return"undefined";if(e!==Object(e))return e.toString();const r=[],o=Object.keys(e).filter((e=>!e.startsWith("__")&&!e.endsWith("__")));if(1==o.length)r.push(i.NodeSidebar.formatAttributeValue(e[Object.keys(e)[0]],null,!0));else for(const t of o)r.push(t+": "+i.NodeSidebar.formatAttributeValue(e[t],null,!0));let a=e.__type__;if(!a&&e.constructor.name&&"Object"!==e.constructor.name&&(a=e.constructor.name),a)return a+(0==r.length?"()":["(",r.join(", "),")"].join(""));switch(r.length){case 0:return s?"()":"";case 1:return r[0];default:return s?["(",r.join(", "),")"].join(" "):r.join(", ")}}},i.NameValueView=class{constructor(e,t,s){this._host=e,this._name=t,this._value=s;const i=this._host.document.createElement("div");i.className="sidebar-view-item-name";const n=this._host.document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",t),n.setAttribute("title",t),n.setAttribute("readonly","true"),i.appendChild(n);const r=this._host.document.createElement("div");r.className="sidebar-view-item-value-list";for(const e of s.render())r.appendChild(e);this._element=this._host.document.createElement("div"),this._element.className="sidebar-view-item",this._element.appendChild(i),this._element.appendChild(r)}get name(){return this._name}render(){return this._element}toggle(){this._value.toggle()}},i.SelectView=class{constructor(e,t,s){this._host=e,this._elements=[];const i=this._host.document.createElement("select");i.setAttribute("class","sidebar-view-item-select"),i.addEventListener("change",(e=>{this._raise("change",e.target.value)})),this._elements.push(i);for(const e of t){const t=this._host.document.createElement("option");t.innerText=e,e==s&&t.setAttribute("selected","selected"),i.appendChild(t)}}render(){return this._elements}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}},i.ValueTextView=class{constructor(e,t,s){this._host=e,this._elements=[];const i=this._host.document.createElement("div");i.className="sidebar-view-item-value",this._elements.push(i),s&&(this._action=this._host.document.createElement("div"),this._action.className="sidebar-view-item-value-expander",this._action.innerHTML=s.text,this._action.addEventListener("click",(()=>{s.callback()})),i.appendChild(this._action));const n=Array.isArray(t)?t:[t];let r="sidebar-view-item-value-line";for(const e of n){const t=this._host.document.createElement("div");t.className=r,t.innerText=e,i.appendChild(t),r="sidebar-view-item-value-line-border"}}render(){return this._elements}toggle(){}};class r{constructor(e,t){this._host=e,this._attribute=t,this._element=this._host.document.createElement("div"),this._element.className="sidebar-view-item-value";const s=this._attribute.type;s&&(this._expander=this._host.document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",(()=>{this.toggle()})),this._element.appendChild(this._expander));const n=this._attribute.value;switch(s){case"graph":case"function":{const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-link",e.innerHTML=n.name,e.addEventListener("click",(()=>{this._raise("show-graph",n)})),this._element.appendChild(e);break}default:{let e=i.NodeSidebar.formatAttributeValue(n,s);e&&e.length>1e3&&(e=e.substring(0,1e3)+""),e&&"string"==typeof text&&(e=e.split("<").join("&lt;").split(">").join("&gt;"));const t=this._host.document.createElement("div");t.className="sidebar-view-item-value-line",t.innerHTML=e||"&nbsp;",this._element.appendChild(t)}}}render(){return[this._element]}toggle(){if("+"==this._expander.innerText){this._expander.innerText="-";const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border";const t=this._attribute.type,s=this._attribute.value;"tensor"==t&&s&&s.type?(e.innerHTML="type: <code><b>"+s.type.toString()+"</b></code>",this._element.appendChild(e)):(e.innerHTML="type: <code><b>"+this._attribute.type+"</b></code>",this._element.appendChild(e));const i=this._attribute.description;if(i){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML=i,this._element.appendChild(e)}if("tensor"==this._attribute.type&&s){const e=s.state,t=this._host.document.createElement("div");t.className="sidebar-view-item-value-line-border";const i=this._host.document.createElement("pre");i.innerHTML=e||s.toString(),t.appendChild(i),this._element.appendChild(t)}}else for(this._expander.innerText="+";this._element.childElementCount>2;)this._element.removeChild(this._element.lastChild)}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}}i.ParameterView=class{constructor(e,t){this._list=t,this._elements=[],this._items=[];for(const s of t.arguments){const t=new i.ArgumentView(e,s);t.on("export-tensor",((e,t)=>{this._raise("export-tensor",t)})),t.on("error",((e,t)=>{this._raise("error",t)})),this._items.push(t),this._elements.push(t.render())}}render(){return this._elements}toggle(){for(const e of this._items)e.toggle()}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}},i.ArgumentView=class{constructor(e,t){this._host=e,this._argument=t,this._element=this._host.document.createElement("div"),this._element.className="sidebar-view-item-value";const s=t.initializer;s&&this._element.classList.add("sidebar-view-item-value-dark");const i=t.quantization,n=t.type,r=void 0!==this._argument.location;(n||s||i||r)&&(this._expander=this._host.document.createElement("div"),this._expander.className="sidebar-view-item-value-expander",this._expander.innerText="+",this._expander.addEventListener("click",(()=>{this.toggle()})),this._element.appendChild(this._expander));let o=this._argument.name||"";if(this._hasId=!!o,this._hasKind=!(!s||!s.kind),this._hasId||!this._hasKind&&!n){this._hasId=!0;const e=this._host.document.createElement("div");if(e.className="sidebar-view-item-value-line","string"!=typeof o)throw new Error("Invalid argument identifier '"+JSON.stringify(o)+"'.");o=o.split("\n").shift(),o=o||" ",e.innerHTML="<span class='sidebar-view-item-value-line-content'>name: <b>"+o+"</b></span>",this._element.appendChild(e)}else if(this._hasKind){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line",e.innerHTML="kind: <b>"+s.kind+"</b>",this._element.appendChild(e)}else if(n){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="type: <code><b>"+n.toString().split("<").join("&lt;").split(">").join("&gt;")+"</b></code>",this._element.appendChild(e)}}render(){return this._element}toggle(){if(this._expander)if("+"==this._expander.innerText){this._expander.innerText="-";const e=this._argument.initializer;if(this._hasId&&this._hasKind){const t=this._host.document.createElement("div");t.className="sidebar-view-item-value-line-border",t.innerHTML="kind: <b>"+e.kind+"</b>",this._element.appendChild(t)}let t=null,s=null;if(this._argument.type&&(t=this._argument.type.toString(),s=this._argument.type.denotation||null),t&&(this._hasId||this._hasKind)){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="type: <code><b>"+t.split("<").join("&lt;").split(">").join("&gt;")+"</b></code>",this._element.appendChild(e)}if(s){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="denotation: <code><b>"+s+"</b></code>",this._element.appendChild(e)}const i=this._argument.description;if(i){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML=i,this._element.appendChild(e)}const n=this._argument.quantization;if(n){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="<span class='sidebar-view-item-value-line-content'>quantization: <b>"+n+"</b></span>",this._element.appendChild(e)}if(void 0!==this._argument.location){const e=this._host.document.createElement("div");e.className="sidebar-view-item-value-line-border",e.innerHTML="location: <b>"+this._argument.location+"</b>",this._element.appendChild(e)}if(e){const t=this._host.document.createElement("pre"),s=this._host.document.createElement("div");try{const i=e.state;null===i&&this._host.save&&e.type.dataType&&"?"!=e.type.dataType&&e.type.shape&&e.type.shape.dimensions&&e.type.shape.dimensions.length>0&&(this._saveButton=this._host.document.createElement("div"),this._saveButton.className="sidebar-view-item-value-expander",this._saveButton.innerHTML="&#x1F4BE;",this._saveButton.addEventListener("click",(()=>{this._raise("export-tensor",e)})),this._element.appendChild(this._saveButton)),s.className="sidebar-view-item-value-line-border",t.innerHTML=i||e.toString()}catch(e){t.innerHTML=e.toString(),this._raise("error",e)}s.appendChild(t),this._element.appendChild(s)}}else for(this._expander.innerText="+";this._element.childElementCount>2;)this._element.removeChild(this._element.lastChild)}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}},i.ModelSidebar=class{constructor(e,t,s){if(this._host=e,this._model=t,this._elements=[],t.format&&this._addProperty("format",new i.ValueTextView(this._host,t.format)),t.producer&&this._addProperty("producer",new i.ValueTextView(this._host,t.producer)),t.source&&this._addProperty("source",new i.ValueTextView(this._host,t.source)),t.name&&this._addProperty("name",new i.ValueTextView(this._host,t.name)),t.version&&this._addProperty("version",new i.ValueTextView(this._host,t.version)),t.description&&this._addProperty("description",new i.ValueTextView(this._host,t.description)),t.author&&this._addProperty("author",new i.ValueTextView(this._host,t.author)),t.company&&this._addProperty("company",new i.ValueTextView(this._host,t.company)),t.license&&this._addProperty("license",new i.ValueTextView(this._host,t.license)),t.domain&&this._addProperty("domain",new i.ValueTextView(this._host,t.domain)),t.imports&&this._addProperty("imports",new i.ValueTextView(this._host,t.imports)),t.runtime&&this._addProperty("runtime",new i.ValueTextView(this._host,t.runtime)),t.metadata)for(const e of t.metadata)this._addProperty(e.name,new i.ValueTextView(this._host,e.value));if((Array.isArray(t.graphs)?t.graphs:[]).length>1){const e=s&&s.name?s.name:"",n=new i.SelectView(this._host,t.graphs.map((e=>e.name)),e);n.on("change",((e,t)=>{this._raise("update-active-graph",t)})),this._addProperty("subgraph",n)}if(s){if(s.version&&this._addProperty("version",new i.ValueTextView(this._host,s.version)),s.type&&this._addProperty("type",new i.ValueTextView(this._host,s.type)),s.tags&&this._addProperty("tags",new i.ValueTextView(this._host,s.tags)),s.description&&this._addProperty("description",new i.ValueTextView(this._host,s.description)),Array.isArray(s.inputs)&&s.inputs.length>0){this._addHeader("Inputs");for(const e of s.inputs)this.addArgument(e.name,e)}if(Array.isArray(s.outputs)&&s.outputs.length>0){this._addHeader("Outputs");for(const e of s.outputs)this.addArgument(e.name,e)}}const n=this._host.document.createElement("div");n.className="sidebar-view-separator",this._elements.push(n)}render(){return this._elements}_addHeader(e){const t=this._host.document.createElement("div");t.className="sidebar-view-header",t.innerText=e,this._elements.push(t)}_addProperty(e,t){const s=new i.NameValueView(this._host,e,t);this._elements.push(s.render())}addArgument(e,t){const s=new i.ParameterView(this._host,t);s.toggle();const n=new i.NameValueView(this._host,e,s);this._elements.push(n.render())}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}},i.DocumentationSidebar=class{constructor(e,t){this._host=e,this._metadata=t}render(){if(!this._elements){this._elements=[];const e=i.DocumentationSidebar.formatDocumentation(this._metadata),t=this._host.document.createElement("div");if(t.setAttribute("class","sidebar-view-documentation"),this._append(t,"h1",e.name),e.summary&&this._append(t,"p",e.summary),e.description&&this._append(t,"p",e.description),Array.isArray(e.attributes)&&e.attributes.length>0){this._append(t,"h2","Attributes");const s=this._append(t,"dl");for(const t of e.attributes)this._append(s,"dt",t.name+(t.type?": <tt>"+t.type+"</tt>":"")),this._append(s,"dd",t.description);t.appendChild(s)}if(Array.isArray(e.inputs)&&e.inputs.length>0){this._append(t,"h2","Inputs"+(e.inputs_range?" ("+e.inputs_range+")":""));const s=this._append(t,"dl");for(const t of e.inputs)this._append(s,"dt",t.name+(t.type?": <tt>"+t.type+"</tt>":"")+(t.option?" ("+t.option+")":"")),this._append(s,"dd",t.description)}if(Array.isArray(e.outputs)&&e.outputs.length>0){this._append(t,"h2","Outputs"+(e.outputs_range?" ("+e.outputs_range+")":""));const s=this._append(t,"dl");for(const t of e.outputs)this._append(s,"dt",t.name+(t.type?": <tt>"+t.type+"</tt>":"")+(t.option?" ("+t.option+")":"")),this._append(s,"dd",t.description)}if(Array.isArray(e.type_constraints)&&e.type_constraints.length>0){this._append(t,"h2","Type Constraints");const s=this._append(t,"dl");for(const t of e.type_constraints)this._append(s,"dt",t.type_param_str+": "+t.allowed_type_strs.map((e=>"<tt>"+e+"</tt>")).join(", ")),this._append(s,"dd",t.description)}if(Array.isArray(e.examples)&&e.examples.length>0){this._append(t,"h2","Examples");for(const s of e.examples)this._append(t,"h3",s.summary),this._append(t,"pre",s.code)}if(Array.isArray(e.references)&&e.references.length>0){this._append(t,"h2","References");const s=this._append(t,"ul");for(const t of e.references)this._append(s,"li",t.description)}e.domain&&e.version&&e.support_level&&(this._append(t,"h2","Support"),this._append(t,"dl","In domain <tt>"+e.domain+"</tt> since version <tt>"+e.version+"</tt> at support level <tt>"+e.support_level+"</tt>.")),"Electron"!==!this._host.type&&t.addEventListener("click",(e=>{if(e.target&&e.target.href){const t=e.target.href;(t.startsWith("http://")||t.startsWith("https://"))&&(e.preventDefault(),this._raise("navigate",{link:t}))}})),this._elements=[t];const s=this._host.document.createElement("div");s.className="sidebar-view-separator",this._elements.push(s)}return this._elements}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}_append(e,t,s){const i=this._host.document.createElement(t);return s&&(i.innerHTML=s),e.appendChild(i),i}static formatDocumentation(e){if(e){const t=new o.Generator,s={};return void 0!==e.name&&(s.name=e.name),void 0!==e.module&&(s.module=e.module),void 0!==e.category&&(s.category=e.category),void 0!==e.summary&&(s.summary=t.html(e.summary)),void 0!==e.description&&(s.description=t.html(e.description)),Array.isArray(e.attributes)&&(s.attributes=e.attributes.map((e=>{const s={};return s.name=e.name,void 0!==e.type&&(s.type=e.type),void 0!==e.option&&(s.option=e.option),void 0!==e.optional&&(s.optional=e.optional),void 0!==e.required&&(s.required=e.required),void 0!==e.minimum&&(s.minimum=e.minimum),void 0!==e.src&&(s.src=e.src),void 0!==e.src_type&&(s.src_type=e.src_type),void 0!==e.description&&(s.description=t.html(e.description)),void 0!==e.default&&(s.default=e.default),void 0!==e.visible&&(s.visible=e.visible),s}))),Array.isArray(e.inputs)&&(s.inputs=e.inputs.map((e=>{const s={};return s.name=e.name,void 0!==e.type&&(s.type=e.type),void 0!==e.description&&(s.description=t.html(e.description)),void 0!==e.default&&(s.default=e.default),void 0!==e.src&&(s.src=e.src),void 0!==e.list&&(s.list=e.list),void 0!==e.isRef&&(s.isRef=e.isRef),void 0!==e.typeAttr&&(s.typeAttr=e.typeAttr),void 0!==e.numberAttr&&(s.numberAttr=e.numberAttr),void 0!==e.typeListAttr&&(s.typeListAttr=e.typeListAttr),void 0!==e.option&&(s.option=e.option),void 0!==e.optional&&(s.optional=e.optional),void 0!==e.visible&&(s.visible=e.visible),s}))),Array.isArray(e.outputs)&&(s.outputs=e.outputs.map((e=>{const s={};return s.name=e.name,e.type&&(s.type=e.type),void 0!==e.description&&(s.description=t.html(e.description)),void 0!==e.list&&(s.list=e.list),void 0!==e.typeAttr&&(s.typeAttr=e.typeAttr),void 0!==e.typeListAttr&&(s.typeListAttr=e.typeAttr),void 0!==e.numberAttr&&(s.numberAttr=e.numberAttr),void 0!==e.isRef&&(s.isRef=e.isRef),void 0!==e.option&&(s.option=e.option),s}))),Array.isArray(e.references)&&(s.references=e.references.map((e=>(e&&(s.description=t.html(e.description)),s)))),void 0!==e.version&&(s.version=e.version),void 0!==e.operator&&(s.operator=e.operator),void 0!==e.identifier&&(s.identifier=e.identifier),void 0!==e.package&&(s.package=e.package),void 0!==e.support_level&&(s.support_level=e.support_level),void 0!==e.min_input&&(s.min_input=e.min_input),void 0!==e.max_input&&(s.max_input=e.max_input),void 0!==e.min_output&&(s.min_output=e.min_output),void 0!==e.max_input&&(s.max_output=e.max_output),void 0!==e.inputs_range&&(s.inputs_range=e.inputs_range),void 0!==e.outputs_range&&(s.outputs_range=e.outputs_range),void 0!==e.examples&&(s.examples=e.examples),void 0!==e.constants&&(s.constants=e.constants),void 0!==e.type_constraints&&(s.type_constraints=e.type_constraints),s}return""}},i.FindSidebar=class{constructor(e,t,s){this._host=e,this._graphElement=t,this._graph=s,this._contentElement=this._host.document.createElement("div"),this._contentElement.setAttribute("class","sidebar-view-find"),this._searchElement=this._host.document.createElement("input"),this._searchElement.setAttribute("id","search"),this._searchElement.setAttribute("type","text"),this._searchElement.setAttribute("placeholder","Search..."),this._searchElement.setAttribute("style","width: 100%"),this._searchElement.addEventListener("input",(e=>{this.update(e.target.value),this._raise("search-text-changed",e.target.value)})),this._resultElement=this._host.document.createElement("ol"),this._resultElement.addEventListener("click",(e=>{this.select(e)})),this._contentElement.appendChild(this._searchElement),this._contentElement.appendChild(this._resultElement)}on(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)}_raise(e,t){if(this._events&&this._events[e])for(const s of this._events[e])s(this,t)}select(e){const t=[],s=e.target.id;let i=this._graphElement.getElementById("nodes").firstChild;for(;i;)i.id==s&&t.push(i),i=i.nextSibling;let n=this._graphElement.getElementById("edge-paths").firstChild;for(;n;)n.id==s&&t.push(n),n=n.nextSibling;let r=this._graphElement.getElementById(s);if(r)for(;r.parentElement;)if(r=r.parentElement,r.id&&r.id.startsWith("node-")){t.push(r);break}t.length>0&&this._raise("select",t)}focus(e){this._searchElement.focus(),this._searchElement.value="",this._searchElement.value=e,this.update(e)}update(e){for(;this._resultElement.lastChild;)this._resultElement.removeChild(this._resultElement.lastChild);const t=e.trim().toLowerCase().split(" ").map((e=>e.trim())).filter((e=>e.length>0)),s=new Set,i=new Set;for(const e of this._graph.nodes()){const n=this._graph.node(e),r=[];if("graph-node"===n.class||"graph-input"===n.class)for(const e of n.inputs)for(const s of e.arguments)if(s.name&&!i.has(s.name)){const e=(e,t)=>{if(e.name&&-1!==e.name.toLowerCase().indexOf(t))return!0;if(e.type){if(e.type.dataType&&t===e.type.dataType.toLowerCase())return!0;if(e.type.shape){if(t===e.type.shape.toString().toLowerCase())return!0;if(e.type.shape&&Array.isArray(e.type.shape.dimensions)){const s=e.type.shape.dimensions.map((e=>e?e.toString().toLowerCase():""));if(t===s.join(","))return!0;if(s.some((e=>t===e)))return!0}}}return!1};if(t.every((t=>e(s,t))))if(s.initializer)r.push(s);else{const e=this._host.document.createElement("li");e.innerText=" "+s.name.split("\n").shift(),e.id="edge-"+s.name,this._resultElement.appendChild(e),i.add(s.name)}}if("graph-node"===n.class){const e=n.value.name,i=n.value.type.name;if(!s.has(n.id)&&(e&&t.some((t=>-1!=e.toLowerCase().indexOf(t)))||i&&t.some((e=>-1!=i.toLowerCase().indexOf(e))))){const t=this._host.document.createElement("li");t.innerText=" "+(e||"["+i+"]"),t.id=n.id,this._resultElement.appendChild(t),s.add(n.id)}}for(const e of r)if(e.name){const t=this._host.document.createElement("li");t.innerText=" "+e.name.split("\n").shift(),t.id="initializer-"+e.name,this._resultElement.appendChild(t)}}for(const e of this._graph.nodes()){const s=this._graph.node(e);if("graph-node"===s.class||"graph-output"===s.class)for(const e of s.outputs)for(const s of e.arguments)if(s.name&&!i.has(s.name)&&t.every((e=>-1!=s.name.toLowerCase().indexOf(e)))){const e=this._host.document.createElement("li");e.innerText=" "+s.name.split("\n").shift(),e.id="edge-"+s.name,this._resultElement.appendChild(e),i.add(s.name)}}this._resultElement.style.display=0!=this._resultElement.childNodes.length?"block":"none"}get content(){return this._contentElement}};const o={Generator:class{constructor(){this._newlineRegExp=/^\n+/,this._codeRegExp=/^( {4}[^\n]+\n*)+/,this._fencesRegExp=/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,this._hrRegExp=/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,this._headingRegExp=/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,this._blockquoteRegExp=/^( {0,3}> ?(([^\n]+(?:\n(?! {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)| {0,3}#{1,6} | {0,3}>| {0,3}(?:`{3,}(?=[^`\n]*\n)|~{3,})[^\n]*\n| {0,3}(?:[*+-]|1[.)]) |<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)|[^\n]*)(?:\n|$))+/,this._listRegExp=/^( {0,3})((?:[*+-]|\d{1,9}[.)])) [\s\S]+?(?:\n+(?=\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$))|\n+(?= {0,3}\[((?!\s*\])(?:\\[[\]]|[^[\]])+)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)((?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))))? *(?:\n+|$))|\n{2,}(?! )(?!\1(?:[*+-]|\d{1,9}[.)]) )\n*|\s*$)/,this._htmlRegExp=/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?(?:-->|$)[^\n]*(\n+|$)|<\?[\s\S]*?(?:\?>\n*|$)|<![A-Z][\s\S]*?(?:>\n*|$)|<!\[CDATA\[[\s\S]*?(?:\]\]>\n*|$)|<\/?(address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$)|<(?!script|pre|style)([a-z][\w-]*)(?: +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?)*? *\/?>(?=[ \t]*(?:\n|$))[\s\S]*?(?:\n{2,}|$)|<\/(?!script|pre|style)[a-z][\w-]*\s*>(?=[ \t]*(?:\n|$))[\s\S]*?(?:\n{2,}|$))/i,this._defRegExp=/^ {0,3}\[((?!\s*\])(?:\\[[\]]|[^[\]])+)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)((?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))))? *(?:\n+|$)/,this._nptableRegExp=/^ *([^|\n ].*\|.*)\n {0,3}([-:]+ *\|[-| :]*)(?:\n((?:(?!\n| {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)| {0,3}#{1,6} | {0,3}>| {4}[^\n]| {0,3}(?:`{3,}(?=[^`\n]*\n)|~{3,})[^\n]*\n| {0,3}(?:[*+-]|1[.)]) |<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?: +|\n|\/?>)|<(?:script|pre|style|!--)).*(?:\n|$))*)\n*|$)/,this._tableRegExp=/^ *\|(.+)\n {0,3}\|?( *[-:]+[-| :]*)(?:\n *((?:(?!\n| {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)| {0,3}#{1,6} | {0,3}>| {4}[^\n]| {0,3}(?:`{3,}(?=[^`\n]*\n)|~{3,})[^\n]*\n| {0,3}(?:[*+-]|1[.)]) |<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?: +|\n|\/?>)|<(?:script|pre|style|!--)).*(?:\n|$))*)\n*|$)/,this._lheadingRegExp=/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,this._textRegExp=/^[^\n]+/,this._bulletRegExp=/(?:[*+-]|\d{1,9}[.)])/,this._itemRegExp=/^( *)((?:[*+-]|\d{1,9}[.)])) ?[^\n]*(?:\n(?!\1(?:[*+-]|\d{1,9}[.)]) ?)[^\n]*)*/gm,this._paragraphRegExp=/^([^\n]+(?:\n(?! {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)| {0,3}#{1,6} | {0,3}>| {0,3}(?:`{3,}(?=[^`\n]*\n)|~{3,})[^\n]*\n| {0,3}(?:[*+-]|1[.)]) |<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,this._backpedalRegExp=/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,this._escapeRegExp=/^\\([!"#$%&'()*+,\-./:;<=>?@[\]\\^_`{|}~~|])/,this._escapesRegExp=/\\([!"#$%&'()*+,\-./:;<=>?@[\]\\^_`{|}~])/g,this._autolinkRegExp=/^<([a-zA-Z][a-zA-Z0-9+.-]{1,31}:[^\s\x00-\x1f<>]*|[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_]))>/,this._linkRegExp=/^!?\[((?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?)\]\(\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)(?:\s+("(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)))?\s*\)/,this._urlRegExp=/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9-]+\.?)+[^\s<]*|^[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/i,this._tagRegExp=/^<!--(?!-?>)[\s\S]*?-->|^<\/[a-zA-Z][\w:-]*\s*>|^<[a-zA-Z][\w-]*(?:\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?)*?\s*\/?>|^<\?[\s\S]*?\?>|^<![a-zA-Z]+\s[\s\S]*?>|^<!\[CDATA\[[\s\S]*?\]\]>/,this._reflinkRegExp=/^!?\[((?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?)\]\[(?!\s*\])((?:\\[[\]]?|[^[\]\\])+)\]/,this._nolinkRegExp=/^!?\[(?!\s*\])((?:\[[^[\]]*\]|\\[[\]]|[^[\]])*)\](?:\[\])?/,this._reflinkSearchRegExp=/!?\[((?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?)\]\[(?!\s*\])((?:\\[[\]]?|[^[\]\\])+)\]|!?\[(?!\s*\])((?:\[[^[\]]*\]|\\[[\]]|[^[\]])*)\](?:\[\])?(?!\()/g,this._strongStartRegExp=/^(?:(\*\*(?=[*!"#$%&'()+\-.,/:;<=>?@[\]`{|}~]))|\*\*)(?![\s])|__/,this._strongMiddleRegExp=/^\*\*(?:(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^*]|\\\*)|__[^_]*?__|\*\*\[^\*\]*?\*\*)|\*(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^*]|\\\*)|__[^_]*?__|\*\*\[^\*\]*?\*\*)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^_]|\\_)|__[^_]*?__|\*\*\[^\*\]*?\*\*)|_(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^_]|\\_)|__[^_]*?__|\*\*\[^\*\]*?\*\*)*?_)+?)__$/,this._strongEndAstRegExp=/[^!"#$%&'()+\-.,/:;<=>?@[\]`{|}~\s]\*\*(?!\*)|[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~]\*\*(?!\*)(?:(?=[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~_\s]|$))/g,this._strongEndUndRegExp=/[^\s]__(?!_)(?:(?=[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~*\s])|$)/g,this._emStartRegExp=/^(?:(\*(?=[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~]))|\*)(?![*\s])|_/,this._emMiddleRegExp=/^\*(?:(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^*]|\\\*)|__[^_]*?__|\*\*\[^\*\]*?\*\*)|\*(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^*]|\\\*)|__[^_]*?__|\*\*\[^\*\]*?\*\*)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^_]|\\_)|__[^_]*?__|\*\*\[^\*\]*?\*\*)|_(?:(?!__[^_]*?__|\*\*\[^\*\]*?\*\*)(?:[^_]|\\_)|__[^_]*?__|\*\*\[^\*\]*?\*\*)*?_)+?_$/,this._emEndAstRegExp=/[^!"#$%&'()+\-.,/:;<=>?@[\]`{|}~\s]\*(?!\*)|[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~]\*(?!\*)(?:(?=[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~_\s]|$))/g,this._emEndUndRegExp=/[^\s]_(?!_)(?:(?=[!"#$%&'()+\-.,/:;<=>?@[\]`{|}~*\s])|$)/g,this._codespanRegExp=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,this._brRegExp=/^( {2,}|\\)\n(?!\s*$)/,this._delRegExp=/^~+(?=\S)([\s\S]*?\S)~+/,this._textspanRegExp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<![`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+/=?_`{|}~-](?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@))/,this._punctuationRegExp=/^([\s*!"#$%&'()+\-.,/:;<=>?@[\]`{|}~])/,this._blockSkipRegExp=/\[[^\]]*?\]\([^)]*?\)|`[^`]*?`|<[^>]*?>/g,this._escapeTestRegExp=/[&<>"']/,this._escapeReplaceRegExp=/[&<>"']/g,this._escapeTestNoEncodeRegExp=/[<>"']|&(?!#?\w+;)/,this._escapeReplaceNoEncodeRegExp=/[<>"']|&(?!#?\w+;)/g,this._escapeReplacementsMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}}html(e){const t=[],s=new Map;this._tokenize(e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),t,s,!0),this._tokenizeBlock(t,s);const i=new Map;return this._render(t,i,!0)}_tokenize(e,t,s,i){for(e=e.replace(/^ +$/gm,"");e;){let n=this._newlineRegExp.exec(e);if(n)e=e.substring(n[0].length),n[0].length>1&&t.push({type:"space"});else if(n=this._codeRegExp.exec(e),n){e=e.substring(n[0].length);const s=t[t.length-1];if(s&&"paragraph"===s.type)s.text+="\n"+n[0].trimRight();else{const e=n[0].replace(/^ {4}/gm,"").replace(/\n*$/,"");t.push({type:"code",text:e})}}else if(n=this._fencesRegExp.exec(e),n){e=e.substring(n[0].length);const s=n[2]?n[2].trim():n[2];let i=n[3]||"";const r=n[0].match(/^(\s+)(?:```)/);if(null!==r){const e=r[1];i=i.split("\n").map((t=>{const s=t.match(/^\s+/);return null!==s&&s[0].length>=e.length?t.slice(e.length):t})).join("\n")}t.push({type:"code",language:s,text:i})}else if(n=this._headingRegExp.exec(e),n)e=e.substring(n[0].length),t.push({type:"heading",depth:n[1].length,text:n[2]});else{if(n=this._nptableRegExp.exec(e),n){const s=this._splitCells(n[1].replace(/^ *| *\| *$/g,"")),i=n[2].replace(/^ *|\| *$/g,"").split(/ *\| */);if(s.length===i.length){const r={type:"table",header:s,align:i,cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};for(let e=0;e<r.align.length;e++)/^ *-+: *$/.test(r.align[e])?r.align[e]="right":/^ *:-+: *$/.test(r.align[e])?r.align[e]="center":/^ *:-+ *$/.test(r.align[e])?r.align[e]="left":r.align[e]=null;r.cells=r.cells.map((e=>this._splitCells(e,r.header.length))),e=e.substring(r.raw.length),t.push(r);continue}}if(n=this._hrRegExp.exec(e),n)e=e.substring(n[0].length),t.push({type:"hr"});else if(n=this._blockquoteRegExp.exec(e),n){e=e.substring(n[0].length);const r=n[0].replace(/^ *> ?/gm,"");t.push({type:"blockquote",text:r,tokens:this._tokenize(r,[],s,i)})}else if(n=this._listRegExp.exec(e),n){let i=n[0];const r=n[2],o=r.length>1,a=")"===r[r.length-1],h={type:"list",raw:i,ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]},c=n[0].match(this._itemRegExp);let l=!1;const p=c.length;for(let e=0;e<p;e++){let t=c[e];i=t;let s=t.length;if(t=t.replace(/^ *([*+-]|\d+[.)]) ?/,""),~t.indexOf("\n ")&&(s-=t.length,t=t.replace(new RegExp("^ {1,"+s+"}","gm"),"")),e!==p-1){const t=this._bulletRegExp.exec(c[e+1])[0];if(o?1===t.length||!a&&")"===t[t.length-1]:t.length>1){const t=c.slice(e+1).join("\n");h.raw=h.raw.substring(0,h.raw.length-t.length),e=p-1}}let n=l||/\n\n(?!\s*$)/.test(t);e!==p-1&&(l="\n"===t.charAt(t.length-1),n||(n=l)),n&&(h.loose=!0);const r=/^\[[ xX]\] /.test(t);let d;r&&(d=" "!==t[1],t=t.replace(/^\[[ xX]\] +/,"")),h.items.push({type:"list_item",raw:i,task:r,checked:d,loose:n,text:t})}e=e.substring(h.raw.length);for(const e of h.items)e.tokens=this._tokenize(e.text,[],s,!1);t.push(h)}else if(n=this._htmlRegExp.exec(e),n)e=e.substring(n[0].length),t.push({type:"html",pre:"pre"===n[1]||"script"===n[1]||"style"===n[1],text:n[0]});else if(i&&(n=this._defRegExp.exec(e),n)){e=e.substring(n[0].length),n[3]=n[3]?n[3].substring(1,n[3].length-1):n[3];const t=n[1].toLowerCase().replace(/\s+/g," ");s.has(t)||s.set(t,{href:n[2],title:n[3]})}else{if(n=this._tableRegExp.exec(e),n){const s=this._splitCells(n[1].replace(/^ *| *\| *$/g,"")),i=n[2].replace(/^ *|\| *$/g,"").split(/ *\| */);if(s.length===i.length){const r={type:"table",header:s,align:i,cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};for(let e=0;e<r.align.length;e++)/^ *-+: *$/.test(r.align[e])?r.align[e]="right":/^ *:-+: *$/.test(r.align[e])?r.align[e]="center":/^ *:-+ *$/.test(r.align[e])?r.align[e]="left":r.align[e]=null;r.cells=r.cells.map((e=>this._splitCells(e.replace(/^ *\| *| *\| *$/g,""),r.header.length))),e=e.substring(r.raw.length),t.push(r);continue}}if(n=this._lheadingRegExp.exec(e),n)e=e.substring(n[0].length),t.push({type:"heading",depth:"="===n[2].charAt(0)?1:2,text:n[1]});else if(i&&(n=this._paragraphRegExp.exec(e),n))e=e.substring(n[0].length),t.push({type:"paragraph",text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]});else{if(n=this._textRegExp.exec(e),!n)throw new Error("Unexpected '"+e.charCodeAt(0)+"'.");{e=e.substring(n[0].length);const s=t[t.length-1];s&&"text"===s.type?s.text+="\n"+n[0]:t.push({type:"text",text:n[0]})}}}}}return t}_tokenizeInline(e,t,s,i,n){const r=[];let o=e;if(t.size>0)for(;o;){const e=this._reflinkSearchRegExp.exec(o);if(!e)break;t.has(e[0].slice(e[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,e.index)+"["+"a".repeat(e[0].length-2)+"]"+o.slice(this._reflinkSearchRegExp.lastIndex))}for(;o;){const e=this._blockSkipRegExp.exec(o);if(!e)break;o=o.slice(0,e.index)+"["+"a".repeat(e[0].length-2)+"]"+o.slice(this._blockSkipRegExp.lastIndex)}for(;e;){let a=this._escapeRegExp.exec(e);if(a)e=e.substring(a[0].length),r.push({type:"escape",text:this._escape(a[1])});else if(a=this._tagRegExp.exec(e),a)e=e.substring(a[0].length),!s&&/^<a /i.test(a[0])?s=!0:s&&/^<\/a>/i.test(a[0])&&(s=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(i=!1),r.push({type:"html",raw:a[0],text:a[0]});else if(a=this._linkRegExp.exec(e),a){let s=-1;const n=a[2];if(-1!==n.indexOf(")")){let e=0;for(let t=0;t<n.length;t++)switch(n[t]){case"\\":t++;break;case"(":e++;break;case")":e--,e<0&&(s=t,t=n.length)}}if(s>-1){const e=(0===a[0].indexOf("!")?5:4)+a[1].length+s;a[2]=a[2].substring(0,s),a[0]=a[0].substring(0,e).trim(),a[3]=""}const o=(a[3]?a[3].slice(1,-1):"").replace(this._escapesRegExp,"$1"),h=a[2].trim().replace(/^<([\s\S]*)>$/,"$1").replace(this._escapesRegExp,"$1"),c=this._outputLink(a,h,o);e=e.substring(a[0].length),"link"===c.type&&(c.tokens=this._tokenizeInline(c.text,t,!0,i,"")),r.push(c)}else if(a=this._reflinkRegExp.exec(e)||this._nolinkRegExp.exec(e),a){let s=(a[2]||a[1]).replace(/\s+/g," ");if(s=t.get(s.toLowerCase()),s&&s.href){e=e.substring(a[0].length);const n=this._outputLink(a,s);"link"===n.type&&(n.tokens=this._tokenizeInline(n.text,t,!0,i,"")),r.push(n)}else{const t=a[0].charAt(0);e=e.substring(t.length),r.push({type:"text",text:t})}}else{if(a=this._strongStartRegExp.exec(e),a&&(!a[1]||a[1]&&(""===n||this._punctuationRegExp.exec(n)))){const n=o.slice(-1*e.length),h="**"===a[0]?this._strongEndAstRegExp:this._strongEndUndRegExp;let c;for(h.lastIndex=0;null!=(a=h.exec(n))&&(c=this._strongMiddleRegExp.exec(n.slice(0,a.index+3)),!c););if(c){const n=e.substring(2,c[0].length-2);e=e.substring(c[0].length),r.push({type:"strong",text:n,tokens:this._tokenizeInline(n,t,s,i,"")});continue}}if(a=this._emStartRegExp.exec(e),a&&(!a[1]||a[1]&&(""===n||this._punctuationRegExp.exec(n)))){const n=o.slice(-1*e.length),h="*"===a[0]?this._emEndAstRegExp:this._emEndUndRegExp;let c;for(h.lastIndex=0;null!=(a=h.exec(n))&&(c=this._emMiddleRegExp.exec(n.slice(0,a.index+2)),!c););if(c){const n=e.slice(1,c[0].length-1);e=e.substring(c[0].length),r.push({type:"em",text:n,tokens:this._tokenizeInline(n,t,s,i,"")});continue}}if(a=this._codespanRegExp.exec(e),a){e=e.substring(a[0].length);let t=a[2].replace(/\n/g," ");/[^ ]/.test(t)&&t.startsWith(" ")&&t.endsWith(" ")&&(t=t.substring(1,t.length-1)),r.push({type:"codespan",text:this._encode(t)})}else if(a=this._brRegExp.exec(e),a)e=e.substring(a[0].length),r.push({type:"br"});else if(a=this._delRegExp.exec(e),a){e=e.substring(a[0].length);const n=a[1];r.push({type:"del",text:n,tokens:this._tokenizeInline(n,t,s,i,"")})}else if(a=this._autolinkRegExp.exec(e),a){e=e.substring(a[0].length);const t=this._escape(a[1]),s="@"===a[2]?"mailto:"+t:t;r.push({type:"link",text:t,href:s,tokens:[{type:"text",raw:t,text:t}]})}else if(s||(a=this._urlRegExp.exec(e),!a)){if(a=this._textspanRegExp.exec(e),!a)throw new Error("Unexpected '"+e.charCodeAt(0)+"'.");e=e.substring(a[0].length),n=a[0].slice(-1),r.push({type:"text",text:i?a[0]:this._escape(a[0])})}else{const t="@"===a[2];if(!t){let e;do{e=a[0],a[0]=this._backpedalRegExp.exec(a[0])[0]}while(e!==a[0])}const s=this._escape(a[0]),i=t?"mailto:"+s:"www."===a[1]?"http://"+s:s;e=e.substring(a[0].length),r.push({type:"link",text:s,href:i,tokens:[{type:"text",text:s}]})}}}return r}_tokenizeBlock(e,t){for(const s of e)switch(s.type){case"paragraph":case"text":case"heading":s.tokens=this._tokenizeInline(s.text,t,!1,!1,"");break;case"table":s.tokens={},s.tokens.header=s.header.map((e=>this._tokenizeInline(e,t,!1,!1,""))),s.tokens.cells=s.cells.map((e=>e.map((e=>this._tokenizeInline(e,t,!1,!1,"")))));break;case"blockquote":this._tokenizeBlock(s.tokens,t);break;case"list":for(const e of s.items)this._tokenizeBlock(e.tokens,t)}}_render(e,t,s){let i="";for(;e.length>0;){const n=e.shift();switch(n.type){case"space":continue;case"hr":i+="<hr>\n";continue;case"heading":{const e=n.depth;i+="<h"+e+' id="'+this._slug(t,this._renderInline(n.tokens,!0))+'">'+this._renderInline(n.tokens)+"</h"+e+">\n";continue}case"code":{const e=n.text,t=(n.language||"").match(/\S*/)[0];i+="<pre><code"+(t?' class="language-'+this._encode(t)+'"':"")+">"+(n.escaped?e:this._encode(e))+"</code></pre>\n";continue}case"table":{let e="",t="";for(let e=0;e<n.header.length;e++){const s=this._renderInline(n.tokens.header[e]),i=n.align[e];t+="<th"+(i?' align="'+i+'"':"")+">"+s+"</th>\n"}e+="<tr>\n"+t+"</tr>\n";let s="";for(let e=0;e<n.cells.length;e++){const i=n.tokens.cells[e];t="";for(let e=0;e<i.length;e++){const s=this._renderInline(i[e]),r=n.align[e];t+="<td"+(r?' align="'+r+'"':"")+">"+s+"</td>\n"}s+="<tr>\n"+t+"</tr>\n"}i+="<table>\n<thead>\n"+e+"</thead>\n"+(s?"<tbody>"+s+"</tbody>":s)+"</table>\n";continue}case"blockquote":i+="<blockquote>\n"+this._render(n.tokens,t,!0)+"</blockquote>\n";continue;case"list":{const e=n.ordered,s=n.start,r=n.loose;let o="";for(const e of n.items){let s="";if(e.task){const t="<input "+(e.checked?'checked="" ':"")+'disabled="" type="checkbox"> ';r?e.tokens.length>0&&"text"===e.tokens[0].type?(e.tokens[0].text=t+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=t+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",text:t}):s+=t}s+=this._render(e.tokens,t,r),o+="<li>"+s+"</li>\n"}const a=e?"ol":"ul";i+="<"+a+(e&&1!==s?' start="'+s+'"':"")+">\n"+o+"</"+a+">\n";continue}case"html":i+=n.text;continue;case"paragraph":i+="<p>"+this._renderInline(n.tokens)+"</p>\n";continue;case"text":for(i+=s?"<p>":"",i+=n.tokens?this._renderInline(n.tokens):n.text;e.length>0&&"text"===e[0].type;){const t=e.shift();i+="\n"+(t.tokens?this._renderInline(t.tokens):t.text)}i+=s?"</p>\n":"";continue;default:throw new Error("Unexpected token type '"+n.type+"'.")}}return i}_renderInline(e,t){let s="";for(const i of e)switch(i.type){case"escape":case"html":case"text":s+=i.text;break;case"link":{const e=this._renderInline(i.tokens,t);s+=t?e:'<a href="'+i.href+'"'+(i.title?' title="'+i.title+'"':"")+' target="_blank">'+e+"</a>";break}case"image":s+=t?i.text:'<img src="'+i.href+'" alt="'+i.text+'"'+(i.title?' title="'+i.title+'"':"")+">";break;case"strong":{const e=this._renderInline(i.tokens,t);s+=t?e:"<strong>"+e+"</strong>";break}case"em":{const e=this._renderInline(i.tokens,t);s+=t?e:"<em>"+e+"</em>";break}case"codespan":s+=t?i.text:"<code>"+i.text+"</code>";break;case"br":s+=t?"":"<br>";break;case"del":{const e=this._renderInline(i.tokens,t);s+=t?e:"<del>"+e+"</del>";break}default:throw new Error("Unexpected token type '"+i.type+"'.")}return s}_outputLink(e,t,s){s=s?this._escape(s):null;const i=e[1].replace(/\\([[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",href:t,title:s,text:i}:{type:"image",href:t,title:s,text:this._escape(i)}}_splitCells(e,t){const s=e.replace(/\|/g,((e,t,s)=>{let i=!1,n=t;for(;--n>=0&&"\\"===s[n];)i=!i;return i?"|":" |"})).split(/ \|/);if(s.length>t)s.splice(t);else for(;s.length<t;)s.push("");return s.map((e=>e.trim().replace(/\\\|/g,"|")))}_slug(e,t){let s=t=(t=t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""))).toLowerCase().trim().replace(/<[!/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-"),i=0;if(e.has(t)){i=e.get(t);do{i++,s=t+"-"+i}while(e.has(s))}return e.set(t,i),e.set(s,0),s}_encode(e){return this._escapeTestRegExp.test(e)?e.replace(this._escapeReplaceRegExp,(e=>this._escapeReplacementsMap[e])):e}_escape(e){return this._escapeTestNoEncodeRegExp.test(e)?e.replace(this._escapeReplaceNoEncodeRegExp,(e=>this._escapeReplacementsMap[e])):e}}};"object"==typeof e.exports&&(e.exports.Sidebar=i.Sidebar,e.exports.ModelSidebar=i.ModelSidebar,e.exports.NodeSidebar=i.NodeSidebar,e.exports.DocumentationSidebar=i.DocumentationSidebar,e.exports.FindSidebar=i.FindSidebar)},820:(e,t,s)=>{var i=i||{},n=n||s(243),r=r||s(224),o=o||s(187),a=a||s(182),h=h||s(426),c=c||s(82),l=l||s(66),p=p||s(506),d=d||s(383),_=_||s(555),u=u||s(701);i.View=class{constructor(e,t){this._host=e,this._id=t?"-"+t:"",this._host.initialize(this).then((()=>{this._model=null,this._graphs=[],this._selection=[],this._sidebar=new _.Sidebar(this._host,t),this._showAttributes=!1,this._showInitializers=!0,this._showNames=!1,this._showHorizontal=!1,this._searchText="",this._modelFactoryService=new i.ModelFactoryService(this._host),this._getElementById("zoom-in-button").addEventListener("click",(()=>{this.zoomIn()})),this._getElementById("zoom-out-button").addEventListener("click",(()=>{this.zoomOut()})),this._getElementById("back-button").addEventListener("click",(()=>{this.popGraph()})),this._getElementById("name-button").addEventListener("click",(()=>{this.showDocumentation(this.activeGraph)})),this._getElementById("sidebar").addEventListener("mousewheel",(e=>{this._preventDefault(e)}),{passive:!0}),this._host.document.addEventListener("keydown",(()=>{this.clearSelection()})),this._host.start();const e=this._getElementById("graph");e.addEventListener("scroll",(e=>this._scrollHandler(e))),e.addEventListener("wheel",(e=>this._wheelHandler(e)),{passive:!1}),e.addEventListener("mousedown",(e=>this._mouseDownHandler(e))),"safari"===this._host.agent?e.addEventListener("gesturestart",(e=>this._gestureStartHandler(e)),!1):e.addEventListener("touchstart",(e=>this._touchStartHandler(e)),{passive:!0})})).catch((e=>{this.error(e,null,null)}))}show(e){switch(e||(e=this._model||this.activeGraph?"default":"welcome"),this._host.screen(e),this._sidebar&&this._sidebar.close(),this._host.document.querySelector("#visual-panel").setAttribute("class",e),e){case"default":{const e=this._getElementById("graph");e&&e.focus();break}case"welcome":{const e=this._getElementById("open-file-button");e&&e.focus();break}}this._page=e}cut(){this._host.document.execCommand("cut")}copy(){this._host.document.execCommand("copy")}paste(){this._host.document.execCommand("paste")}selectAll(){this._host.document.execCommand("selectall")}find(){if(this._graph){this.clearSelection();const e=this._getElementById("canvas"),t=new _.FindSidebar(this._host,e,this._graph);t.on("search-text-changed",((e,t)=>{this._searchText=t})),t.on("select",((e,t)=>{this.select(t)})),this._sidebar.open(t.content,"Find"),t.focus(this._searchText)}}get model(){return this._model}toggleAttributes(){this._showAttributes=!this._showAttributes,this._reload()}get showAttributes(){return this._showAttributes}toggleInitializers(){this._showInitializers=!this._showInitializers,this._reload()}get showInitializers(){return this._showInitializers}toggleNames(){this._showNames=!this._showNames,this._reload()}get showNames(){return this._showNames}toggleDirection(){this._showHorizontal=!this._showHorizontal,this._reload()}get showHorizontal(){return this._showHorizontal}_reload(){this.show("welcome spinner"),this._model&&this._graphs.length>0&&this._updateGraph(this._model,this._graphs).catch((e=>{e&&this.error(e,"Graph update failed.","welcome")}))}_timeout(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}_getElementById(e){return this._host.document.getElementById(e+this._id)}zoomIn(){this._updateZoom(1.1*this._zoom)}zoomOut(){this._updateZoom(.9*this._zoom)}resetZoom(){this._updateZoom(1)}_preventDefault(e){(e.shiftKey||e.ctrlKey)&&e.preventDefault()}_updateZoom(e,t){const s=this._getElementById("graph"),i=this._getElementById("canvas"),n=this._showHorizontal?s.clientWidth/this._width:s.clientHeight/this._height,r=Math.min(Math.max(n,.15),1);e=Math.max(r,Math.min(e,1.4));const o=this._scrollLeft||s.scrollLeft,a=this._scrollTop||s.scrollTop,h=(t?t.pageX:s.clientWidth/2)+o,c=(t?t.pageY:s.clientHeight/2)+a,l=e*this._width,p=e*this._height;i.style.width=l+"px",i.style.height=p+"px",this._scrollLeft=Math.max(0,h*e/this._zoom-(h-o)),this._scrollTop=Math.max(0,c*e/this._zoom-(c-a)),s.scrollLeft=this._scrollLeft,s.scrollTop=this._scrollTop,this._zoom=e}_mouseDownHandler(e){if(1===e.buttons){const t=this._host.document.documentElement;t.style.cursor="grabbing";const s=this._getElementById("graph");this._mousePosition={left:s.scrollLeft,top:s.scrollTop,x:e.clientX,y:e.clientY},e.stopImmediatePropagation();const i=e=>{e.preventDefault(),e.stopImmediatePropagation();const t=e.clientX-this._mousePosition.x,s=e.clientY-this._mousePosition.y;if(this._mousePosition.moved=t*t+s*s>0,this._mousePosition.moved){const e=this._getElementById("graph");e.scrollTop=this._mousePosition.top-s,e.scrollLeft=this._mousePosition.left-t}},n=()=>{t.style.cursor=null,s.removeEventListener("mouseup",n),s.removeEventListener("mouseleave",n),s.removeEventListener("mousemove",i),this._mousePosition&&this._mousePosition.moved&&(e.preventDefault(),e.stopImmediatePropagation(),delete this._mousePosition,t.addEventListener("click",r,!0))},r=e=>{e.stopPropagation(),t.removeEventListener("click",r,!0)};s.addEventListener("mousemove",i),s.addEventListener("mouseup",n),s.addEventListener("mouseleave",n)}}_touchStartHandler(e){2===e.touches.length&&(this._touchPoints=Array.from(e.touches),this._touchZoom=this._zoom);const t=e=>{if(Array.isArray(this._touchPoints)&&2===this._touchPoints.length&&2===e.touches.length){const t=e=>{const t=e[1].clientX-e[0].clientX,s=e[1].clientY-e[0].clientY;return Math.sqrt(t*t+s*s)},s=t(Array.from(e.touches)),i=t(this._touchPoints);if(0!==i){const e=this._touchPoints,t={pageX:(e[1].pageX+e[0].pageX)/2,pageY:(e[1].pageY+e[0].pageY)/2},n=0===i?s:s/i;this._updateZoom(this._touchZoom*n,t)}}},s=()=>{i.removeEventListener("touchmove",t,{passive:!0}),i.removeEventListener("touchcancel",s,{passive:!0}),i.removeEventListener("touchend",s,{passive:!0}),delete this._touchPoints,delete this._touchZoom},i=this._getElementById("graph");i.addEventListener("touchmove",t,{passive:!0}),i.addEventListener("touchcancel",s,{passive:!0}),i.addEventListener("touchend",s,{passive:!0})}_gestureStartHandler(e){e.preventDefault(),this._gestureZoom=this._zoom;const t=this._getElementById("graph"),s=e=>{e.preventDefault(),this._updateZoom(this._gestureZoom*e.scale,e)},i=e=>{t.removeEventListener("gesturechange",s,!1),t.removeEventListener("gestureend",i,!1),e.preventDefault(),this._gestureZoom&&(this._updateZoom(this._gestureZoom*e.scale,e),delete this._gestureZoom)};t.addEventListener("gesturechange",s,!1),t.addEventListener("gestureend",i,!1)}_scrollHandler(e){this._scrollLeft&&e.target.scrollLeft!==Math.floor(this._scrollLeft)&&delete this._scrollLeft,this._scrollTop&&e.target.scrollTop!==Math.floor(this._scrollTop)&&delete this._scrollTop}_wheelHandler(e){if(e.shiftKey||e.ctrlKey){const t=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1);this._updateZoom(this._zoom*Math.pow(2,t),e),e.preventDefault()}}select(e){if(this.clearSelection(),e&&e.length>0){const t=this._getElementById("graph");let s=0,i=0;for(const t of e){t.classList.add("select"),this._selection.push(t);const e=t.getBoundingClientRect();s+=e.left+e.width/2,i+=e.top+e.height/2}s/=e.length,i/=e.length;const n=t.getBoundingClientRect(),r=t.scrollLeft+s-n.left-n.width/2,o=t.scrollTop+i-n.top-n.height/2;t.scrollTo({left:r,top:o,behavior:"smooth"})}}clearSelection(){for(;this._selection.length>0;)this._selection.pop().classList.remove("select")}error(e,t,s){this._sidebar&&this._sidebar.close(),this._host.exception(e,!1);const i=[{name:"",message:/^Invalid argument identifier/,url:"https://github.com/lutzroeder/netron/issues/540"},{name:"",message:/^Cannot read property/,url:"https://github.com/lutzroeder/netron/issues/647"},{name:"",message:/^Failed to render tensor/,url:"https://github.com/lutzroeder/netron/issues/681"},{name:"Error",message:/^EPERM: operation not permitted/,url:"https://github.com/lutzroeder/netron/issues/551"},{name:"Error",message:/^EACCES: permission denied/,url:"https://github.com/lutzroeder/netron/issues/504"},{name:"RangeError",message:/^Offset is outside the bounds of the DataView/,url:"https://github.com/lutzroeder/netron/issues/563"},{name:"RangeError",message:/^start offset of Int32Array/,url:"https://github.com/lutzroeder/netron/issues/565"},{name:"RangeError",message:/^Maximum call stack size exceeded/,url:"https://github.com/lutzroeder/netron/issues/589"},{name:"RangeError",message:/^Invalid string length/,url:"https://github.com/lutzroeder/netron/issues/648"},{name:"Error loading model.",message:/^Unsupported file content \(/,url:"https://github.com/lutzroeder/netron/issues/550"},{name:"Error loading model.",message:/^Unsupported Protocol Buffers content/,url:"https://github.com/lutzroeder/netron/issues/593"},{name:"Error loading model.",message:/^Unsupported Protocol Buffers text content/,url:"https://github.com/lutzroeder/netron/issues/594"},{name:"Error loading model.",message:/^Unsupported JSON content/,url:"https://github.com/lutzroeder/netron/issues/595"},{name:"Error loading Caffe model.",message:/^File format is not caffe\.NetParameter/,url:"https://github.com/lutzroeder/netron/issues/563"},{name:"Error loading Darknet model.",message:/^Invalid tensor shape/,url:"https://github.com/lutzroeder/netron/issues/541"},{name:"Error loading Keras model.",message:/^Unsupported data object header version/,url:"https://github.com/lutzroeder/netron/issues/548"},{name:"Error loading MNN model.",message:/^File format is not mnn\.Net/,url:"https://github.com/lutzroeder/netron/issues/746"},{name:"Error loading PyTorch model.",message:/^File does not contain root module or state dictionary/,url:"https://github.com/lutzroeder/netron/issues/543"},{name:"Error loading PyTorch model.",message:/^Module does not contain modules/,url:"https://github.com/lutzroeder/netron/issues/544"},{name:"Error loading PyTorch model.",message:/^Failed to resolve module/,url:"https://github.com/lutzroeder/netron/issues/545"},{name:"Error loading PyTorch model.",message:/^Unsupported function/,url:"https://github.com/lutzroeder/netron/issues/546"},{name:"Error loading PyTorch model.",message:/^Unsupported uninitialized argument/,url:"https://github.com/lutzroeder/netron/issues/547"},{name:"Error loading ONNX model.",message:/^File format is not onnx\.ModelProto/,url:"https://github.com/lutzroeder/netron/issues/549"},{name:"Error loading TensorFlow model.",message:/^File text format is not TensorFlow\.js graph-model/,url:"https://github.com/lutzroeder/netron/issues/764"},{name:"Error loading TensorFlow Lite model.",message:/^Offset is outside the bounds of the DataView/,url:"https://github.com/lutzroeder/netron/issues/563"},{name:"Error loading UFF model.",message:/^Unknown attribute/,url:"https://github.com/lutzroeder/netron/issues/649"}].find((t=>(0===t.name.length||t.name===e.name)&&e.message.match(t.message))),n=e.message+(i?"\n\nPlease provide information about this issue at "+i.url+".":"");t=t||e.name,this._host.error(t,n),this.show(void 0!==s?s:"welcome"),i&&this._host.openURL(i.url)}accept(e){return this._modelFactoryService.accept(e)}open(e){return this._host.event("Model","Open","Size",e.stream?e.stream.length:0),this._sidebar.close(),this._timeout(2).then((()=>this._modelFactoryService.open(e).then((e=>{const t=[];return e.format&&t.push(e.format),e.producer&&t.push("("+e.producer+")"),t.length>0&&this._host.event("Model","Format",t.join(" ")),this._timeout(20).then((()=>{const t=Array.isArray(e.graphs)&&e.graphs.length>0?[e.graphs[0]]:[];return this._updateGraph(e,t)}))}))))}_updateActiveGraph(e){if(this._sidebar.close(),this._model){const t=this._model,s=t.graphs.filter((t=>e===t.name)).shift();s&&(this.show("welcome spinner"),this._timeout(200).then((()=>this._updateGraph(t,[s]).catch((e=>{e&&this.error(e,"Graph update failed.","welcome")})))))}}get activeGraph(){return Array.isArray(this._graphs)&&this._graphs.length>0?this._graphs[0]:null}_updateGraph(e,t){const s=()=>{const e=this._getElementById("name-button"),t=this._getElementById("back-button");if(this._graphs.length>1){const s=this.activeGraph;e.innerHTML=s?s.name:"",t.style.opacity=1,e.style.opacity=1}else t.style.opacity=0,e.style.opacity=0},i=e,n=t;this._model=e,this._graphs=t;const r=this.activeGraph;return this._timeout(100).then((()=>{if(r&&r!=this._graphs[0]){const e=r.nodes;if(e.length>2048&&!this._host.confirm("Large model detected.","This graph contains a large number of nodes and might take a long time to render. Do you want to continue?"))return this._host.event("Graph","Render","Skip",e.length),this.show(null),null}return this.renderGraph(this._model,this.activeGraph).then((()=>("default"!==this._page&&this.show("default"),s(),this._model))).catch((e=>(this._model=i,this._graphs=n,this.renderGraph(this._model,this.activeGraph).then((()=>{throw"default"!==this._page&&this.show("default"),s(),e})))))}))}pushGraph(e){e!==this.activeGraph&&(this._sidebar.close(),this._updateGraph(this._model,[e].concat(this._graphs)))}popGraph(){if(this._graphs.length>1)return this._sidebar.close(),this._updateGraph(this._model,this._graphs.slice(1))}renderGraph(e,t){try{this._graph=null;const s=this._getElementById("graph"),n=this._getElementById("canvas");for(;n.lastChild;)n.removeChild(n.lastChild);if(t){this._zoom=1,n.style.position="static",n.style.margin="auto";const r=t.groups,o=t.nodes;this._host.event("Graph","Render","Size",o.length);const a={nodesep:20,ranksep:20};(t.nodes.every((e=>0===e.inputs.filter((e=>e.arguments.every((e=>!e.initializer)))).length&&0===e.outputs.length))?!this._showHorizontal:this._showHorizontal)&&(a.rankdir="LR"),o.length>3e3&&(a.ranker="longest-path");const h=new i.Graph(this,e,r,a),c=new Set,l=new Map;if(r)for(const e of o)if(e.group){const t=e.group.split("/");for(;t.length>0;){const e=t.join("/");t.pop(),l.set(e,t.join("/"))}}for(const t of o){const s=h.createNode(t),n=t.inputs;for(const e of n)for(const t of e.arguments)""==t.name||t.initializer||h.createArgument(t).to(s);let o=t.outputs;if(t.chain&&t.chain.length>0){const e=t.chain[t.chain.length-1].outputs;e.length>0&&(o=e)}for(const t of o)for(const n of t.arguments){if(!n)throw new i.Error("Invalid null argument in '"+e.identifier+"'.");""!=n.name&&h.createArgument(n).from(s)}if(t.controlDependencies&&t.controlDependencies.length>0)for(const e of t.controlDependencies)h.createArgument(e).to(s,!0);const a=function(e){if(!c.has(e)){h.setNode({name:e,rx:5,ry:5}),c.add(e);const t=l.get(e);t&&(a(t),h.setParent(e,t))}};if(r){let e=t.group;if(e&&e.length>0){if(!l.has(e)){const t=e.lastIndexOf("/");-1!=t?(e=e.substring(0,t),l.has(e)||(e=null)):e=null}e&&(a(e),h.setParent(s.name,e))}}}for(const e of t.inputs){const t=h.createInput(e);for(const s of e.arguments)h.createArgument(s).from(t)}for(const e of t.outputs){const t=h.createOutput(e);for(const s of e.arguments)h.createArgument(s).to(t)}const p=this._host.document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("id","background"),p.setAttribute("fill","none"),p.setAttribute("pointer-events","all"),n.appendChild(p);const d=this._host.document.createElementNS("http://www.w3.org/2000/svg","g");return d.setAttribute("id","origin"),n.appendChild(d),h.build(this._host.document,d),this._zoom=1,this._timeout(20).then((()=>{h.layout();const e=Array.from(n.getElementsByClassName("graph-input")||[]);if(0===e.length){const t=Array.from(n.getElementsByClassName("graph-node")||[]);t.length>0&&e.push(t[0])}const t=n.getBBox(),i=100,r=Math.ceil(i+t.width+i),o=Math.ceil(i+t.height+i);if(d.setAttribute("transform","translate("+i.toString()+", "+i.toString()+") scale(1)"),p.setAttribute("width",r),p.setAttribute("height",o),this._width=r,this._height=o,delete this._scrollLeft,delete this._scrollRight,n.setAttribute("viewBox","0 0 "+r+" "+o),n.setAttribute("width",r),n.setAttribute("height",o),this._zoom=1,this._updateZoom(this._zoom),e&&e.length>0){const t=[],i=[];for(let s=0;s<e.length;s++){const n=e[s].getBoundingClientRect();t.push(n.left+n.width/2),i.push(n.top+n.height/2)}let n=t[0];const r=i[0];i.every((e=>e===i[0]))&&(n=t.reduce(((e,t)=>e+t),0)/t.length);const o=s.getBoundingClientRect(),a=s.scrollLeft+n-o.left-o.width/2,h=s.scrollTop+r-o.top-o.height/2;s.scrollTo({left:a,top:h,behavior:"auto"})}else{const e=n.getBoundingClientRect(),t=s.getBoundingClientRect(),i=s.scrollLeft+e.width/2-t.left-t.width/2,r=s.scrollTop+e.height/2-t.top-t.height/2;s.scrollTo({left:i,top:r,behavior:"auto"})}this._graph=h}))}return Promise.resolve()}catch(e){return Promise.reject(e)}}applyStyleSheet(e,t){let s=[];for(const e of this._host.document.styleSheets)if(e&&e.href&&e.href.endsWith("/"+t)){s=e.cssRules;break}const i=e.getElementsByTagName("*");for(const e of i)for(const t of s)if(e.matches(t.selectorText))for(const s of t.style)e.style[s]=t.style[s]}export(e){const t=e.lastIndexOf("."),s=-1!=t?e.substring(t+1):"";if(this.activeGraph&&("png"===s||"svg"===s)){const t=this._getElementById("canvas"),i=t.cloneNode(!0);this.applyStyleSheet(i,"view-grapher.css"),i.setAttribute("id","export"),i.removeAttribute("viewBox"),i.removeAttribute("width"),i.removeAttribute("height"),i.style.removeProperty("opacity"),i.style.removeProperty("display");const n=i.querySelector("#background"),r=i.querySelector("#origin");r.setAttribute("transform","translate(0,0) scale(1)"),n.removeAttribute("width"),n.removeAttribute("height");const o=t.parentElement;o.insertBefore(i,t);const a=i.getBBox();o.removeChild(i),o.removeChild(t),o.appendChild(t);const h=Math.min(a.width,a.height)/2*.1,c=Math.ceil(h+a.width+h),l=Math.ceil(h+a.height+h);r.setAttribute("transform","translate("+h.toString()+", "+h.toString()+") scale(1)"),i.setAttribute("width",c),i.setAttribute("height",l),n.setAttribute("width",c),n.setAttribute("height",l),n.setAttribute("fill","#fff");const p=(new XMLSerializer).serializeToString(i);if("svg"===s){const t=new Blob([p],{type:"image/svg"});this._host.export(e,t)}if("png"===s){const t=new Image;t.onload=()=>{const s=Math.max(c,l),i=Math.min(24e3/s,2),n=this._host.document.createElement("canvas");n.width=Math.ceil(c*i),n.height=Math.ceil(l*i);const r=n.getContext("2d");r.scale(i,i),r.drawImage(t,0,0),n.toBlob((t=>{if(t)this._host.export(e,t);else{const e=new Error;e.name="Error exporting image.",e.message="Image may be too large to render as PNG.",this._host.exception(e,!1),this._host.error(e.name,e.message)}}),"image/png")},t.src="data:image/svg+xml;base64,"+this._host.window.btoa(unescape(encodeURIComponent(p)))}}}showModelProperties(){if(this._model)try{const e=new _.ModelSidebar(this._host,this._model,this.activeGraph);e.on("update-active-graph",((e,t)=>{this._updateActiveGraph(t)}));const t=e.render();this._sidebar.open(t,"Model Properties")}catch(e){const t=" in '"+this._model.identifier+"'.";!e||e.message.endsWith(t)||void 0!==e.context&&!0!==e.context||(e.message=e.message.replace(/\.$/,"")+t),this.error(e,"Error showing model properties.",null)}}showNodeProperties(e,t){if(e)try{const s=new _.NodeSidebar(this._host,e);s.on("show-documentation",(()=>{this.showDocumentation(e.type)})),s.on("show-graph",((e,t)=>{this.pushGraph(t)})),s.on("export-tensor",((e,t)=>{this._host.require("./numpy").then((e=>{const s=t.name?t.name.split("/").join("_").split(":").join("_").split(".").join("_"):"tensor";this._host.save("NumPy Array","npy",s,(s=>{try{const i=new Map([["float16","f2"],["float32","f4"],["float64","f8"],["int8","i1"],["int16","i2"],["int32","i4"],["int64","i8"],["uint8","u1"],["uint16","u2"],["uint32","u4"],["uint64","u8"],["qint8","i1"],["qint16","i2"],["quint8","u1"],["quint16","u2"]]),n=new e.Array;n.shape=t.type.shape.dimensions,n.data=t.value,n.dataType=i.has(t.type.dataType)?i.get(t.type.dataType):t.type.dataType;const r=new Blob([n.toBuffer()],{type:"application/octet-stream"});this._host.export(s,r)}catch(e){this.error(e,"Error saving NumPy tensor.",null)}}))})).catch((()=>{}))})),s.on("error",((e,t)=>{this._model&&(t.message=t.message.replace(/\.$/,"")+" in '"+this._model.identifier+"'."),this.error(t,null,null)})),t&&s.toggleInput(t.name),this._sidebar.open(s.render(),"Node Properties")}catch(e){const t=" in '"+this._model.identifier+"'.";!e||e.message.endsWith(t)||void 0!==e.context&&!0!==e.context||(e.message=e.message.replace(/\.$/,"")+t),this.error(e,"Error showing node properties.",null)}}showDocumentation(e){if(e&&(e.description||e.inputs||e.outputs||e.attributes)){e.nodes&&this.pushGraph(e);const t=new _.DocumentationSidebar(this._host,e);t.on("navigate",((e,t)=>{this._host.openURL(t.link)}));const s="function"===e.type?"Function":"Documentation";this._sidebar.push(t.render(),s)}}},i.Graph=class extends u.Graph{constructor(e,t,s,i){super(s,i),this.view=e,this.model=t,this._arguments=new Map,this._nodeKey=0}createNode(e){const t=new i.Node(this,e);return t.name=this._nodeKey++,this.setNode(t),t}createInput(e){const t=new i.Input(this,e);return t.name=this._nodeKey++,this.setNode(t),t}createOutput(e){const t=new i.Output(this,e);return t.name=this._nodeKey++,this.setNode(t),t}createArgument(e){const t=e.name;return this._arguments.has(t)||this._arguments.set(t,new i.Argument(this,e)),this._arguments.get(t)}createEdge(e,t){return new i.Edge(e,t)}build(e,t){for(const e of this._arguments.values())e.build();super.build(e,t)}},i.Node=class extends u.Node{constructor(e,t){super(),this.context=e,this.value=t,i.Node.counter=i.Node.counter||0,this.id="node-"+(t.name?"name-"+t.name:"id-"+(i.Node.counter++).toString()),this._add(this.value)}get class(){return"graph-node"}get inputs(){return this.value.inputs}get outputs(){return this.value.outputs}_add(e){const t=this.header(),s=["node-item-type"],n=e.type,r=n&&n.category?n.category:"";if(r&&s.push("node-item-type-"+r.toLowerCase()),"string"!=typeof n.name||!n.name.split){const e=this.context.model&&this.context.model.identifier?this.context.model.identifier:"?";throw new i.Error("Unknown node type '"+JSON.stringify(n.name)+"' in '"+e+"'.")}const o=this.context.view.showNames&&(e.name||e.location)?e.name||e.location:n.name.split(".").pop(),a=this.context.view.showNames&&(e.name||e.location)?n.name:e.name||e.location;t.add(null,s,o,a,(()=>{this.context.view.showNodeProperties(e,null)})),e.type.nodes&&t.add(null,s,"","Show Function Definition",(()=>{this.context.view.pushGraph(e.type)})),e.nodes&&t.add(null,s,"+",null,(()=>{}));const h=[];let c=!1;if(this.context.view.showInitializers)for(const t of e.inputs)t.visible&&1===t.arguments.length&&null!=t.arguments[0].initializer&&h.push(t),(!t.visible||t.arguments.length>1)&&t.arguments.some((e=>null!=e.initializer))&&(c=!0);let l=[];const p=e.attributes||[];if(this.context.view.showAttributes&&(l=p.filter((e=>e.visible)).slice()),l.sort(((e,t)=>{const s=e.name.toUpperCase(),i=t.name.toUpperCase();return s<i?-1:s>i?1:0})),h.length>0||c||l.length>0){const t=this.list();t.handler=()=>{this.context.view.showNodeProperties(e)};for(const e of h){const s=e.arguments[0],n=s.type;let r="",o="";if(n&&n.shape&&n.shape.dimensions&&Array.isArray(n.shape.dimensions)&&(r=""+n.shape.dimensions.map((e=>e||"?")).join("")+"",0===n.shape.dimensions.length&&s.initializer&&!s.initializer.state))try{r=s.initializer.toString(),r&&r.length>10&&(r=r.substring(0,10)+""),o=" = "}catch(e){let t="?";try{t=s.initializer.type.toString()}catch(e){}const n=this.context.view.model&&this.context.view.model.identifier?this.context.view.model.identifier:"?";throw new i.Error("Failed to render tensor of type '"+t+"' in '"+n+"' ("+e.message+").")}t.add(s.name?"initializer-"+s.name:"",e.name,r,n?n.toString():"",o)}c&&t.add(null,"","",null,"");for(const e of l)if(e.visible){let s=_.NodeSidebar.formatAttributeValue(e.value,e.type);s&&s.length>25&&(s=s.substring(0,25)+""),t.add(null,e.name,s,e.type," = ")}}if(Array.isArray(e.chain)&&e.chain.length>0)for(const t of e.chain)this._add(t);e.inner&&this._add(e.inner)}},i.Input=class extends u.Node{constructor(e,t){super(),this.context=e,this.value=t,i.Input.counter=i.Input.counter||0;const s=t.arguments.map((e=>e.type||"")).join("\n");let n=t.name||"";n.length>16&&(n=n.split("/").pop()),this.header().add(null,["graph-item-input"],n,s,(()=>this.context.view.showModelProperties())),this.id="input-"+(n?"name-"+n:"id-"+(i.Input.counter++).toString())}get class(){return"graph-input"}get inputs(){return[]}get outputs(){return[this.value]}},i.Output=class extends u.Node{constructor(e,t){super(),this.context=e,this.value=t;const s=t.arguments.map((e=>e.type||"")).join("\n");let i=t.name||"";i.length>16&&(i=i.split("/").pop()),this.header().add(null,["graph-item-output"],i,s,(()=>this.context.view.showModelProperties()))}get inputs(){return[this.value]}get outputs(){return[]}},i.Argument=class{constructor(e,t){this.context=e,this._argument=t}from(e){this._from=e}to(e,t){this._to=this._to||[],t&&(this._controlDependencies=this._controlDependencies||new Set,this._controlDependencies.add(this._to.length)),this._to.push(e)}build(){if(this._edges=this._edges||[],this._from&&this._to)for(let e=0;e<this._to.length;e++){const t=this._to[e];let s="";const i=this._argument.type;i&&i.shape&&i.shape.dimensions&&i.shape.dimensions.length>0&&i.shape.dimensions.every((e=>!e||Number.isInteger(e)||e instanceof n.Int64||"string"==typeof e))&&(s=i.shape.dimensions.map((e=>e||"?")).join(""),s=s.length>16?"":s),this.context.view.showNames&&(s=this._argument.name.split("\n").shift());const r=this.context.createEdge(this._from,t);r.v=this._from.name,r.w=t.name,s&&(r.label=s),r.id="edge-"+this._argument.name,this._controlDependencies&&this._controlDependencies.has(e)&&(r.class="edge-path-control-dependency"),this.context.setEdge(r),this._edges.push(r)}}},i.Edge=class extends u.Edge{constructor(e,t){super(e,t)}get minlen(){return this.from.inputs.every((e=>e.arguments.every((e=>e.initializer))))?2:1}},i.ModelContext=class{constructor(e,t){this._context=e,this._tags=new Map,this._content=new Map,this._formats=t||new Map}get identifier(){return this._context.identifier}get stream(){return this._context.stream}request(e,t,s){return this._context.request(e,t,s)}require(e){return this._context.require(e)}exception(e,t){this._context.exception(e,t)}entries(e){return this._formats.get(e)||new Map}open(e){if(!this._content.has(e)){this._content.set(e,void 0);const t=this.stream,s=t.position;if(!([[137,72,68,70,13,10,26,10],[128,void 0,138,10,108,252,156,70,249,32,106,168,80,25]].some((e=>e.length<=t.length&&t.peek(e.length).every(((t,s)=>void 0===e[s]||e[s]===t))))||Array.from(this._tags).some((e=>"flatbuffers"!==e[0]&&e[1].size>0))||Array.from(this._content.values()).some((e=>void 0!==e))))switch(e){case"json":try{const t=h.TextReader.open(this.stream);if(t){const s=t.read();this._content.set(e,s)}}catch(e){}break;case"json.gz":try{const t=o.Archive.open(this.stream);if(t){const s=t.entries;if(1===s.size){const t=s.values().next().value,i=h.TextReader.open(t);if(i){const t=i.read();this._content.set(e,t)}}}}catch(e){}break;case"pkl":{let s=null;try{if(t.length>2){const e=e=>{const t=e.peek(2);return 120===t[0]&&((t[0]<<8)+t[1])%31==0?r.Archive.open(e).entries.get(""):e};s=d.Unpickler.open(e(t))}}catch(e){}if(s){const t=new d.Execution(null,((e,t)=>{const s=e&&e.message?e.message:e.toString();this.exception(new i.Error(s.replace(/\.$/,"")+" in '"+this.identifier+"'."),t)})),n=e=>e,r=s.load(((e,s)=>t.invoke(e,s)),n);this._content.set(e,r)}break}}t.position!==s&&t.seek(0)}return this._content.get(e)}tags(e){if(!this._tags.has(e)){let t=new Map;const s=this.stream,i=s.position;if(s&&!([[137,72,68,70,13,10,26,10],[128,void 0,138,10,108,252,156,70,249,32,106,168,80,25],[80,75],[31,139]].some((e=>e.length<=s.length&&s.peek(e.length).every(((t,s)=>void 0===e[s]||e[s]===t))))||Array.from(this._tags).some((e=>"flatbuffers"!==e[0]&&e[1].size>0))&&"pb+"!==e||Array.from(this._content.values()).some((e=>void 0!==e))))try{switch(e){case"pbtxt":{const e=l.TextReader.open(s);t=e?e.signature():t;break}case"pb":t=l.BinaryReader.open(s).signature();break;case"pb+":t=l.BinaryReader.open(s).decode();break;case"flatbuffers":if(s.length>=8){const e=s.peek(Math.min(32,s.length)),i=p.BinaryReader.open(e).identifier;i.length>0&&t.set("file_identifier",i)}break;case"xml":{const e=c.TextReader.open(s);if(e){const s=e.peek().documentElement,i=s.namespaceURI,n=s.localName,r=i?i+":"+n:n;t.set(r,s)}break}}}catch(e){t.clear()}s.position!==i&&s.seek(i),this._tags.set(e,t)}return this._tags.get(e)}},i.ArchiveContext=class{constructor(e,t,s,i,n){if(this._host=e,this._entries=new Map,t)for(const e of t)if(e[0].startsWith(s)){const t=e[0].substring(s.length);this._entries.set(t,e[1])}this._identifier=i.substring(s.length),this._stream=n}get identifier(){return this._identifier}get stream(){return this._stream}request(e,t,s){if(void 0===s){const s=this._entries.get(e);if(!s)return Promise.reject(new Error("File not found."));if(t){const e=new TextDecoder(t),i=s.peek(),n=e.decode(i);return Promise.resolve(n)}return Promise.resolve(s)}return this._host.request(e,t,s)}require(e){return this._host.require(e)}exception(e,t){this._host.exception(e,t)}},i.ArchiveError=class extends Error{constructor(e){super(e),this.name="Error loading archive."}},i.ModelFactoryService=class{constructor(e){this._host=e,this._extensions=[],this.register("./pytorch",[".pt",".pth",".ptl",".pt1",".pyt",".pyth",".pkl",".pickle",".h5",".t7",".model",".dms",".tar",".ckpt",".chkpt",".tckpt",".bin",".pb",".zip",".nn",".torchmodel",".torchscript",".pytorch",".ot",".params"]),this.register("./onnx",[".onnx",".onn",".pb",".pbtxt",".prototxt",".txt",".model",".pt",".pth",".pkl",".ort",".ort.onnx"]),this.register("./mxnet",[".json",".params"]),this.register("./coreml",[".mlmodel",".bin","manifest.json","metadata.json","featuredescriptions.json",".pb"]),this.register("./caffe",[".caffemodel",".pbtxt",".prototxt",".pt",".txt"]),this.register("./caffe2",[".pb",".pbtxt",".prototxt"]),this.register("./torch",[".t7",".net"]),this.register("./tflite",[".tflite",".lite",".tfl",".bin",".pb",".tmfile",".h5",".model",".json",".txt"]),this.register("./circle",[".circle"]),this.register("./tf",[".pb",".meta",".pbtxt",".prototxt",".pt",".json",".index",".ckpt",".graphdef",".pbmm",/.data-[0-9][0-9][0-9][0-9][0-9]-of-[0-9][0-9][0-9][0-9][0-9]$/,/^events.out.tfevents./]),this.register("./mediapipe",[".pbtxt"]),this.register("./uff",[".uff",".pb",".pbtxt",".uff.txt",".trt",".engine"]),this.register("./tensorrt",[".trt",".engine",".model",".txt",".uff",".pb",".tmfile",".onnx",".pth",".dnn"]),this.register("./npz",[".npz",".npy",".pkl",".pickle"]),this.register("./lasagne",[".pkl",".pickle",".joblib",".model",".pkl.z",".joblib.z"]),this.register("./lightgbm",[".txt",".pkl",".model"]),this.register("./keras",[".h5",".hd5",".hdf5",".keras",".json",".cfg",".model",".pb",".pth",".weights",".pkl",".lite",".tflite",".ckpt"]),this.register("./sklearn",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5",".pkl.z",".joblib.z"]),this.register("./pickle",[".pkl",".pickle",".joblib",".model",".meta",".pb",".pt",".h5",".pkl.z",".joblib.z"]),this.register("./cntk",[".model",".cntk",".cmf",".dnn"]),this.register("./paddle",[".pdmodel",".pdparams",".pdiparams",".paddle","__model__",".__model__",".pbtxt",".txt",".tar",".tar.gz",".nb",".json"]),this.register("./bigdl",[".model",".bigdl"]),this.register("./darknet",[".cfg",".model",".txt",".weights"]),this.register("./weka",[".model"]),this.register("./rknn",[".rknn",".onnx"]),this.register("./dlc",[".dlc"]),this.register("./armnn",[".armnn",".json"]),this.register("./mnn",[".mnn"]),this.register("./ncnn",[".param",".bin",".cfg.ncnn",".weights.ncnn"]),this.register("./tnn",[".tnnproto",".tnnmodel"]),this.register("./tengine",[".tmfile"]),this.register("./mslite",[".ms"]),this.register("./barracuda",[".nn"]),this.register("./dnn",[".dnn"]),this.register("./xmodel",[".xmodel"]),this.register("./openvino",[".xml",".bin"]),this.register("./flux",[".bson"]),this.register("./dl4j",[".zip"]),this.register("./mlnet",[".zip"]),this.register("./acuity",[".json"]),this.register("./imgdnn",[".dnn","params",".json"]),this.register("./om",[".om",".onnx",".pb"])}register(e,t){for(const s of t)this._extensions.push({extension:s,id:e})}open(e){return this._openSignature(e).then((e=>{const t=new Map;let s=e.stream;const n=e.entries;if(!s&&n&&n.size>0)t.set("",n);else{const n=e.identifier;try{const e=o.Archive.open(s);if(e){const i=e.entries;t.set("gzip",i),1===i.size&&(s=i.values().next().value)}}catch(e){const t=e&&e.message?e.message:e.toString();throw new i.ArchiveError(t.replace(/\.$/,"")+" in '"+n+"'.")}try{const e=new Map([["zip",r],["tar",a]]);for(const i of e){const e=i[0],n=i[1].Archive.open(s);if(n){t.set(e,n.entries),t.delete("gzip");break}}}catch(e){const t=e&&e.message?e.message:e.toString();throw new i.ArchiveError(t.replace(/\.$/,"")+" in '"+n+"'.")}}const h=new i.ModelContext(e,t);return this._openContext(h).then((e=>e||(t.size>0?this._openEntries(t.values().next().value).then((e=>{if(e)return this._openContext(e);this._unsupported(h)})):void this._unsupported(h))))}))}_unsupported(e){const t=e.identifier,s=t.split(".").pop().toLowerCase(),n=e.stream;for(const e of[r,a,o]){let s=null;try{s=e.Archive.open(n)}catch(e){}if(s)throw new i.Error("Archive contains no model files in '"+t+"'.",!0)}const h=()=>new Set(["natives_blob.bin","v8_context_snapshot.bin","snapshot_blob.bin","image_net_labels.json","package.json","models.json","LICENSE.meta","input_0.pb","output_0.pb"]).has(e.identifier);(()=>{const n=e.open("json");if(n){const e=[{name:"Netron metadata",tags:["[].name","[].schema"]},{name:"Netron metadata",tags:["[].name","[].attributes"]},{name:"Darkflow metadata",tags:["net","type","model"]},{name:"keras-yolo2 configuration",tags:["model","train","valid"]},{name:"Vulkan SwiftShader ICD manifest",tags:["file_format_version","ICD"]},{name:"DeepLearningExamples configuration",tags:["attention_probs_dropout_prob","hidden_act","hidden_dropout_prob","hidden_size"]},{name:"NuGet assets",tags:["version","targets","packageFolders"]},{name:"NuGet data",tags:["format","restore","projects"]},{name:"NPM package",tags:["name","version","dependencies"]},{name:"NetworkX adjacency_data",tags:["directed","graph","nodes"]},{name:"Waifu2x data",tags:["name","arch_name","channels"]},{name:"Waifu2x data",tags:["[].nInputPlane","[].nOutputPlane","[].weight","[].bias"]}],r=(e,t)=>t.startsWith("[].")?(t=t.substring(3),Array.isArray(e)&&e.some((e=>Object.prototype.hasOwnProperty.call(e,t)))):Object.prototype.hasOwnProperty.call(e,t);for(const t of e)if(t.tags.every((e=>r(n,e))))throw new i.Error("Invalid file content. File contains "+t.name+".",!0);const o=JSON.stringify(n).substring(0,100).replace(/\s/,"").substr(0,48)+"...";throw new i.Error("Unsupported JSON content '"+(o.length>64?o.substring(0,100)+"...":o)+"' for extension '."+s+"' in '"+t+"'.",!h())}})(),(()=>{const n=[{name:"ImageNet LabelMap data",tags:["entry","entry.target_class"]},{name:"StringIntLabelMapProto data",tags:["item","item.id","item.name"]},{name:"caffe.LabelMap data",tags:["item","item.name","item.label"]},{name:"Triton Inference Server configuration",tags:["name","platform","input","output"]},{name:"TensorFlow OpList data",tags:["op","op.name","op.input_arg"]},{name:"vitis.ai.proto.DpuModelParamList data",tags:["model","model.name","model.kernel"]},{name:"object_detection.protos.DetectionModel data",tags:["model","model.ssd"]},{name:"object_detection.protos.DetectionModel data",tags:["model","model.faster_rcnn"]},{name:"tensorflow.CheckpointState data",tags:["model_checkpoint_path","all_model_checkpoint_paths"]},{name:"apollo.perception.camera.traffic_light.detection.DetectionParam data",tags:["min_crop_size","crop_method"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["caffe_ssd"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["tf_od_api_ssd"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["tidl_ssd"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["tidl_faster_rcnn"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["tidl_yolo"]},{name:"tidl_meta_arch.TIDLMetaArch data",tags:["tidl_retinanet"]}],r=e.tags("pbtxt");if(r.size>0){for(const e of n)if(e.tags.every((e=>r.has(e))))throw new i.Error("Invalid file content. File contains "+e.name+".",!0);const e=[];e.push(...Array.from(r).filter((e=>-1===e[0].toString().indexOf(".")))),e.push(...Array.from(r).filter((e=>-1!==e[0].toString().indexOf("."))));const o=e.map((e=>!0===e[1]?e[0]:e[0]+":"+JSON.stringify(e[1]))).join(",");throw new i.Error("Unsupported Protocol Buffers text content '"+(o.length>64?o.substring(0,100)+"...":o)+"' for extension '."+s+"' in '"+t+"'.",!h())}})(),(()=>{const n=e.tags("pb+");if(Object.keys(n).length>0){const n=[{name:"sentencepiece.ModelProto data",tags:[[1,[[1,2],[2,5],[3,0]]],[2,[[1,2],[2,2],[3,0],[4,0],[5,2],[6,0],[7,2],[10,5],[16,0],[40,0],[41,0],[42,0],[43,0]]],[3,[]],[4,[]],[5,[]]]},{name:"mediapipe.BoxDetectorIndex data",tags:[[1,[[1,[[1,[[1,5],[2,5],[3,5],[4,5],[6,0],[7,5],[8,5],[10,5],[11,0],[12,0]]],[2,5],[3,[]]]],[2,!1],[3,!1],[4,!1],[5,!1]]],[2,!1],[3,!1]]},{name:"third_party.tensorflow.python.keras.protobuf.SavedMetadata data",tags:[[1,[[1,[[1,0],[2,0]]],[2,0],[3,2],[4,2],[5,2]]]]},{name:"pblczero.Net data",tags:[[1,5],[2,2],[3,[[1,0],[2,0],[3,0]],[10,[[1,[]],[2,[]],[3,[]],[4,[]],[5,[]],[6,[]]]],[11,[]]]]}],r=(e,t)=>{for(const s of t){const t=s[0],i=s[1],n=e[t];if(void 0!==n){if(!1===i)return!1;if(Array.isArray(i)){if("object"!=typeof n||!r(n,i))return!1}else if(i!==n)return 2===i&&!Array.isArray(n)&&Object(n)===n&&0===Object.keys(n).length}}return!0},o=e.tags("pb+");for(const e of n)if(r(o,e.tags))throw new i.Error("Invalid file content. File contains "+e.name+".",!0);const a=e=>Object.entries(e).map((e=>{const t=e[0],s=e[1];return t.toString()+":"+(Object(s)===s?"{"+a(s)+"}":s.toString())})).join(","),c=a(o);throw new i.Error("Unsupported Protocol Buffers content '"+(c.length>64?c.substring(0,100)+"...":c)+"' for extension '."+s+"' in '"+t+"'.",!h())}})(),(()=>{const t=e.tags("flatbuffers");if(t.has("file_identifier")){const e=t.get("file_identifier"),s=[{name:"onnxruntime.experimental.fbs.InferenceSession data",identifier:"ORTM"},{name:"tflite.Model data",identifier:"TFL3"},{name:"FlatBuffers ENNC data",identifier:"ENNC"}];for(const t of s)if(e===t.identifier)throw new i.Error("Invalid file content. File contains "+t.name+".",!0)}})(),(()=>{const s=e.tags("xml");if(s.size>0){const e=[{name:"OpenCV storage data",tags:["opencv_storage"]},{name:"XHTML markup",tags:["http://www.w3.org/1999/xhtml:html"]}];for(const t of e)if(t.tags.some((e=>s.has(e))))throw new i.Error("Invalid file content. File contains "+t.name+".",!0);throw new i.Error("Unsupported XML content '"+s.keys().next().value+"' in '"+t+"'.",!h())}})(),(()=>{n.seek(0);const e=n.peek(Math.min(16,n.length)),r=Array.from(e).map((e=>(e<16?"0":"")+e.toString(16))).join(""),o=n.length>268435456?"("+r+") ["+n.length.toString()+"]":"("+r+")";throw new i.Error("Unsupported file content "+o+" for extension '."+s+"' in '"+t+"'.",!h())})()}_openContext(e){const t=this._filter(e).filter((e=>e&&e.length>0)),s=[];let n=!1;const r=()=>{if(t.length>0){const o=t.shift();return this._host.require(o).then((t=>{const a=(e,t)=>{const s=" in '"+t.identifier+"'.";!e||e.message.endsWith(s)||void 0!==e.context&&!0!==e.context||(e.message=e.message.replace(/\.$/,"")+s)};if(!t.ModelFactory)throw new i.Error("Failed to load module '"+o+"'.");const h=new t.ModelFactory;let c;try{if(c=h.match(e),!c)return r()}catch(t){return a(t,e),Promise.reject(t)}return n=!0,h.open(e,c).then((t=>(t.identifier||(t.identifier=e.identifier),t))).catch((t=>(a(t,e),s.push(t),r())))}))}if(n){if(1===s.length){const e=s[0];return Promise.reject(e)}return Promise.reject(new i.Error(s.map((e=>e.message)).join("\n")))}return Promise.resolve(null)};return r()}_openEntries(e){try{const t=e=>{const t=e.map((e=>e.split("/").slice(0,-1))),s=e=>t=>t[e],i=(n=t,0===n.length?[]:n[0].map(((e,t)=>n.map(s(t))))).filter((e=>e.every((t=>t===e[0])))).map(s(0)).join("/");var n;return 0===i.length?i:i+"/"},s=t=>{let s=[];const n=()=>{if(t.length>0){const e=t.shift(),o=new i.ModelContext(new i.ArchiveContext(this._host,null,r,e.name,e.stream));let a=this._filter(o);const h=()=>{if(a.length>0){const t=a.shift();return this._host.require(t).then((n=>{if(!n.ModelFactory)throw new i.ArchiveError("Failed to load module '"+t+"'.",null);return(new n.ModelFactory).match(o)&&(s.push(e),a=[]),h()}))}return n()};return h()}{if(0===s.length)return Promise.resolve(null);if(2===s.length&&s.some((e=>e.name.toLowerCase().endsWith(".params")))&&s.some((e=>e.name.toLowerCase().endsWith("-symbol.json")))&&(s=s.filter((e=>e.name.toLowerCase().endsWith(".params")))),s.length>0&&s.some((e=>e.name.toLowerCase().endsWith(".bin")))&&s.some((e=>e.name.toLowerCase().endsWith(".json")))&&(s=s.filter((e=>e.name.toLowerCase().endsWith(".json")))),s.length>0&&s.some((e=>e.name.toLowerCase().endsWith(".bin")))&&s.some((e=>e.name.toLowerCase().endsWith(".param")))&&(s=s.filter((e=>e.name.toLowerCase().endsWith(".param")))),s.length>0&&s.some((e=>e.name.toLowerCase().endsWith(".bin")))&&s.some((e=>e.name.toLowerCase().endsWith(".param.bin")))&&(s=s.filter((e=>e.name.toLowerCase().endsWith(".param.bin")))),s.length>0&&s.some((e=>e.name.toLowerCase().endsWith(".pdmodel")))&&s.some((e=>e.name.toLowerCase().endsWith(".pdiparams")))&&(s=s.filter((e=>e.name.toLowerCase().endsWith(".pdmodel")))),s.length>0&&s.some((e=>"__model__.nb"===e.name.toLowerCase().split("/").pop()))&&s.some((e=>"param.nb"===e.name.toLowerCase().split("/").pop()))&&(s=s.filter((e=>"__model__.nb"==e.name.toLowerCase().split("/").pop()))),s.length>1&&s.some((e=>e.name.toLowerCase().endsWith(".data-00000-of-00001")))&&(s=s.filter((e=>!e.name.toLowerCase().endsWith(".data-00000-of-00001")))),2===s.length&&s.some((e=>"keras_metadata.pb"===e.name.toLowerCase().split("/").pop()))&&(s=s.filter((e=>"keras_metadata.pb"!==e.name.toLowerCase().split("/").pop()))),s.length>1)return Promise.reject(new i.ArchiveError("Archive contains multiple model files."));const t=s.shift();return Promise.resolve(new i.ModelContext(new i.ArchiveContext(this._host,e,r,t.name,t.stream)))}};return n()},n=Array.from(e).map((e=>({name:e[0],stream:e[1]}))).filter((e=>!(e.name.endsWith("/")||e.name.split("/").pop().startsWith(".")||!e.name.startsWith("./")&&e.name.startsWith(".")))),r=t(n.map((e=>e.name))),o=n.slice(0).filter((e=>e.name.substring(r.length).indexOf("/")<0));return s(o).then((e=>{if(e)return Promise.resolve(e);const t=n.slice(0).filter((e=>e.name.substring(r.length).indexOf("/")>=0));return s(t)}))}catch(e){return Promise.reject(new i.ArchiveError(e.message))}}accept(e){const t=-1===e.indexOf(".")?"":e.split(".").pop().toLowerCase();e=e.toLowerCase().split("/").pop();for(const s of this._extensions)if("string"==typeof s.extension&&e.endsWith(s.extension)||s.extension instanceof RegExp&&s.extension.exec(e))return this._host.event("File","Accept",t,1),!0;return e.endsWith(".zip")||e.endsWith(".tar")||e.endsWith(".tar.gz")||e.endsWith(".tgz")||e.endsWith(".gz")||e.endsWith(".mar")||e.endsWith(".model")||e.endsWith(".mlpackage")?(this._host.event("File","Accept",t,1),!0):(this._host.event("File","Reject",t,1),!1)}_filter(e){const t=e.identifier.toLowerCase().split("/").pop(),s=this._extensions.filter((e=>"string"==typeof e.extension&&t.endsWith(e.extension)||e.extension instanceof RegExp&&e.extension.exec(t)));return Array.from(new Set(s.map((e=>e.id))))}_openSignature(e){const t=e.stream;if(t){let s=!0,n=0;for(;s&&n<t.length;){const e=t.read(Math.min(4096,t.length-n));if(n+=e.length,!e.every((e=>0===e))){s=!1;break}}if(t.seek(0),s)return Promise.reject(new i.Error("File has no content.",!0));const r=[{name:"ELF executable",value:/^\x7FELF/},{name:"PNG image",value:/^\x89PNG/},{name:"Git LFS header",value:/^version https:\/\/git-lfs.github.com/},{name:"Git LFS header",value:/^\s*oid sha256:/},{name:"HTML markup",value:/^\s*<html>/},{name:"HTML markup",value:/^\s*<!doctype\s*html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE\s*html>/},{name:"HTML markup",value:/^\s*<!DOCTYPE\s*HTML>/},{name:"HTML markup",value:/^\s*<!DOCTYPE\s*HTML\s+(PUBLIC|SYSTEM)?/},{name:"Unity metadata",value:/^fileFormatVersion:/},{name:"Python source code",value:/^\s*import[ ]+(os|sys|types|torch|argparse|onnx|numpy|tensorflow)(,|;|\s)/},{name:"Python source code",value:/^\s*import[ ]+([a-z])+[ ]+as[ ]+/},{name:"Python source code",value:/^\s*from[ ]+(torch)[ ]+import[ ]+/},{name:"Python source code",value:/^\s*from[ ]+(keras)[ ]+import[ ]+/},{name:"Bash script",value:/^#!\/usr\/bin\/env\s/},{name:"Bash script",value:/^#!\/bin\/bash\s/},{name:"TSD header",value:/^%TSD-Header-###%/},{name:"AppleDouble data",value:/^\x00\x05\x16\x07/},{name:"TensorFlow Hub module",value:/^\x08\x03$/,identifier:"tfhub_module.pb"}],o=t.peek(Math.min(4096,t.length)),a=String.fromCharCode.apply(null,o);for(const t of r)if(a.match(t.value)&&(!t.identifier||t.identifier===e.identifier))return Promise.reject(new i.Error("Invalid file content. File contains "+t.name+".",!0))}return Promise.resolve(e)}},i.Error=class extends Error{constructor(e,t){super(e),this.name="Error loading model.",this.telemetry=t,this.stack=void 0}},"object"==typeof e.exports&&(e.exports.View=i.View,e.exports.ModelFactoryService=i.ModelFactoryService)},82:(e,t,s)=>{var i=i||{},n=n||s(152);i.TextReader=class{static open(e,t){const s=n.Decoder.open(e);for(;;){const e=s.decode();if("<"===e)break;if(" "!==e&&"\n"!==e&&"\r"!==e&&"\t"!==e)return null}return new i.TextReader(e,t)}constructor(e,t){this._data=e,this._callback=t,this._entities=new Map([["quot",'"'],["amp","&"],["apos","'"],["lt","<"],["gt",">"]]),this._nameStartCharRegExp=/[:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,this._nameCharRegExp=new RegExp("[-.0-9\\xB7"+this._nameStartCharRegExp.source.slice(1,-1)+"]"),i.Utility.nameStartCharRegExp=this._nameStartCharRegExp}peek(){this._peek=!0;const e=this.read();return delete this._peek,e}read(){this._stack=[],this._context=[],this._pushBuffer(this._data,"","",!1),this._version=0,this._charRegExp=/[\x09\x0a\x0d\x20-\uD7FF\uE000-\uFFFD]/,this._parameterEntities=!1,this._characterData=!0,this._push(new i.Document);const e=this._document();for(;;)switch(this._start=this._position,this._char){case"<":switch(this._next(),this._char){case"?":this._processingInstruction();break;case"!":if(this._next(),this._match("--"))this._comment();else if(this._match("[CDATA")){this._assert(this._stack.length>1),this._characterData=!0,this._expect("[");const t=this._terminal("]]>"),s=e.createCDATASection(t);this._appendChild(s)}else if(this._match("DOCTYPE")){this._assert(this._stack.length>1||!e.documentElement||!e.documentType),this._whitespace(1);const t=this._name();this._assert(null!==t);let s="",n="",r=this._whitespace(0);r&&this._match("SYSTEM")?(this._whitespace(1),s=this._systemLiteral(),this._whitespace(0),r=!0):r&&this._match("PUBLIC")&&(this._whitespace(1),n=this._pubidLiteral(),this._whitespace(1),s=this._systemLiteral(),this._whitespace(0),r=!0);const o=e.createDocumentType(t,n,s);this._appendChild(o),this._push(o),o.parameterEntities=new i.NamedNodeMap,o.elements=new i.NamedNodeMap,this._parameterEntities=!0,this._characterData=!1;const a=r&&this._match("[");a&&this._internalSubset("]"),s&&!this._standalone&&(this._pushResource(s,"",!0),this._internalSubset(void 0),this._popContext()),this._characterData=!0,this._parameterEntities=!1;const h=o.entities.filter((e=>e.value)).map((e=>e.value));for(const e of o.entities.filter((e=>e.notationName))){const t="&"+e.localName+";";h.some((e=>e.indexOf(t)>=0))&&this._error("Entity references unparsed entity '"+e.localName+"'")}a&&(this._expect("]"),this._whitespace(0)),this._expect(">"),this._assert(this._pop().nodeType===i.NodeType.DocumentType)}else this._unexpected();break;case"/":{this._next();const e=this._name();this._assert(null!==e),this._whitespace(0),this._expect(">");const t=this._pop(),s=t.prefix?t.prefix+":"+t.localName:t.localName;e!==s&&this._error("Opening tag <"+s+"> and ending tag </"+e+"> mismatch",this._start);break}default:{this._assert(this._stack.length>1||!this._document.documentElement);const t=this._name();this._assert(null!==t),this._assert(!t.startsWith("xmlns:"));const s=[];let n=this._whitespace(0);if(n)for(;"/"!==this._char&&">"!==this._char;){n||this._unexpected();const e=this._position,t=this._name();t||this._unexpected(),this._whitespace(0),this._expect("="),this._whitespace(0);const i=this._valuePosition,r=this._attributeValue();s.push({qualifiedName:t,value:r,position:e,valuePosition:i}),n=this._whitespace(0),"xmlns"!==t||this._validateNamespace(r)&&"http://www.w3.org/2000/xmlns/"!==r&&"http://www.w3.org/XML/1998/namespace"!==r||this._error("Invalid namespace '"+r+"'",i),"xml:space"===t&&"preserve"!==r&&"default"!==r&&this._error("Unexpected xml:space attribute value '"+r+"'",e)}const r=new Map;for(const e of s.reverse()){const t=e.qualifiedName,s=e.value,n=i.Utility.split(t);this._assert("xmlns:"!==t),e.prefix=n[0],e.localName=n[1],null!==e.prefix?(this._assert(""!==e.localName),"xmlns"===e.prefix&&e.localName&&(this._validateNamespace(s)&&"http://www.w3.org/2000/xmlns/"!==s||this._error("Invalid namespace '"+s+"'",e.valuePosition),("xmlns"===e.localName||"xml"===e.localName&&"http://www.w3.org/XML/1998/namespace"!==s||"xml"!==e.localName&&"http://www.w3.org/XML/1998/namespace"===s)&&this._error("Invalid namespace prefix '"+e.localName+"'",e.position),0===this._version&&0===s.length&&this._error("Invalid namespace declaration'",e.position),r.set(e.localName,s))):"xmlns"===e.localName&&r.set("",s)}const o=i.Utility.split(t),a=o[0]||"",h=r.has(a)?r.get(a):this._lookupNamespaceURI(a);let c=null;const l=e.documentType,p=l?l.elements.getNamedItem(t):null;null!==h?(this._assert(":"===t||!t.endsWith(":")&&!t.startsWith(":")),!a||""!==h&&null!==h||this._error("Invalid namespace prefix '"+a+"'",this._start),c=e.createElementNS(h,t)):(this._assert(null===o[0]&&!t.endsWith(":")||":"===t||null!==p),c=e.createElement(t));const d=this._node();d.nodeType===i.NodeType.Document&&null!==d.documentElement&&this._error("Duplicate document element",this._start),this._appendChild(c);const _=new Set;for(const t of s){const s=t.qualifiedName,i=t.prefix||"",n=r.has(i)?r.get(i):this._lookupNamespaceURI(i);let o=null;if(n)o=e.createAttributeNS(n,s);else{const t=p?p.attributes.getNamedItem(s):null;this._assert(-1===s.indexOf(":")||t),o=e.createAttribute(s)}const a=(o.namespaceURI||"")+"|"+o.localName;this._assert(!_.has(a)),_.add(a),o.value=t.value,o.ownerElement=c,c.setAttributeNode(o)}const u=this._match("/");if(this._expect(">"),this._peek&&1===this._stack.length&&this._nodeType()===i.NodeType.Document)return this._pop();u||this._push(c);break}}break;default:{for(;void 0===this._char&&this._context.length>0;)this._popContext();if(void 0===this._char){if(1===this._stack.length&&this._nodeType()===i.NodeType.Document){this._assert(e.documentElement);const t=e.documentType;t&&(delete t.parameterEntities,delete t.elements);const s=this._pop();for(const e of Object.keys(this))"_data"===e||"_callback"===e||"_entities"===e||e.startsWith("_name")||delete this[e];return s}this._unexpected()}const t=this._node();if(t.nodeType===i.NodeType.Element){const s=e.documentType,i=t.prefix?t.prefix+":"+t.localName:t.localName,n=s?s.elements.getNamedItem(i):null;this._characterData=!!n&&n.characterData,this._seek(this._position);const r=[];for(;"<"!==this._char&&void 0!==this._char;)"]"===this._char&&this._match("]]>")&&this._unexpected(),r.push(this._content()),r.length>65536&&this._error("Invalid character data buffer size.");if(r.length>0){const t=r.splice(0,r.length).join("");if(t.trim().length>0){const s=e.createTextNode(t);this._appendChild(s)}}continue}this._whitespace(0)||this._unexpected();break}}}_internalSubset(e){for(;;)switch(this._start=this._position,this._char){case"<":switch(this._next(),this._char){case"?":this._processingInstruction();break;case"!":if(this._next(),this._match("--"))this._parameterEntities=!1,this._characterData=!0,this._comment(),this._parameterEntities=!0;else if(this._match("ENTITY")){const e=this._node();this._assert(e.nodeType===i.NodeType.DocumentType),this._parameterEntities=!1,this._whitespace(1);const t="%"===this._char;t&&(this._next(),this._whitespace(1)),this._parameterEntities=!0;const s=this._entityName(),n=e.createEntity(s);let r=this._whitespace(0);if(!r||'"'!==this._char&&"'"!==this._char){if(r&&this._match("SYSTEM")?(this._whitespace(1),n.systemId=this._systemLiteral(),r=this._whitespace(0)):r&&this._match("PUBLIC")?(this._whitespace(1),n.publicId=this._pubidLiteral(),this._whitespace(1),n.systemId=this._systemLiteral(),r=this._whitespace(0)):this._unexpected(),r&&!t&&this._match("NDATA")){this._whitespace(1);const e=this._name();this._assert(null!==e),n.notationName=e,this._whitespace(0)}}else n.value=this._entityValue(),r=this._whitespace(0);this._expect(">"),t?e.parameterEntities.setNamedItem(n):this._appendChild(n)}else if(this._match("ELEMENT")){const e=this._node();this._assert(e.nodeType===i.NodeType.DocumentType),this._whitespace(1);const t=this._name();this._assert(null!==t),this._whitespace(1);const s=this._elementType(t);if(this._match("EMPTY"))this._whitespace(0);else if(this._match("ANY"))this._whitespace(0);else if(""===this._char||"\f"===this._char||""===this._char)this._unexpected();else if(this._expect("("),this._whitespace(0),this._match("#PCDATA"))if(s.characterData=!0,this._whitespace(0),this._match(")"))this._match("*");else{for(this._whitespace(0);this._match("|");){this._whitespace(0);const e=this._name();this._assert(e),this._whitespace(0)}this._expect(")*")}else this._elementChildren();this._whitespace(0),this._expect(">")}else if(this._match("ATTLIST")){const e=this._node();this._assert(e.nodeType===i.NodeType.DocumentType),this._whitespace(1);const t=this._name();this._assert(null!==t);const s=this._elementType(t);for(;this._whitespace(0);){const e=this._attributeDefinition();if(!e)break;s.attributes.setNamedItem(e)}this._whitespace(0),this._expect(">")}else if(this._match("NOTATION")){this._assert(this._nodeType()===i.NodeType.DocumentType);const e={systemId:null,publicId:null};this._whitespace(1),e.name=this._entityName();let t=this._whitespace(0);t&&this._match("SYSTEM")&&(this._whitespace(1),e.systemId=this._systemLiteral(),t=this._whitespace(0)),t&&this._match("PUBLIC")&&(this._whitespace(1),e.publicId=this._pubidLiteral(),(this._whitespace(0)&&'"'===this._char||"'"===this._char)&&(e.systemId=this._systemLiteral(),t=this._whitespace(0))),this._assert(e.systemId||e.publicId),this._expect(">")}else this._match("[")?(this._whitespace(0),this._match("INCLUDE")?(this._assert(this._context.length>0),this._whitespace(0),this._expect("["),this._internalSubset("]"),this._expect("]]>")):this._match("IGNORE")&&(this._whitespace(0),this._expect("["),this._ignoreSectContents())):this._unexpected()}break;case"%":this._resolveParameterEntityReference();break;default:if(this._char===e)return;this._whitespace(0)||this._unexpected()}}_ignoreSectContents(){for(;!this._match("]]>");)this._match("<![")?this._ignoreSectContents():this._next()}_push(e){this._stack.push(e)}_pop(){return this._stack.pop()}_node(){return this._stack[this._stack.length-1]}_document(){return this._stack[0]}_nodeType(){return this._node().nodeType}_appendChild(e){return this._node().appendChild(e)}_lookupNamespaceURI(e){return this._node().lookupNamespaceURI(e)}_name(){const e=this._position,t=[],s=this._char.codePointAt(0);if((this._nameStartCharRegExp.test(this._char)||s>=65536&&s<=983039)&&(t.push(this._char),this._next(),void 0!==this._char)){let e=this._char.codePointAt(0);for(;(this._nameCharRegExp.test(this._char)||e>=768&&e<=879||e>=8255&&e<=8256)&&(t.push(this._char),this._next(),void 0!==this._char&&!this._implicitSpace);)e=this._char.codePointAt(0)}return t.length>0?t.join(""):(this._seek(e),null)}_nmtoken(){const e=this._position,t=[],s=this._char.codePointAt(0);for(;(this._nameCharRegExp.test(this._char)||s>=768&&s<=879||s>=8255&&s<=8256)&&(t.push(this._char),this._next(),void 0!==this._char););return t.length>0?t.join(""):(this._seek(e),null)}_entityName(){const e=this._position,t=this._name();return null===t&&this._error("Expected entity name",e),t.endsWith(":")||-1===t.indexOf(":")||this._error("Invalid colon in entity name",e),t}_entityValue(){const e=this._char;this._parameterEntities=!1,this._characterData=!0;const t=this._decoder,s=this._position;for(this._next();this._char!==e;)void 0===this._char&&this._unexpected(),this._next();const i=this._position;this._parameterEntities=!0,this._seek(s),this._next();const n=[];for(;this._position!==i||this._decoder!==t;)void 0===this._char&&this._unexpected(),"%"!==this._char?"&"!==this._char?(n.push(this._char),this._next()):(n.push(this._entityReference()),this._expect(";")):(0===this._context.length&&this._error("Invalid parameter entity reference in internal subset"),this._assert(),this._resolveParameterEntityReference());return this._next(),this._parameterEntities=!0,this._characterData=!1,n.join("")}_elementType(e){const t=this._document().documentType;let s=t.elements.getNamedItem(e);return s||(s={localName:e,characterData:!1,attributes:new i.NamedNodeMap},t.elements.setNamedItem(s)),s}_elementChildren(){let e;const t=new Set;for(;;){const s=this._name();if(s?(this._assert("|"!==e||!t.has(s)),t.add(s),this._match("?")||this._match("*")||this._match("+"),this._whitespace(0)):this._match("(")?(this._elementChildren(),this._whitespace(0)):this._unexpected(),this._match(")"))break;e&&e!==this._char&&this._unexpected(),"|"!==this._char&&","!==this._char&&this._unexpected(),e=this._char,this._next(),this._whitespace(0)}this._match("?")||this._match("*")||this._match("+")}_attributeDefinition(){this._whitespace(0);const e=this._name();if(e){if(this._whitespace(1),this._match("CDATA")||this._match("IDREFS")||this._match("IDREF")||this._match("ID")||this._match("ENTITIES")||this._match("ENTITY")||this._match("NMTOKENS")||this._match("NMTOKEN")||this._enumeratedType())return this._whitespace(1),this._match("#REQUIRED")||this._match("#IMPLIED")||(this._match("#FIXED")&&this._whitespace(1),this._parameterEntities=!1,this._attributeValue(),this._parameterEntities=!0),{localName:e};this._assert(!1)}return null}_enumeratedType(){if(this._match("NOTATION")){this._whitespace(1),this._expect("(");do{this._whitespace(0);const e=this._name();this._assert(e),this._whitespace(0)}while(this._match("|"));return this._expect(")"),!0}if(this._match("(")){do{this._whitespace(0);const e=this._nmtoken();this._assert(e),this._whitespace(0)}while(this._match("|"));return this._expect(")"),!0}return!1}_content(){const e="&"!==this._char?this._char:this._resolveEntityReference();if(void 0===e)return"";const t=e.codePointAt(0);return!this._charRegExp.test(e)&&(t<65536||e>1114111)&&this._unexpected(),this._next(),e}_attributeValue(){const e=this._char;'"'!==e&&"'"!==e&&this._unexpected(),this._characterData=!0;const t=this._decoder,s=this._position;for(this._next();this._char!==e;)void 0!==this._char&&"<"!==this._char||this._unexpected(),this._next();const i=this._position;this._characterData=!1,this._seek(s),this._next();const n=[];for(;this._position!==i||this._decoder!==t;)void 0===this._char&&this._context.length>0?this._popContext():("<"===this._char&&this._unexpected(),n.push(this._content()),n.length>65536&&this._error("Invalid character data buffer size."));return this._characterData=!0,this._next(),n.join("")}_validateNamespace(e){return(!e||!e.startsWith("#")&&-1!==e.indexOf(":"))&&(this._version>0||null!==/^[A-Za-z0-9-._~:/?#[\]@!$&'()*+,;%=]*$/.exec(e))}_pubidLiteral(){const e=this._char;'"'!==e&&"'"!==e&&this._unexpected(),this._next();const t=[];for(;this._char!==e;)/[a-zA-Z0-9-'()+,./:=?;!*#@$_%]/.test(this._char)||" "===this._char||"\r"===this._char||"\n"===this._char?(t.push(this._char),this._next(),void 0===this._char&&this._unexpected()):this._unexpected();return this._next(),t.join("")}_systemLiteral(){const e=this._char;'"'!==e&&"'"!==e&&this._unexpected(),this._next();const t=[];for(;this._char!==e;)t.push(this._char),this._next(),void 0===this._char&&this._unexpected();this._next();const s=t.join("");s.indexOf("#")>=0&&this._unexpected();const i=/(.*\/)[^/]*/.exec(this._base);return(i?i[1]:"")+s}_terminal(e){const t=[];for(;!this._match(e);){void 0===this._char&&this._unexpected();const e=this._char.codePointAt(0);9!==e&&10!==e&&13!==e&&(e<32||e>55295)&&(e<57344||e>65533)&&(e<65536||e>1114111)&&this._unexpected(),t.push(this._char),this._next()}return t.join("")}_resolveParameterEntityReference(){const e=this._position;this._next();const t=this._name();if(this._assert(null!==t),";"===this._char){const s=this._document().documentType.parameterEntities.getNamedItem(t);if(s){const e=!this._entity&&!this._context.some((e=>e.entity));return s.systemId?this._pushResource(s.systemId,t,!1):this._pushString(s.value,t,!1),void(e&&(this._implicitSpace=!0))}this._error("Undefined ENTITY '"+t+"'",e)}this._unexpected()}_resolveEntityReference(){const e=this._position,t=this._entityReference(),s=t.substring(1,t.length-1);if(s.startsWith("#x")){const e=parseInt(s.substring(2),16);return String.fromCodePoint(e)}if(s.startsWith("#")){const e=parseInt(s.substring(1),10);return String.fromCodePoint(e)}if(this._entities.has(s))return this._entities.get(s);{const t=this._document().documentType,i=t?t.entities.getNamedItem(s):null;return void(i?i.systemId?this._pushResource(i.systemId,s,!0):this._pushString(i.value,s,!0):0===this._context.length&&t&&0!==t.parameterEntities.length||this._error("Undefined ENTITY '"+s+"'",e))}}_entityReference(){if("&"===this._char){const e=this._position;if(this._next(),this._match("#x")){const t=[];for(;/[0-9a-fA-F]/.test(this._char);)t.push(this._char),this._next(),void 0===this._char&&this._unexpected();if(this._assert(";"===this._char),t.length>0){const s=t.join(""),i=parseInt(s,16);return this._assert(i<=1114111,"Invalid value '&#x"+s+";'",e),"&#x"+s+";"}}else{if(!this._match("#")){const e=this._name();return this._assert(null!==e),this._assert(";"===this._char),"&"+e+";"}{const t=[];for(;/[0-9]/.test(this._char);)t.push(this._char),this._next(),void 0===this._char&&this._unexpected();if(this._assert(";"===this._char),t.length>0){const s=t.join(""),i=parseInt(s,10);return this._assert(i<=1114111,"Invalid value '&#"+s+";'",e),"&#"+s+";"}}}}this._unexpected()}_comment(){const e=this._terminal("--"),t=this._document().createComment(e);this._appendChild(t),this._expect(">")}_processingInstruction(){this._next();const e=this._entityName();let t="?"!==this._char&&this._whitespace(1);const s=this._position,i=this._terminal("?>");if("xml"===e.toLowerCase()){this._seek(s),this._assert("xml"===e,"'"+e+"' must be lower case"),this._assert(this._start===this._prolog,"Prolog must start with XML declaration",this._start),this._assert("string"!=typeof this._data,"Invalid text declaration",this._start);const i={version:"",encoding:"",standalone:"no"};for(const e of Object.keys(i)){const s="version"==e&&0===this._context.length||"encoding"==e&&this._context.length>0;(t||s)&&(s?this._expect(e):this._match(e))&&(this._whitespace(0),this._expect("="),this._whitespace(0),i[e]=this._attributeValue(),t=this._whitespace(0))}if(this._expect("?>"),i.encoding=i.encoding.toLowerCase(),this._decoder.encoding&&i.encoding!==this._decoder.encoding){const e=this._position;this._decoder=n.Decoder.open(this._data,i.encoding),this._seek(e)}if(i.version.length>0){const e=/^(\d)\.(\d)$/.exec(i.version);this._assert(e&&"1"===e[1],"Invalid XML version '"+i.version+"'");const t=Number.parseInt(e[2],10);t>this._version&&(this._charRegExp=/[\x01-\uD7FF\uE000-\uFFFD]/,this._version=t),this._assert(0===this._context.length||this._context.some((e=>e.version>=this._version)))}this._assert("no"===i.standalone||"yes"===i.standalone&&!this._entity&&0===this._context.length),this._standalone="yes"===i.standalone}const r=this._document().createProcessingInstruction(e,i);this._appendChild(r)}_whitespace(e){const t=this._position;let s=0;for(this._implicitSpace&&(s++,this._implicitSpace=!1);" "===this._char||"\n"===this._char||"\r"===this._char||"\t"===this._char||this._version>0&&""===this._char;)s++,this._next();return s<e&&(this._seek(t),this._unexpected()),s>0}_pushResource(e,t,s){const i=this._callback(e);this._pushBuffer(i,e,t,s)}_pushBuffer(e,t,s,i){const r=n.Decoder.open(e),o="utf-8"===r.encoding?n.Decoder.open(e,"utf-8"):r;this._pushContext(o,e,t,s,i,!1),this._data=e}_pushString(e,t,s){const i=n.Decoder.open(e);this._pushContext(i,e,this._base,t,s)}_pushContext(e,t,s,i,n){this._context.some((e=>e&&e.base===s&&e.entity===i))&&(this._assert(!i,"Recursive entity '"+i+"'"),this._assert(!s,"Recursive base '"+s+"'")),0===s.length&&0===i.length||this._context.push(this._state),this._stop=n,this._entity=i,this._base=s,this._data=t,this._decoder=e,this._prolog=this._decoder.position,this._char="",this._next()}_popContext(){const e=this._entity;this._state=this._context.pop(),e&&(this._expect(";"),this._implicitSpace=!this._context.some((e=>e.entity)))}get _state(){return{base:this._base,data:this._data,decoder:this._decoder,position:this._position,version:this._version,entity:this._entity,prolog:this._prolog,stop:this._stop}}set _state(e){this._stop=e.stop,this._base=e.base,this._data=e.data,this._decoder=e.decoder,this._seek(e.position),this._version=e.version,this._entity=e.entity,this._prolog=e.prolog}_next(){if(void 0===this._char&&this._unexpected(),this._position=this._decoder.position,this._char=this._decoder.decode(),this._implicitSpace=!1,this._parameterEntities&&"%"===this._char&&(this._entity||this._base)&&this._resolveParameterEntityReference(),!this._characterData&&"&"===this._char&&(this._entity||this._base)){const e=this._resolveEntityReference();void 0!==e&&(this._char=e)}(""===this._char||""===this._char||this._version>0&&this._char>=""&&this._char<=""&&""!=this._char)&&this._unexpected(),void 0===this._char&&!this._stop&&this._context.length>0&&this._popContext()}_seek(e){this._decoder.position=e,this._char="",this._next()}_expect(e){return this._match(e)||this._unexpected(),!0}_match(e){if(this._char!==e[0])return!1;if(1===e.length)return this._next(),!0;if(0===this._context.length){const t=this._position;for(let s=0;s<e.length;s++){if(this._char!==e[s])return this._seek(t),!1;this._next()}return!0}const t=Array.from(this._context),s=this._state;for(let i=0;i<e.length;i++){if(this._char!==e[i])return this._context=t,this._state=s,!1;this._next()}return!0}_assert(e,t,s){!1!==e&&null!=e||this._error(t,s)}_error(e,t){if(t&&(this._parameterEntities=!1,this._characterData=!0,this._seek(t)),e)throw new i.Error(e+this._location());this._unexpected()}_unexpected(){let e=this._char;if(void 0===e)throw new i.Error("Unexpected end of XML input.");'"'===e?e="string":e>="0"&&e<="9"||"-"===e?e="number":((e<" "||e>"")&&(e=e.codePointAt(0),e=e<256?"\\x"+("0"+e.toString(16)).slice(-2):e<65536?"\\u"+("000"+e.toString(16)).slice(-4):"\\u"+("00000"+e.toString(16)).slice(-6)),e="token '"+e+"'"),this._error("Unexpected "+e)}_location(){for(;"string"==typeof this._data;)this._popContext();this._parameterEntities=!1,this._characterData=!0;let e,t=1,s=1;this._decoder.position=0;do{if(this._decoder.position===this._position)break;e=this._decoder.decode(),"\n"===e?(t++,s=1):s++}while(void 0!==e);return" at "+(this._base?this._base+":":"")+t.toString()+":"+s.toString()+"."}},i.NodeList=class extends Array{constructor(){super()}item(e){return this[e]||null}},i.Node=class{constructor(e,t){this._ownerDocument=e,this._nodeType=t,this._childNodes=new i.NodeList}get ownerDocument(){return this._ownerDocument}get nodeType(){return this._nodeType}get localName(){throw new i.Error("Not implemented.")}get namespaceURI(){return null}get childNodes(){return this._childNodes}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e}get lastChild(){return this._lastChild||null}set lastChild(e){this._lastChild=e}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e}appendChild(e){this.firstChild=this.firstChild||e,e.previousSibling=this.lastChild,e.previousSibling&&(e.previousSibling.nextSibling=e),this.lastChild=e,this.childNodes[this.childNodes.length]=e,e.parentNode=this}lookupNamespaceURI(e){switch(e){case"xml":return"http://www.w3.org/XML/1998/namespace";case"xmlns":return"http://www.w3.org/2000/xmlns/"}return null}},i.Element=class extends i.Node{constructor(e,t,s){if(super(e,i.NodeType.Element),this._namespaces=new Map,this._attributes=new i.NamedNodeMap,this._namespaceURI=t,null===t)this._prefix=null,this._localName=s;else{const e=i.Utility.split(s);this._prefix=e[0],this._localName=e[1]}}get localName(){return this._localName}get prefix(){return this._prefix}get namespaceURI(){return this._namespaceURI}get attributes(){return this._attributes}get textContent(){return this.childNodes.map((e=>e.nodeType===i.NodeType.ProcessingInstruction||e.nodeType===i.NodeType.Comment?"":e.textContent)).join("")}getElementsByTagName(e){const t=new i.NodeList;let s=this.firstChild;for(;s;)s.nodeType!==i.NodeType.Element||"*"!==e&&e!==(s.prefix?s.prefix+":"+s.localName:s.localName)||t.push(s),s=s.nextSibling;return t}getAttribute(e){const t=this.getAttributeNode(e);return t&&t.value||""}getAttributeNode(e){return this.attributes.getNamedItem(e)}setAttributeNode(e){const t=this.attributes.setNamedItem(e);if("http://www.w3.org/2000/xmlns/"===e.namespaceURI){const t=e.prefix?e.localName:"";this._namespaces.set(t,e.value)}return t}lookupNamespaceURI(e){return this._namespaces.has(e)?this._namespaces.get(e):this.parentNode?this.parentNode.lookupNamespaceURI(e):super.lookupNamespaceURI(e)}},i.Attribute=class extends i.Node{constructor(e,t,s){if(super(e,i.NodeType.Attribute),this._namespaceURI=t,null===t)this._prefix=null,this._localName=s;else{const e=i.Utility.split(s);this._prefix=e[0],this._localName=e[1]}}get ownerElement(){return this._ownerElement}set ownerElement(e){this._ownerElement=e}get localName(){return this._localName}get prefix(){return this._prefix}get namespaceURI(){return this._namespaceURI}get value(){return this._value}set value(e){this._value=e}},i.CharacterData=class extends i.Node{constructor(e,t,s){super(e,t),this._data=s}get data(){return this._data}get textContent(){return this._data}},i.Text=class extends i.CharacterData{constructor(e,t){super(e,i.NodeType.Text,t)}get localName(){return"#text"}},i.CDataSection=class extends i.CharacterData{constructor(e,t){super(e,i.NodeType.CDATA,t)}},i.Entity=class extends i.Node{constructor(e,t){super(e,i.NodeType.Entity),this._name=t,this._publicId="",this._systemId="",this._notationName="",this._value=""}get localName(){return this._name}get publicId(){return this._publicId}set publicId(e){this._publicId=e}get systemId(){return this._systemId}set systemId(e){this._systemId=e}get notationName(){return this._notationName}set notationName(e){this._notationName=e}set value(e){this._value=e}get value(){return this._value}},i.ProcessingInstruction=class extends i.Node{constructor(e,t,s){super(e,i.NodeType.ProcessingInstruction),this._target=t,this._data=s}get localName(){return this._target}get target(){return this._target}get data(){return this._data}},i.Comment=class extends i.CharacterData{constructor(e,t){super(e,i.NodeType.Comment,t)}get localName(){return"#comment"}},i.Document=class extends i.Node{constructor(){super(null,i.NodeType.Document),this._documentElement=null,this._documentType=null}get documentElement(){return this._documentElement}get documentType(){return this._documentType}appendChild(e){super.appendChild(e),e.nodeType===i.NodeType.Element&&(this._documentElement=e),e.nodeType===i.NodeType.DocumentType&&(this._documentType=e)}createElement(e){return new i.Element(this,null,e)}createElementNS(e,t){return new i.Element(this,e,t)}createAttribute(e){return new i.Attribute(this,null,e)}createAttributeNS(e,t){return new i.Attribute(this,e,t)}createTextNode(e){return new i.Text(this,e)}createCDATASection(e){return new i.CDataSection(this,e)}createProcessingInstruction(e,t){return new i.ProcessingInstruction(this,e,t)}createComment(e){return new i.Comment(this,e)}createDocumentType(e,t,s){return new i.DocumentType(this,e,t,s)}},i.DocumentType=class extends i.Node{constructor(e,t,s,n){super(e,i.NodeType.DocumentType),this._name=t,this._publicId=s,this._systemId=n,this._entities=new i.NamedNodeMap}get name(){return this._name}get publicId(){return this._publicId}get systemId(){return this._systemId}get entities(){return this._entities}appendChild(e){e.nodeType===i.NodeType.Entity&&this._entities.setNamedItem(e)}createEntity(e){return new i.Entity(this.ownerDocument,e)}},i.NamedNodeMap=class extends Array{getNamedItem(e){for(let t=this.length-1;t>=0;t--){const s=this[t];if(e==(s.prefix?s.prefix+":"+s.localName:s.localName))return s}return null}getNamedItemNS(e,t){for(let s=this.length-1;s>=0;s--){const i=this[s];if(t===i.localName&&e==i.namespaceURI)return i}return null}setNamedItem(e){const t=e.prefix?e.prefix+":"+e.localName:e.localName;for(let e=this.length-1;e>=0;e--){const s=this[e];if(t==(s.prefix?s.prefix+":"+s.localName:s.localName)){const t=this[e];return this[e]=s,t}}return this.push(e),null}},i.NodeType={None:0,Element:1,Attribute:2,Text:3,CDATA:4,EntityReference:5,Entity:6,ProcessingInstruction:7,Comment:8,Document:9,DocumentType:10,DocumentFragment:11,Notation:12},i.Utility=class{static split(e){const t=e.indexOf(":");if(t<0||t===e.length-1)return[null,e];const s=e.substring(t+1),n=s.codePointAt(0);return-1!==s.indexOf(":")||!i.Utility.nameStartCharRegExp.test(String.fromCodePoint(n))&&(n<65536||n>983039)?[null,e]:[e.substring(0,t),s]}},i.Error=class extends Error{constructor(e){super(e),this.name="XML Error"}},"object"==typeof e.exports&&(e.exports.TextReader=i.TextReader)},224:(e,t,s)=>{var i=i||{},n=n||{};i.Archive=class{static open(e){const t=e instanceof Uint8Array?new i.BinaryReader(e):e;if(t.length>2){const e=t.peek(2);if(120===e[0]&&((e[0]<<8)+e[1])%31==0)return new n.Archive(t);const s=80===e[0]&&75===e[1],r=t.position,o=e=>{let i=t.length;do{i=Math.max(0,i-66e3),t.seek(i);const s=Math.min(t.length-i,66004),n=t.read(s);for(let s=n.length-4;s>=0;s--)if(e[0]===n[s]&&e[1]===n[s+1]&&e[2]===n[s+2]&&e[3]===n[s+3])return t.seek(i+s+4),!0}while(i>0&&s);return!1};if(!o([80,75,5,6])){if(t.seek(r),!s)return null;throw new i.Error("End of Zip central directory not found.")}const a=new i.BinaryReader(t.read(16));a.skip(12);let h=a.uint32();if(h>t.length){if(!o([80,75,6,6]))throw t.seek(r),new i.Error("End of Zip64 central directory not found.");const e=new i.BinaryReader(t.read(52));if(e.skip(44),h=e.uint32(),0!==e.uint32())throw t.seek(r),new i.Error("Zip 64-bit central directory offset not supported.")}if(h>t.length)throw t.seek(r),new i.Error("Invalid Zip central directory offset.");t.seek(h);const c=new i.Archive(t);return t.seek(r),c}return null}constructor(e){this._entries=new Map;const t=[],s=[80,75,1,2];for(;e.position+4<e.length&&e.read(4).every(((e,t)=>e===s[t]));){const s={},n=new i.BinaryReader(e.read(42));n.uint16(),n.skip(2);const r=n.uint16();if(1==(1&r))throw new i.Error("Encrypted Zip entries not supported.");s.encoding=2048&r?"utf-8":"ascii",s.compressionMethod=n.uint16(),n.uint32(),n.uint32(),s.compressedSize=n.uint32(),s.size=n.uint32(),s.nameLength=n.uint16();const o=n.uint16(),a=n.uint16();s.disk=n.uint16(),n.uint16(),n.uint32(),s.localHeaderOffset=n.uint32();const h=e.read(s.nameLength),c=new TextDecoder(s.encoding);s.name=c.decode(h);const l=e.read(o);if(l.length>0){const e=new i.BinaryReader(l);for(;e.position<e.length;){const t=e.uint16(),n=e.uint16();if(1===t){if(4294967295===s.size&&(s.size=e.uint32(),0!==e.uint32()))throw new i.Error("Zip 64-bit offset not supported.");if(4294967295===s.compressedSize&&(s.compressedSize=e.uint32(),0!==e.uint32()))throw new i.Error("Zip 64-bit offset not supported.");if(4294967295===s.localHeaderOffset&&(s.localHeaderOffset=e.uint32(),0!==e.uint32()))throw new i.Error("Zip 64-bit offset not supported.");65535===s.disk&&(s.disk=e.uint32())}else e.skip(n)}}e.read(a),t.push(s)}for(const s of t){if(0===s.size&&s.name.endsWith("/"))continue;const t=new i.Entry(e,s);this._entries.set(t.name,t.stream)}}get entries(){return this._entries}},i.Entry=class{constructor(e,t){e.seek(t.localHeaderOffset);const s=[80,75,3,4];if(e.position+4>e.length||!e.read(4).every(((e,t)=>e===s[t])))throw new i.Error("Invalid Zip local file header signature.");const n=new i.BinaryReader(e.read(26));n.skip(22),t.nameLength=n.uint16();const r=n.uint16();t.nameBuffer=e.read(t.nameLength),e.skip(r);const o=new TextDecoder(t.encoding);switch(this._name=o.decode(t.nameBuffer),this._stream=e.stream(t.compressedSize),t.compressionMethod){case 0:if(t.size!==t.compressedSize)throw new i.Error("Invalid compression size.");break;case 8:this._stream=new i.InflaterStream(this._stream,t.size);break;default:throw new i.Error("Invalid compression method.")}}get name(){return this._name}get stream(){return this._stream}},i.Inflater=class{inflateRaw(e,t){let n=null;if("object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node)n=s(937).inflateRawSync(e);else{const s=new i.BitReader(e),r=void 0===t?new i.BlockWriter:new i.BufferWriter(t);let o;i.Inflater._staticLengthTree||(i.Inflater._codeLengths=new Uint8Array(19),i.Inflater._codeOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.Inflater._lengthBase=[24,32,40,48,56,64,72,80,89,105,121,137,154,186,218,250,283,347,411,475,540,668,796,924,1053,1309,1565,1821,2064,7992,7992,7992],i.Inflater._distanceBase=[16,32,48,64,81,113,146,210,275,403,532,788,1045,1557,2070,3094,4119,6167,8216,12312,16409,24601,32794,49178,65563,98331,131100,196636,262173,393245,1048560,1048560]);do{switch(o=s.bits(3),o>>>1){case 0:this._copyUncompressedBlock(s,r);break;case 1:i.Inflater._staticLengthTree||(i.Inflater._staticLengthTree=i.HuffmanTree.create(new Uint8Array([].concat.apply([],[[144,8],[112,9],[24,7],[8,8]].map((e=>[...Array(e[0])].map((()=>e[1]))))))),i.Inflater._staticDistanceTree=i.HuffmanTree.create(new Uint8Array([...Array(32)].map((()=>5))))),this._lengthTree=i.Inflater._staticLengthTree,this._distanceTree=i.Inflater._staticDistanceTree,this._inflateBlock(s,r);break;case 2:this._decodeTrees(s),this._inflateBlock(s,r);break;default:throw new i.Error("Unknown block type.")}}while(0==(1&o));if(void 0!==t&&t!==r.length)throw new i.Error("Invalid uncompressed size.");n=r.toBuffer()}if(void 0!==t&&t!==n.length)throw new i.Error("Invalid uncompressed size.");return n}_copyUncompressedBlock(e,t){const s=e.uint16();if(s!==(65535&~e.uint16()))throw new i.Error("Invalid uncompressed block length.");t.write(e.read(s))}_decodeTrees(e){const t=e.bits(5)+257,s=e.bits(5)+1,n=e.bits(4)+4,r=i.Inflater._codeLengths;for(let e=0;e<r.length;e++)r[e]=0;const o=i.Inflater._codeOrder;for(let t=0;t<n;t++)r[o[t]]=e.bits(3);const a=i.HuffmanTree.create(r),h=a.length-1,c=new Uint8Array(t+s);let l=0,p=0;for(let i=0;i<t+s;){const t=a[e.bits16()&h];e.position+=15&t;const s=t>>>4;switch(s){case 16:p=e.bits(2)+3;break;case 17:p=e.bits(3)+3,l=0;break;case 18:p=e.bits(7)+11,l=0;break;default:p=1,l=s}for(;p>0;p--)c[i++]=l}this._lengthTree=i.HuffmanTree.create(c.subarray(0,t)),this._distanceTree=i.HuffmanTree.create(c.subarray(t,t+s))}_inflateBlock(e,t){const s=this._lengthTree,n=this._distanceTree,r=s.length-1,o=n.length-1,a=t.buffer,h=void 0!==t.threshold?t.threshold:t.length;let c=t.position;for(;;){c>h&&(c=t.push(c));const l=s[e.bits16()&r];e.position+=15&l;const p=l>>>4;if(p<256)a[c++]=p;else{if(256===p)return void t.push(c);{let t=p-254;if(p>264){const s=i.Inflater._lengthBase[p-257];t=(s>>>3)+e.bits(7&s)}const s=n[e.bits16()&o];e.position+=15&s;const r=i.Inflater._distanceBase[s>>>4],h=15&r,l=(r>>>4)+(e.bits16()&(1<<h)-1);e.position+=h;let d=c-l;for(let e=0;e<t;e++)a[c++]=a[d++]}}}}},i.HuffmanTree=class{static create(e){let t=e[0];for(let s=1;s<e.length;++s)e[s]>t&&(t=e[s]);let s=i.HuffmanTree._rev15;if(!s){const e=32768;s=new Uint16Array(e);for(let t=0;t<e;t++){let e=t;e=(2863311530&e)>>>1|(1431655765&e)<<1,e=(3435973836&e)>>>2|(858993459&e)<<2,e=(4042322160&e)>>>4|(252645135&e)<<4,e=(4278255360&e)>>>8|(16711935&e)<<8,s[t]=(e>>>16|e<<16)>>>17}i.HuffmanTree._rev15=s,i.HuffmanTree._bitLengthCounts=new Uint16Array(16),i.HuffmanTree._nextCodes=new Uint16Array(16)}const n=e.length,r=i.HuffmanTree._bitLengthCounts;for(let e=0;e<16;e++)r[e]=0;for(let t=0;t<n;t++)r[e[t]]++;const o=i.HuffmanTree._nextCodes;let a=0;r[0]=0;for(let e=0;e<t;e++)a=a+r[e]<<1,o[e+1]=a;const h=new Uint16Array(n);for(let t=0;t<n;t++){const s=e[t];0!==s&&(h[t]=o[s],o[s]++)}const c=15-t,l=new Uint16Array(1<<t);for(let i=0;i<n;i++){const n=e[i];if(0!==n){const e=i<<4|n,r=t-n;let o=h[i]<<r;const a=o+(1<<r);for(;o!=a;o++)l[s[o]>>>c]=e}}return l}},i.BitReader=class{constructor(e){this.buffer=e,this.position=0}bits(e){const t=this.position/8>>0,s=7&this.position;return this.position+=e,(this.buffer[t]|this.buffer[t+1]<<8)>>>s&(1<<e)-1}bits16(){const e=this.position/8>>0;return(this.buffer[e]|this.buffer[e+1]<<8|this.buffer[e+2]<<16)>>>(7&this.position)}read(e){this.position=this.position+7&-8;const t=this.position/8>>0;return this.position+=8*e,this.buffer.subarray(t,t+e)}uint16(){this.position=this.position+7&-8;const e=this.position/8>>0;return this.position+=16,this.buffer[e]|this.buffer[e+1]<<8}},i.BlockWriter=class{constructor(){this.blocks=[],this.buffer=new Uint8Array(65536),this.position=0,this.length=0,this.threshold=62464}push(e){return this.blocks.push(new Uint8Array(this.buffer.subarray(this.position,e))),this.length+=e-this.position,this.position=e,this._reset()}write(e){this.blocks.push(e);const t=e.length;this.length+=t,t>32768?(this.buffer.set(e.subarray(t-32768,t),0),this.position=32768):(this._reset(),this.buffer.set(e,this.position),this.position+=t)}toBuffer(){const e=new Uint8Array(this.length);let t=0;for(const s of this.blocks)e.set(s,t),t+=s.length;return e}_reset(){return this.position>32768&&(this.buffer.set(this.buffer.subarray(this.position-32768,this.position),0),this.position=32768),this.position}},i.BufferWriter=class{constructor(e){this.buffer=new Uint8Array(e),this.length=e,this.position=0}push(e){if(this.position=e,this.position>this.length)throw new i.Error("Invalid size.");return this.position}write(e){if(this.buffer.set(e,this.position),this.position+=e.length,this.position>this.length)throw new i.Error("Invalid size.");return this.position}toBuffer(){return this.buffer}},i.InflaterStream=class{constructor(e,t){this._stream=e,this._offset=this._stream.position,this._position=0,this._length=t}get position(){return this._position}get length(){return void 0===this._length&&this._inflate(),this._length}seek(e){void 0===this._buffer&&this._inflate(),this._position=e>=0?e:this._length+e}skip(e){void 0===this._buffer&&this._inflate(),this._position+=e}peek(e){const t=this._position;e=void 0!==e?e:this._length-t,this.skip(e);const s=this._position;return this.seek(t),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,s)}read(e){const t=this._position;return e=void 0!==e?e:this._length-t,this.skip(e),0===t&&e===this._length?this._buffer:this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._buffer[e]}_inflate(){if(void 0===this._buffer){const e=this._stream.position;this._stream.seek(this._offset);const t=this._stream.peek();this._buffer=(new i.Inflater).inflateRaw(t,this._length),this._length=this._buffer.length,this._stream.seek(e),delete this._stream}}},i.BinaryReader=class{constructor(e){this._buffer=e,this._length=e.length,this._position=0,this._view=new DataView(e.buffer,e.byteOffset,e.byteLength)}get position(){return this._position}get length(){return this._length}create(e){return new i.BinaryReader(e)}stream(e){return this.create(this.read(e))}seek(e){this._position=e>=0?e:this._length+e}skip(e){this._position+=e}peek(e){if(0===this._position&&void 0===e)return this._buffer;const t=this._position;this.skip(void 0!==e?e:this._length-this._position);const s=this._position;return this.seek(t),this._buffer.subarray(t,s)}read(e){if(0===this._position&&void 0===e)return this._position=this._length,this._buffer;const t=this._position;return this.skip(void 0!==e?e:this._length-this._position),this._buffer.subarray(t,this._position)}byte(){const e=this._position;return this.skip(1),this._buffer[e]}uint16(){const e=this._position;return this.skip(2),this._view.getUint16(e,!0)}uint32(){const e=this._position;return this.skip(4),this._view.getUint32(e,!0)}},n.Archive=class{constructor(e){const t=e.position;e.read(2);const s=new n.Entry(e);this._entries=new Map([[s.name,s.stream]]),e.seek(t)}get entries(){return this._entries}},n.Entry=class{constructor(e){this._stream=new i.InflaterStream(e)}get name(){return""}get stream(){return this._stream}},i.Error=class extends Error{constructor(e){super(e),this.name="Zip Error",this.stack=void 0}},"object"==typeof e.exports&&(e.exports.Archive=i.Archive,e.exports.Inflater=i.Inflater)},937:()=>{}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";s.r(i);var e=s(135),t=s.n(e),n=s(243),r=s.n(n),o=s(152),a=s.n(o),h=s(426),c=s.n(h),l=s(383),p=s.n(l),d=s(66),_=s.n(d),u=s(506),f=s.n(u),g=s(224),m=s.n(g),b=s(187),y=s.n(b),w=s(182),x=s.n(w),v=s(701),k=s.n(v),E=s(555),T=s.n(E),N=s(617),I=s.n(N),A=s(820),S=s.n(A),C=s(240),z=s.n(C);const R="Model Support Detail";function L(){const e=window.__view__._host,t=()=>{window.removeEventListener("keydown",t),e._document.querySelector("#visual-panel").removeEventListener("click",t),window.__view__.show("default")};window.addEventListener("keydown",t),e._document.querySelector("#visual-panel").addEventListener("click",t),window.__view__.show("checking default")}window.dagre=t(),window.base=r(),window.text=a(),window.json=c(),window.python=p(),window.protobuf=_(),window.flatbuffers=f(),window.zip=m(),window.gzip=y(),window.tar=x(),window.grapher=k(),window.sidebar=T(),window.numpy=I(),window.view=S(),window.host=z(),z().BrowserHost.prototype.request=(e,t,s)=>{if("utf-8"===t&&e.endsWith(".json")){const t=e.split(".").shift(),s=JSON.stringify(window[t]);return console.log(`[request meta]: ${t}`),new Promise(((e,t)=>{e(s)}))}},z().BrowserHost.prototype.require=e=>{const t=e.split("./").pop();console.log(`[require factory]: ${t}`);const s=window[t];return new Promise(((e,t)=>{e(s)}))},z().BrowserHost.prototype._open=function(e,t){this._view.show("welcome spinner");const s=new(z().BrowserHost.BrowserFileContext)(this,e,t);s.open().then((()=>this._view.open(s).then((e=>(this._view.show(null),this.document.title=t[0].name,function(e){const t=window.__view__._host,s=paddlejs&&paddlejs.webglBackend&&paddlejs.webglBackend.ops||[],i=t._menu._items,{graphs:n=[]}=e,r=t._document.querySelector(".model-check .support-summary");if(1!==n.length)r.innerText="Failed to get model graph~!";else{const e=n[0].nodes,i=Array.from(new Set(e.filter((e=>{const t=e.type&&e.type.name;return t&&!s[t]&&"feed"!==t&&"fetch"!==t})).map((e=>e.type.name)))),o=i.length>0?i.reduce(((e,t)=>e+`<span>${t}</span>`),"unsupported ops: "):"Ops are all supported";r.innerHTML=o,t._document.querySelector(".model-check .ops-list").innerHTML=Array.from(new Set(e.map((e=>e.type&&e.type.name)))).reduce(((e,t)=>e+`<span>${t}</span>`),"model ops: "),t._document.querySelector(".model-check .layers-num").innerHTML=`model layer num is ${e.length}`,t._document.querySelector(".model-check .max-texture-size").innerText=`webgl max texture size is ${function(){var e=window.__view__._host._document.createElement("canvas").getContext("webgl2");if(e)return e.getParameter(e.MAX_TEXTURE_SIZE)}()}`}i.find((e=>e.label===R))||i.push({label:R,click:L})}(e),e))))).catch((e=>{this._view.error(e,null,null)}))},z().BrowserHost.prototype.openURL=function(e){this.window.open(e)},S().ModelFactoryService.prototype._filter=e=>{const t=window.__view__._modelFactoryService,s=e.identifier.toLowerCase().split("/").pop();t._extensions=t._extensions.filter((e=>"./paddle"===e.id));const i=t._extensions.filter((e=>"string"==typeof e.extension&&s.endsWith(e.extension)||e.extension instanceof RegExp&&e.extension.exec(s)));return Array.from(new Set(i.map((e=>e.id))))},S().View.prototype.show=function(e){switch(e||(e=this._model||this.activeGraph?"default":"welcome"),this._host.screen(e),this._sidebar&&this._sidebar.close(),(this._host.document.querySelector("#visual-panel")||this._host.document.querySelector("#visual-panel")).setAttribute("class",e),e){case"default":{const e=this._getElementById("graph");e&&e.focus();break}case"welcome":{const e=this._getElementById("open-file-button");e&&e.focus();break}}this._page=e}})(),i})()}));
}).call(this)}).call(this,require('_process'))
},{"_process":1}],3:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.modelFactory=e():t.modelFactory=e()}(this,(function(){return(()=>{var t={238:(t,e,r)=>{"use strict";r.r(e);var o=r(196),s=r.n(o);r(99),r(202);const i=JSON.parse('[{"name":"batch_norm","category":"Normalization","attributes":[{"name":"momentum","default":0.8999999761581421},{"name":"epsilon","default":0.000009999999747378752},{"name":"fuse_with_relu","default":false},{"name":"data_layout","default":"NCHW"}]},{"name":"concat","category":"Tensor"},{"name":"conv2d","category":"Layer","attributes":[{"name":"workspace_size_MB","default":4096},{"name":"fuse_residual_connection","default":false},{"name":"fuse_eltwise","default":false},{"name":"fuse_relu","default":false},{"name":"data_format","default":"AnyLayout"},{"name":"groups","default":1},{"name":"paddings","default":[0,0]},{"name":"dilations","default":[1,1]},{"name":"strides","default":[1,1]}]},{"name":"conv2d_transpose","category":"Layer"},{"name":"depthwise_conv2d","category":"Layer","attributes":[{"name":"workspace_size_MB","default":4096},{"name":"fuse_residual_connection","default":false},{"name":"data_format","default":"AnyLayout"},{"name":"groups","default":1},{"name":"fuse_relu","default":false}]},{"name":"elementwise_add","attributes":[{"name":"axis","default":-1}]},{"name":"lrn","category":"Normalization","attributes":[{"name":"alpha","default":0.00009999999747378752},{"name":"beta","default":0.75},{"name":"k","default":1}]},{"name":"pad2d","category":"Tensor"},{"name":"pool2d","category":"Pool","attributes":[{"name":"data_format","default":"AnyLayout"},{"name":"ceil_mode","default":false},{"name":"global_pooling","default":false},{"name":"exclusive","default":true},{"name":"pooling_type","default":"max"},{"name":"paddings","default":[0,0]}]},{"name":"hard_swish","category":"Activation"},{"name":"hard_sigmoid","category":"Activation"},{"name":"relu","category":"Activation"},{"name":"sigmoid","category":"Activation"},{"name":"reshape","category":"Shape"},{"name":"reshape2","category":"Shape"},{"name":"scale","category":"Layer"},{"name":"rnn","category":"Layer"},{"name":"transpose","category":"Transform"},{"name":"transpose2","category":"Transform"},{"name":"softmax","category":"Activation","attributes":[{"name":"data_format","default":"AnyLayout"}]}]');function a(t){const e=Array.isArray(t)?"arrayType":Number.isInteger(t)?"intType":typeof t;let r="";switch(e){case"arrayType":const o=t[0];Number.isInteger(o)?r="ints":"number"==typeof o?r="floats":"string"==typeof o?r="strings":"boolean"==typeof o&&(r="booleans");break;case"intType":r="int";break;default:r=e}return r}s().ModelFactory.prototype.createJsProgram=function(t,e,r){const o={format:"PaddlePaddle"};t.vars=Object.values(t.vars),t.idx=0;const s=new Set;for(const r of t.vars){r.persistable&&s.add(r.name);const t=r.shape.map((t=>e(t,t>=0?0:-1)));r.type={type:7,lod_tensor:{lod_level:0,tensor:{data_type:5,dims:t}}},r.attrs=[]}for(const e of t.ops){"feed"!==e.type&&"fetch"!==e.type||(e.attrs.col=0);const t=[];Object.keys(e.inputs).forEach((r=>{t.push({parameter:r,arguments:e.inputs[r]})})),e.inputs=t;const o=[];Object.keys(e.outputs).forEach((t=>{o.push({parameter:t,arguments:e.outputs[t]})})),e.outputs=o;const s=[];Object.keys(e.attrs).forEach((t=>{const o=e.attrs[t],i=a(o),n=r[i];n&&s.push({type:n.code,name:t,[n.value]:o})})),e.attrs=s}return o.desc={blocks:[t]},o.vars=Array.from(s).sort(),o},window.paddle=s(),window["paddle-metadata"]=i},243:t=>{var e=e||{};if(e.Int64=class t{constructor(t,e){this.low=0|t,this.high=0|e}static create(t){return isNaN(t)?e.Int64.zero:t<=-0x8000000000000000?e.Int64.min:t+1>=0x8000000000000000?e.Int64.max:t<0?e.Int64.create(-t).negate():new e.Int64(t%4294967296|0,t/4294967296)}get isZero(){return 0===this.low&&0===this.high}get isNegative(){return this.high<0}negate(){return this.equals(e.Int64.min)?e.Int64.min:this.not().add(e.Int64.one)}not(){return new t(~this.low,~this.high)}equals(t){return(t instanceof e.Int64||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low}compare(t){if(this.equals(t))return 0;const e=this.isNegative,r=t.isNegative;return e&&!r?-1:!e&&r?1:this.subtract(t).isNegative?-1:1}add(t){return e.Utility.add(this,t,!1)}subtract(t){return e.Utility.subtract(this,t,!1)}multiply(t){return e.Utility.multiply(this,t,!1)}divide(t){return e.Utility.divide(this,t,!1)}toInteger(){return this.low}toNumber(){return 0===this.high?this.low>>>0:-1===this.high?this.low:4294967296*this.high+(this.low>>>0)}toString(r){if((r=r||10)<2||r>16)throw RangeError("radix");if(this.isZero)return"0";if(this.high<0){if(this.equals(e.Int64.min)){const e=new t(r,0),o=this.divide(e),s=o.multiply(e).subtract(this);return o.toString(r)+(s.low>>>0).toString(r)}return"-"+this.negate().toString(r)}return e.Utility.text(this,!1,r)}},e.Int64.min=new e.Int64(0,-2147483648),e.Int64.zero=new e.Int64(0,0),e.Int64.one=new e.Int64(1,0),e.Int64.power24=new e.Int64(1<<24,0),e.Int64.max=new e.Int64(0,2147483647),e.Uint64=class{constructor(t,e){this.low=0|t,this.high=0|e}static create(t){return isNaN(t)||t<0?e.Uint64.zero:t>=0x10000000000000000?e.Uint64.max:t<0?e.Uint64.create(-t).negate():new e.Uint64(t%4294967296|0,t/4294967296)}get isZero(){return 0===this.low&&0===this.high}get isNegative(){return!1}negate(){return this.not().add(e.Int64.one)}not(){return new e.Uint64(~this.low,~this.high)}equals(t){return(t instanceof e.Uint64||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low}compare(t){if(this.equals(t))return 0;const e=this.isNegative,r=t.isNegative;return e&&!r?-1:!e&&r?1:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}add(t){return e.Utility.add(this,t,!0)}subtract(t){return e.Utility.subtract(this,t,!0)}multiply(t){return e.Utility.multiply(this,t,!0)}divide(t){return e.Utility.divide(this,t,!0)}toInteger(){return this.low>>>0}toNumber(){return 0===this.high?this.low>>>0:4294967296*(this.high>>>0)+(this.low>>>0)}toString(t){if((t=t||10)<2||36<t)throw RangeError("radix");return this.isZero?"0":e.Utility.text(this,!0,t)}},e.Utility=class{static add(t,r,o){const s=t.high>>>16,i=65535&t.high,a=t.low>>>16,n=65535&t.low,p=r.high>>>16,d=65535&r.high,c=r.low>>>16;let l=0,h=0,f=0,u=0;return u+=n+(65535&r.low),f+=u>>>16,u&=65535,f+=a+c,h+=f>>>16,f&=65535,h+=i+d,l+=h>>>16,h&=65535,l+=s+p,l&=65535,e.Utility._create(f<<16|u,l<<16|h,o)}static subtract(t,r,o){return e.Utility.add(t,r.negate(),o)}static multiply(t,r,o){if(t.isZero)return e.Int64.zero;if(r.isZero)return e.Int64.zero;if(t.equals(e.Int64.min))return r.isOdd()?e.Int64.min:e.Int64.zero;if(r.equals(e.Int64.min))return r.isOdd()?e.Int64.min:e.Int64.zero;if(t.isNegative)return r.isNegative?this.negate().multiply(r.negate()):this.negate().multiply(r).negate();if(r.isNegative)return this.multiply(r.negate()).negate();if(t.compare(e.Int64.power24)<0&&r.compare(e.Int64.power24)<0)return o?e.Uint64.create(t.toNumber()*r.toNumber()):e.Int64.create(t.toNumber()*r.toNumber());const s=t.high>>>16,i=65535&t.high,a=t.low>>>16,n=65535&t.low,p=r.high>>>16,d=65535&r.high,c=r.low>>>16,l=65535&r.low;let h=0,f=0,u=0,_=0;return _+=n*l,u+=_>>>16,_&=65535,u+=a*l,f+=u>>>16,u&=65535,u+=n*c,f+=u>>>16,u&=65535,f+=i*l,h+=f>>>16,f&=65535,f+=a*c,h+=f>>>16,f&=65535,f+=n*d,h+=f>>>16,f&=65535,h+=s*l+i*c+a*d+n*p,h&=65535,e.Utility._create(u<<16|_,h<<16|f,o)}static divide(t,r,o){if(r.isZero)throw Error("Division by zero.");if(t.isZero)return o?e.Uint64.zero:e.Int64.zero;let s,i,a;if(o){if(r instanceof e.Uint64||(r=new e.Uint64(r.low,r.high)),r.compare(t)>0)return e.Int64.zero;if(r.compare(e.Utility._shiftRight(t,o,1))>0)return e.Uint64.one;a=e.Uint64.zero}else{if(t.equals(e.Int64.min)){if(r.equals(e.Int64.one)||r.equals(e.Int64.negativeOne))return e.Int64.min;if(r.equals(e.Int64.min))return e.Int64.one;{const n=e.Utility._shiftRight(t,o,1).divide(r);return s=e.Utility._shiftLeft(n,n instanceof e.Uint64,1),s.eq(e.Int64.zero)?r.isNegative?e.Int64.one:e.Int64.negativeOne:(i=t.subtract(r.multiply(s)),a=s.add(i.divide(r)),a)}}if(r.equals(e.Int64.min))return o?e.Uint64.zero:e.Int64.zero;if(t.isNegative)return r.isNegative?this.negate().divide(r.negate()):t.negate().divide(r).negate();if(r.isNegative)return t.divide(r.negate()).negate();a=e.Int64.zero}for(i=t;i.compare(r)>=0;){let t=Math.max(1,Math.floor(i.toNumber()/r.toNumber()));const s=Math.ceil(Math.log(t)/Math.LN2),n=s<=48?1:Math.pow(2,s-48);let p=e.Int64.create(t),d=p.multiply(r);for(;d.isNegative||d.compare(i)>0;)t-=n,p=o?e.Uint64.create(t):e.Int64.create(t),d=p.multiply(r);p.isZero&&(p=e.Int64.one),a=a.add(p),i=i.subtract(d)}return a}static text(t,r,o){const s=r?e.Uint64.create(Math.pow(o,6)):e.Int64.create(Math.pow(o,6));let i=t,a="";for(;;){const t=i.divide(s);let e=(i.subtract(t.multiply(s)).toInteger()>>>0).toString(o);if(i=t,0===i.low&&0===i.high)return e+a;for(;e.length<6;)e="0"+e;a=""+e+a}}static _shiftLeft(t,r,o){return e.Utility._create(t.low<<o,t.high<<o|t.low>>>32-o,r)}static _shiftRight(t,r,o){return e.Utility._create(t.low>>>o|t.high<<32-o,t.high>>o,r)}static _create(t,r,o){return o?new e.Uint64(t,r):new e.Int64(t,r)}},e.Uint64.zero=new e.Uint64(0,0),e.Uint64.one=new e.Uint64(1,0),e.Uint64.max=new e.Uint64(-1,-1),DataView.prototype.getFloat16||(DataView.prototype.getFloat16=function(t,e){const r=this.getUint16(t,e),o=(31744&r)>>10;let s=1023&r;return s=0==o?s/1024*6103515625e-14:31==o?s?NaN:1/0:DataView.__float16_pow[o]*(1+s/1024),32768&r?-s:s},DataView.__float16_pow={1:1/16384,2:1/8192,3:1/4096,4:1/2048,5:1/1024,6:1/512,7:1/256,8:1/128,9:1/64,10:1/32,11:1/16,12:1/8,13:1/4,14:.5,15:1,16:2,17:4,18:8,19:16,20:32,21:64,22:128,23:256,24:512,25:1024,26:2048,27:4096,28:8192,29:16384,30:32768,31:65536}),!DataView.prototype.setFloat16){DataView.prototype.setFloat16=function(t,e,r){DataView.__float16_float[0]=e;const o=(e=DataView.__float16_int[0])>>>23&255,s=8388607&e,i=e>>>16&32768|DataView.__float16_base[o]|s>>DataView.__float16_shift[o];this.setUint16(t,i,r)},DataView.__float16_float=new Float32Array(1),DataView.__float16_int=new Uint32Array(DataView.__float16_float.buffer,0,DataView.__float16_float.length),DataView.__float16_base=new Uint32Array(256),DataView.__float16_shift=new Uint32Array(256);for(let t=0;t<256;++t){const e=t-127;e<-27?(DataView.__float16_base[t]=0,DataView.__float16_shift[t]=24):e<-14?(DataView.__float16_base[t]=1024>>-e-14,DataView.__float16_shift[t]=-e-1):e<=15?(DataView.__float16_base[t]=e+15<<10,DataView.__float16_shift[t]=13):e<128?(DataView.__float16_base[t]=31744,DataView.__float16_shift[t]=24):(DataView.__float16_base[t]=31744,DataView.__float16_shift[t]=13)}}DataView.prototype.getInt64=DataView.prototype.getInt64||function(t,r){return r?new e.Int64(this.getUint32(t,!0),this.getUint32(t+4,!0)):new e.Int64(this.getUint32(t+4,!0),this.getUint32(t,!0))},DataView.prototype.setInt64=DataView.prototype.setInt64||function(t,e,r){r?(this.setUint32(t,e.low,!0),this.setUint32(t+4,e.high,!0)):(this.setUint32(t+4,e.low,!1),this.setUint32(t,e.high,!1))},DataView.prototype.getUint64=DataView.prototype.getUint64||function(t,r){return r?new e.Uint64(this.getUint32(t,!0),this.getUint32(t+4,!0)):new e.Uint64(this.getUint32(t+4,!0),this.getUint32(t,!0))},DataView.prototype.setUint64=DataView.prototype.setUint64||function(t,e,r){r?(this.setUInt32(t,e.low,!0),this.setUInt32(t+4,e.high,!0)):(this.setUInt32(t+4,e.low,!1),this.setUInt32(t,e.high,!1))},DataView.prototype.getBits=DataView.prototype.getBits||function(t,e){if(t*=e,e>(this.byteLength<<3)-t)throw new RangeError;let r=0,o=0;for(;o<e;){const s=7&t,i=Math.min(e-o,8-s);r<<=i,r|=this.getUint8(t>>3)>>8-i-s&~(255<<i),t+=i,o+=i}return r},"undefined"!=typeof window&&void 0!==window.Long&&(window.long={Long:window.Long},window.Int64=e.Int64,window.Uint64=e.Uint64),"object"==typeof t.exports&&(t.exports.Int64=e.Int64,t.exports.Uint64=e.Uint64)},506:(t,e,r)=>{var o={},s=s||r(426);o.get=t=>(o._map=o._map||new Map,o._map.has(t)||o._map.set(t,{}),o._map.get(t)),o.BinaryReader=class{static open(t){return new o.BinaryReader(t)}constructor(t){const e=t instanceof Uint8Array?t:t.peek();this._buffer=e,this._position=0,this._dataView=new DataView(e.buffer,e.byteOffset,e.byteLength)}get root(){return this.int32(this._position)+this._position}get identifier(){if(this._buffer.length>=8){const t=this._buffer.slice(4,8);if(t.every((t=>t>=32&&t<=128)))return String.fromCharCode(...t)}return""}bool(t){return!!this.int8(t)}bool_(t,e,r){return(e=this._offset(t,e))?this.bool(t+e):r}int8(t){return this.uint8(t)<<24>>24}int8_(t,e,r){return(e=this._offset(t,e))?this.int8(t+e):r}uint8(t){return this._buffer[t]}uint8_(t,e,r){return(e=this._offset(t,e))?this.uint8(t+e):r}int16(t){return this._dataView.getInt16(t,!0)}int16_(t,e,r){return(e=this._offset(t,e))?this.int16(t+e):r}uint16(t){return this._dataView.getUint16(t,!0)}uint16_(t,e,r){return(e=this._offset(t,e))?this.uint16(t+e):r}int32(t){return this._dataView.getInt32(t,!0)}int32_(t,e,r){return(e=this._offset(t,e))?this.int32(t+e):r}uint32(t){return this._dataView.getUint32(t,!0)}uint32_(t,e,r){return(e=this._offset(t,e))?this.int32(t+e):r}int64(t){return this._dataView.getInt64(t,!0)}int64_(t,e,r){return(e=this._offset(t,e))?this.int64(t+e):r}uint64(t){return this._dataView.getUint64(t,!0)}float32(t){return this._dataView.getFloat32(t,!0)}float32_(t,e,r){return(e=this._offset(t,e))?this.float32(t+e):r}float64(t){return this._dataView.getFloat64(t,!0)}float64_(t,e,r){return(e=this._offset(t,e))?this.float64(t+e):r}string(t,e){t+=this.int32(t);const r=this.int32(t);var o="",s=0;if(t+=4,1===e)return this._buffer.subarray(t,t+r);for(;s<r;){var i;const e=this.uint8(t+s++);if(e<192)i=e;else{const r=this.uint8(t+s++);if(e<224)i=(31&e)<<6|63&r;else{const o=this.uint8(t+s++);i=e<240?(15&e)<<12|(63&r)<<6|63&o:(7&e)<<18|(63&r)<<12|(63&o)<<6|63&this.uint8(t+s++)}}i<65536?o+=String.fromCharCode(i):(i-=65536,o+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return o}string_(t,e,r){return(e=this._offset(t,e))?this.string(t+e):r}bools_(t,e){if(e=this._offset(t,e)){const r=this._length(t+e);e=this._vector(t+e);const o=new Array(r);for(let t=0;t<r;t++)o[t]=!!this.uint8(e+t+4);return o}return[]}int64s_(t,e){if(e=this._offset(t,e)){const r=this._length(t+e);e=this._vector(t+e);const o=new Array(r);for(let t=0;t<r;t++)o[t]=this.int64(e+(t<<3));return o}return[]}uint64s_(t,e){if(e=this._offset(t,e)){const r=this._length(t+e);e=this._vector(t+e);const o=new Array(r);for(let t=0;t<r;t++)o[t]=this.uint64(e+(t<<3));return o}return[]}strings_(t,e){if(e=this._offset(t,e)){const r=this._length(t+e);e=this._vector(t+e);const o=new Array(r);for(let t=0;t<r;t++)o[t]=this.string(e+4*t);return o}return[]}struct(t,e,r){return(e=this._offset(t,e))?r(this,t+e):null}table(t,e,r){return(e=this._offset(t,e))?r(this,this._indirect(t+e)):null}union(t,e,r){const o=this._offset(t,e),s=o?this.uint8(t+o):0;return(e=this._offset(t,e+2))?r(this,this._union(t+e),s):null}typedArray(t,e,r){return(e=this._offset(t,e))?new r(this._buffer.buffer,this._buffer.byteOffset+this._vector(t+e),this._length(t+e)):new r(0)}unionArray(){throw new o.Error("Not implemented.")}structArray(t,e,r,o){const s=(e=this._offset(t,e))?this._length(t+e):0,i=new Array(s);for(let r=0;r<s;r++)i[r]=o(this,this._indirect(this._vector(t+e)+4*r));return i}tableArray(t,e,r){const o=(e=this._offset(t,e))?this._length(t+e):0,s=new Array(o);for(let i=0;i<o;i++)s[i]=r(this,this._indirect(this._vector(t+e)+4*i));return s}_offset(t,e){var r=t-this.int32(t);return e<this.int16(r)?this.int16(r+e):0}_indirect(t){return t+this.int32(t)}_vector(t){return t+this.int32(t)+4}_length(t){return this.int32(t+this.int32(t))}_union(t){return t+this.int32(t)}},o.TextReader=class{static open(t){return new o.TextReader(t)}constructor(t){this._root=t}get root(){return this._root}value(t,e){return void 0!==t?t:e}object(t,e){return void 0!==t?e(this,t):t}array(t){if(Array.isArray(t)){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}if(!t)return[];throw new o.Error("Inalid value array.")}typedArray(t,e){if(Array.isArray(t)){const r=new e(t.length);for(let e=0;e<t.length;e++)r[e]=t[e];return r}if(!t)return new e(0);throw new o.Error("Inalid typed array.")}objectArray(t,e){if(Array.isArray(t)){const r=new Array(t.length);for(let o=0;o<t.length;o++)r[o]=e(this,t[o]);return r}if(!t)return[];throw new o.Error("Inalid object array.")}},o.Error=class extends Error{constructor(t){super(t),this.name="FlatBuffers Error",this.message=t}},"object"==typeof t.exports&&(t.exports.BinaryReader=o.BinaryReader,t.exports.TextReader=o.TextReader,t.exports.get=o.get)},426:(t,e,r)=>{var o=o||{},s=s||r(152);o.TextReader=class{static open(t){const e=s.Decoder.open(t);let r="start";for(let t=0;t<4096;t++){const o=e.decode();if(void 0===o||"\0"===o){if(0===t)return null;break}if(o<=" "){if(" "!==o&&"\n"!==o&&"\r"!==o&&"\t"!==o)return null}else switch(r){case"start":if("#"===o){r="comment";break}if("["===o){r="list";break}if("{"===o){r="object";break}if(o>="a"&&o<="z"||o>="A"&&o<="Z"){r="";break}return null;case"list":if('"'===o||"-"===o||"+"===o||"{"===o||"["===o||o>="0"&&o<="9"){r="";break}return null;case"object":if('"'!=o)return null;r="";continue}}return new o.TextReader(t)}constructor(t){this._data=t,this._escape={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"}}read(){const t=s.Decoder.open(this._data),e=[];let r;this._decoder=t,this._position=0,this._char=t.decode(),this._whitespace();let i=!0;for(;;)if(Array.isArray(r)){this._whitespace();let t=this._char;if("]"===t){if(this._next(),this._whitespace(),e.length>0){r=e.pop(),i=!1;continue}return void 0!==this._char&&this._unexpected(),r}switch(i||(","!==this._char&&this._unexpected(),this._next(),this._whitespace(),t=this._char),i=!1,t){case"{":{this._next(),e.push(r);const t={};r.push(t),r=t,i=!0;break}case"[":{this._next(),e.push(r);const t=[];r.push(t),r=t,i=!0;break}default:r.push('"'===t?this._string():this._literal())}}else if(r instanceof Object){this._whitespace();let t=this._char;if("}"===t){if(this._next(),this._whitespace(),e.length>0){r=e.pop(),i=!1;continue}return void 0!==this._char&&this._unexpected(),r}if(i||(","!==this._char&&this._unexpected(),this._next(),this._whitespace(),t=this._char),i=!1,'"'===t){const s=this._string();switch(s){case"__proto__":case"constructor":case"prototype":throw new o.Error("Invalid key '"+s+"'"+this._location())}switch(this._whitespace(),":"!==this._char&&this._unexpected(),this._next(),this._whitespace(),t=this._char,t){case"{":{this._next(),e.push(r);const t={};r[s]=t,r=t,i=!0;break}case"[":{this._next(),e.push(r);const t=[];r[s]=t,r=t,i=!0;break}default:r[s]='"'===t?this._string():this._literal()}this._whitespace();continue}this._unexpected()}else{const t=this._char;switch(t){case"{":this._next(),this._whitespace(),r={},i=!0;break;case"[":this._next(),this._whitespace(),r=[],i=!0;break;default:{const e='"'===t?this._string():t>="0"&&t<="9"?this._number():this._literal();return this._whitespace(),void 0!==this._char&&this._unexpected(),e}}}}_next(){void 0===this._char&&this._unexpected(),this._position=this._decoder.position,this._char=this._decoder.decode()}_whitespace(){for(;" "===this._char||"\n"===this._char||"\r"===this._char||"\t"===this._char;)this._next()}_literal(){const t=this._char;if(t>="0"&&t<="9")return this._number();switch(t){case"t":return this._expect("true"),!0;case"f":return this._expect("false"),!1;case"n":return this._expect("null"),null;case"N":return this._expect("NaN"),NaN;case"I":return this._expect("Infinity"),1/0;case"-":return this._number()}this._unexpected()}_number(){let t="";if("-"===this._char&&(t="-",this._next()),"I"===this._char)return this._expect("Infinity"),-1/0;const e=this._char;if((e<"0"||e>"9")&&this._unexpected(),t+=e,this._next(),"0"===e){const t=this._char;t>="0"&&t<="9"&&this._unexpected()}for(;this._char>="0"&&this._char<="9";)t+=this._char,this._next();if("."===this._char){t+=".",this._next();const e=this._char;for((e<"0"||e>"9")&&this._unexpected();this._char>="0"&&this._char<="9";)t+=this._char,this._next()}if("e"===this._char||"E"===this._char){t+=this._char,this._next();const e=this._char;"-"!==e&&"+"!==e||(t+=this._char,this._next());const r=this._char;for((r<"0"||r>"9")&&this._unexpected(),t+=this._char,this._next();this._char>="0"&&this._char<="9";)t+=this._char,this._next()}return+t}_string(){let t="";for(this._next();'"'!=this._char;)if("\\"===this._char)if(this._next(),"u"===this._char){this._next();let e=0;for(let t=0;t<4;t++){const t=parseInt(this._char,16);isFinite(t)||this._unexpected(),this._next(),e=16*e+t}t+=String.fromCharCode(e)}else this._escape[this._char]?(t+=this._escape[this._char],this._next()):this._unexpected();else this._char<" "?this._unexpected():(t+=this._char,this._next());return this._next(),t}_expect(t){for(let e=0;e<t.length;e++)t[e]!==this._char&&this._unexpected(),this._next()}_unexpected(){let t=this._char;if(void 0===t)throw new o.Error("Unexpected end of JSON input.");if('"'===t)t="string";else if(t>="0"&&t<="9"||"-"===t)t="number";else{if(t<" "||t>""){const e=Object.keys(this._escape).filter((e=>this._escape[e]===t));t=1===e.length?"\\"+e:"\\u"+("000"+t.charCodeAt(0).toString(16)).slice(-4)}t="token '"+t+"'"}throw new o.Error("Unexpected "+t+this._location())}_location(){let t,e=1,r=1;this._decoder.position=0;do{if(this._decoder.position===this._position)return" at "+e.toString()+":"+r.toString()+".";t=this._decoder.decode(),"\n"===t?(e++,r=1):r++}while(void 0!==t);return" at "+e.toString()+":"+r.toString()+"."}},o.BinaryReader=class{static open(t){const e=t instanceof Uint8Array?t:t.peek();return new o.BinaryReader(e)}constructor(t){this._buffer=t}read(){const t=this._buffer,e=t.length,r=new DataView(t.buffer,t.byteOffset,t.byteLength),s=new TextDecoder("ascii"),i=new TextDecoder("utf-8");let a=0;const n=t=>{if(a+=t,a>e)throw new o.Error("Expected "+(a+e)+" more bytes. The file might be corrupted. Unexpected end of file.",!0)},p=()=>{const s=a;n(4);const i=r.getInt32(s,4);if(i<5||s+i>e||0!=t[s+i-1])throw new o.Error("Invalid file size.",!0)};p();const d=[];let c={};for(;;){n(1);const e=t[a-1];if(0==e){if(0===d.length)break;c=d.pop();continue}const l=a;a=t.indexOf(0,l)+1;const h=s.decode(t.subarray(l,a-1));let f=null;switch(e){case 1:{const t=a;n(8),f=r.getFloat64(t,!0);break}case 2:{n(4);const e=r.getInt32(a-4,!0),s=a;if(n(e),f=i.decode(t.subarray(s,a-1)),"0x00"!=t[a-1])throw new o.Error("String missing terminal 0.",!0);break}case 3:p(),f={};break;case 4:p(),f=[];break;case 5:{const e=a;n(5);const s=r.getInt32(e,!0),i=t[e+4];if(0!==i)throw new o.Error("Unknown binary subtype '"+i+"'.",!0);n(s),f=t.subarray(e+5,a);break}case 8:if(n(1),f=t[a-1],f>1)throw new o.Error("Invalid boolean value '"+f+"'.",!0);f=1===f;break;case 10:f=null;break;case 16:{const t=a;n(4),f=r.getInt32(t,!0);break}case 17:{const t=a;n(8),f=r.getUint64(t,!0).toNumber();break}case 18:{const t=a;n(8),f=r.getInt64(t,!0).toNumber();break}default:throw new o.Error("Unknown value type '"+e+"'.",!0)}if(Array.isArray(c)){if(c.length!==parseInt(h,10))throw new o.Error("Invalid array index '"+h+"'.",!0);c.push(f)}else{switch(h){case"__proto__":case"constructor":case"prototype":throw new o.Error("Invalid key '"+h+"' at "+a.toString()+"'.",!0)}c[h]=f}3!==e&&4!==e||(d.push(c),c=f)}if(a!==e)throw new o.Error("Unexpected data at '"+a.toString()+"'.",!0);return c}},o.Error=class extends Error{constructor(t,e){super(t),this.name=e?"BSON Error":"JSON Error"}},"object"==typeof t.exports&&(t.exports.TextReader=o.TextReader,t.exports.BinaryReader=o.BinaryReader)},202:()=>{var t=protobuf.get("paddle");t.paddle={},t.paddle.framework={},t.paddle.framework.proto={},t.paddle.framework.proto.Version=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.Version,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();t>>>3==1?o.version=e.int64():e.skipType(7&t)}return o}static decodeText(e){const r=new t.paddle.framework.proto.Version;for(e.start();!e.end();){const t=e.tag();"version"===t?r.version=e.int64():e.field(t,r)}return r}},t.paddle.framework.proto.Version.prototype.version=protobuf.Int64.create(0),t.paddle.framework.proto.AttrType={INT:0,FLOAT:1,STRING:2,INTS:3,FLOATS:4,STRINGS:5,BOOLEAN:6,BOOLEANS:7,BLOCK:8,LONG:9,BLOCKS:10,LONGS:11,FLOAT64S:12},t.paddle.framework.proto.ProcessMeshDesc=class{constructor(){this.topology=[],this.process_group=[]}static decode(e,r){const o=new t.paddle.framework.proto.ProcessMeshDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.id=e.int32();break;case 2:o.parent_id=e.int32();break;case 3:o.topology=e.array(o.topology,(()=>e.int32()),t);break;case 4:o.process_group=e.array(o.process_group,(()=>e.int32()),t);break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"id"))throw new protobuf.Error("Excepted 'id'.");if(!Object.prototype.hasOwnProperty.call(o,"parent_id"))throw new protobuf.Error("Excepted 'parent_id'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.ProcessMeshDesc;for(e.start();!e.end();){const t=e.tag();switch(t){case"id":r.id=e.int32();break;case"parent_id":r.parent_id=e.int32();break;case"topology":e.array(r.topology,(()=>e.int32()));break;case"process_group":e.array(r.process_group,(()=>e.int32()));break;default:e.field(t,r)}}if(!Object.prototype.hasOwnProperty.call(r,"id"))throw new protobuf.Error("Excepted 'id'.");if(!Object.prototype.hasOwnProperty.call(r,"parent_id"))throw new protobuf.Error("Excepted 'parent_id'.");return r}},t.paddle.framework.proto.ProcessMeshDesc.prototype.id=0,t.paddle.framework.proto.ProcessMeshDesc.prototype.parent_id=0,t.paddle.framework.proto.OpDesc=class{constructor(){this.inputs=[],this.outputs=[],this.attrs=[]}static decode(e,r){const o=new t.paddle.framework.proto.OpDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 3:o.type=e.string();break;case 1:o.inputs.push(t.paddle.framework.proto.OpDesc.Var.decode(e,e.uint32()));break;case 2:o.outputs.push(t.paddle.framework.proto.OpDesc.Var.decode(e,e.uint32()));break;case 4:o.attrs.push(t.paddle.framework.proto.OpDesc.Attr.decode(e,e.uint32()));break;case 5:o.is_target=e.bool();break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"type":r.type=e.string();break;case"inputs":r.inputs.push(t.paddle.framework.proto.OpDesc.Var.decodeText(e));break;case"outputs":r.outputs.push(t.paddle.framework.proto.OpDesc.Var.decodeText(e));break;case"attrs":r.attrs.push(t.paddle.framework.proto.OpDesc.Attr.decodeText(e));break;case"is_target":r.is_target=e.bool();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");return r}},t.paddle.framework.proto.OpDesc.prototype.type="",t.paddle.framework.proto.OpDesc.prototype.is_target=!1,t.paddle.framework.proto.OpDesc.Attr=class{constructor(){this.ints=[],this.floats=[],this.strings=[],this.bools=[],this.blocks_idx=[],this.longs=[],this.float64s=[]}static decode(e,r){const o=new t.paddle.framework.proto.OpDesc.Attr,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.name=e.string();break;case 2:o.type=e.int32();break;case 3:o.i=e.int32();break;case 4:o.f=e.float();break;case 5:o.s=e.string();break;case 6:o.ints=e.array(o.ints,(()=>e.int32()),t);break;case 7:o.floats=e.floats(o.floats,t);break;case 8:o.strings.push(e.string());break;case 10:o.b=e.bool();break;case 11:o.bools=e.array(o.bools,(()=>e.bool()),t);break;case 12:o.block_idx=e.int32();break;case 13:o.l=e.int64();break;case 14:o.blocks_idx=e.array(o.blocks_idx,(()=>e.int32()),t);break;case 15:o.longs=e.array(o.longs,(()=>e.int64()),t);break;case 16:o.float64s=e.doubles(o.float64s,t);break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpDesc.Attr;for(e.start();!e.end();){const o=e.tag();switch(o){case"name":r.name=e.string();break;case"type":r.type=e.enum(t.paddle.framework.proto.AttrType);break;case"i":r.i=e.int32();break;case"f":r.f=e.float();break;case"s":r.s=e.string();break;case"ints":e.array(r.ints,(()=>e.int32()));break;case"floats":e.array(r.floats,(()=>e.float()));break;case"strings":e.array(r.strings,(()=>e.string()));break;case"b":r.b=e.bool();break;case"bools":e.array(r.bools,(()=>e.bool()));break;case"block_idx":r.block_idx=e.int32();break;case"l":r.l=e.int64();break;case"blocks_idx":e.array(r.blocks_idx,(()=>e.int32()));break;case"longs":e.array(r.longs,(()=>e.int64()));break;case"float64s":e.array(r.float64s,(()=>e.double()));break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");return r}},t.paddle.framework.proto.OpDesc.Attr.prototype.name="",t.paddle.framework.proto.OpDesc.Attr.prototype.type=0,t.paddle.framework.proto.OpDesc.Attr.prototype.i=0,t.paddle.framework.proto.OpDesc.Attr.prototype.f=0,t.paddle.framework.proto.OpDesc.Attr.prototype.s="",t.paddle.framework.proto.OpDesc.Attr.prototype.b=!1,t.paddle.framework.proto.OpDesc.Attr.prototype.block_idx=0,t.paddle.framework.proto.OpDesc.Attr.prototype.l=protobuf.Int64.create(0),t.paddle.framework.proto.OpDesc.Var=class{constructor(){this.arguments=[]}static decode(e,r){const o=new t.paddle.framework.proto.OpDesc.Var,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.parameter=e.string();break;case 2:o.arguments.push(e.string());break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"parameter"))throw new protobuf.Error("Excepted 'parameter'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpDesc.Var;for(e.start();!e.end();){const t=e.tag();switch(t){case"parameter":r.parameter=e.string();break;case"arguments":e.array(r.arguments,(()=>e.string()));break;default:e.field(t,r)}}if(!Object.prototype.hasOwnProperty.call(r,"parameter"))throw new protobuf.Error("Excepted 'parameter'.");return r}},t.paddle.framework.proto.OpDesc.Var.prototype.parameter="",t.paddle.framework.proto.OpProto=class{constructor(){this.inputs=[],this.outputs=[],this.attrs=[]}static decode(e,r){const o=new t.paddle.framework.proto.OpProto,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.type=e.string();break;case 2:o.inputs.push(t.paddle.framework.proto.OpProto.Var.decode(e,e.uint32()));break;case 3:o.outputs.push(t.paddle.framework.proto.OpProto.Var.decode(e,e.uint32()));break;case 4:o.attrs.push(t.paddle.framework.proto.OpProto.Attr.decode(e,e.uint32()));break;case 5:o.comment=e.string();break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");if(!Object.prototype.hasOwnProperty.call(o,"comment"))throw new protobuf.Error("Excepted 'comment'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpProto;for(e.start();!e.end();){const o=e.tag();switch(o){case"type":r.type=e.string();break;case"inputs":r.inputs.push(t.paddle.framework.proto.OpProto.Var.decodeText(e));break;case"outputs":r.outputs.push(t.paddle.framework.proto.OpProto.Var.decodeText(e));break;case"attrs":r.attrs.push(t.paddle.framework.proto.OpProto.Attr.decodeText(e));break;case"comment":r.comment=e.string();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");if(!Object.prototype.hasOwnProperty.call(r,"comment"))throw new protobuf.Error("Excepted 'comment'.");return r}},t.paddle.framework.proto.OpProto.prototype.type="",t.paddle.framework.proto.OpProto.prototype.comment="",t.paddle.framework.proto.OpProto.Var=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.OpProto.Var,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.name=e.string();break;case 2:o.comment=e.string();break;case 3:o.duplicable=e.bool();break;case 4:o.intermediate=e.bool();break;case 5:o.dispensable=e.bool();break;case 6:o.extra=e.bool();break;case 7:o.quant=e.bool();break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(o,"comment"))throw new protobuf.Error("Excepted 'comment'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpProto.Var;for(e.start();!e.end();){const t=e.tag();switch(t){case"name":r.name=e.string();break;case"comment":r.comment=e.string();break;case"duplicable":r.duplicable=e.bool();break;case"intermediate":r.intermediate=e.bool();break;case"dispensable":r.dispensable=e.bool();break;case"extra":r.extra=e.bool();break;case"quant":r.quant=e.bool();break;default:e.field(t,r)}}if(!Object.prototype.hasOwnProperty.call(r,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(r,"comment"))throw new protobuf.Error("Excepted 'comment'.");return r}},t.paddle.framework.proto.OpProto.Var.prototype.name="",t.paddle.framework.proto.OpProto.Var.prototype.comment="",t.paddle.framework.proto.OpProto.Var.prototype.duplicable=!1,t.paddle.framework.proto.OpProto.Var.prototype.intermediate=!1,t.paddle.framework.proto.OpProto.Var.prototype.dispensable=!1,t.paddle.framework.proto.OpProto.Var.prototype.extra=!1,t.paddle.framework.proto.OpProto.Var.prototype.quant=!1,t.paddle.framework.proto.OpProto.Attr=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.OpProto.Attr,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.name=e.string();break;case 2:o.type=e.int32();break;case 3:o.comment=e.string();break;case 4:o.generated=e.bool();break;case 5:o.extra=e.bool();break;case 6:o.quant=e.bool();break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");if(!Object.prototype.hasOwnProperty.call(o,"comment"))throw new protobuf.Error("Excepted 'comment'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpProto.Attr;for(e.start();!e.end();){const o=e.tag();switch(o){case"name":r.name=e.string();break;case"type":r.type=e.enum(t.paddle.framework.proto.AttrType);break;case"comment":r.comment=e.string();break;case"generated":r.generated=e.bool();break;case"extra":r.extra=e.bool();break;case"quant":r.quant=e.bool();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");if(!Object.prototype.hasOwnProperty.call(r,"comment"))throw new protobuf.Error("Excepted 'comment'.");return r}},t.paddle.framework.proto.OpProto.Attr.prototype.name="",t.paddle.framework.proto.OpProto.Attr.prototype.type=0,t.paddle.framework.proto.OpProto.Attr.prototype.comment="",t.paddle.framework.proto.OpProto.Attr.prototype.generated=!1,t.paddle.framework.proto.OpProto.Attr.prototype.extra=!1,t.paddle.framework.proto.OpProto.Attr.prototype.quant=!1,t.paddle.framework.proto.VarType=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.VarType,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.type=e.int32();break;case 2:o.selected_rows=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;case 3:o.lod_tensor=t.paddle.framework.proto.VarType.LoDTensorDesc.decode(e,e.uint32());break;case 4:o.tensor_array=t.paddle.framework.proto.VarType.LoDTensorArrayDesc.decode(e,e.uint32());break;case 5:o.reader=t.paddle.framework.proto.VarType.ReaderDesc.decode(e,e.uint32());break;case 7:o.tuple=t.paddle.framework.proto.VarType.Tuple.decode(e,e.uint32());break;case 8:o.string=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;case 9:o.strings=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;case 10:o.vocab=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType;for(e.start();!e.end();){const o=e.tag();switch(o){case"type":r.type=e.enum(t.paddle.framework.proto.VarType.Type);break;case"selected_rows":r.selected_rows=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;case"lod_tensor":r.lod_tensor=t.paddle.framework.proto.VarType.LoDTensorDesc.decodeText(e);break;case"tensor_array":r.tensor_array=t.paddle.framework.proto.VarType.LoDTensorArrayDesc.decodeText(e);break;case"reader":r.reader=t.paddle.framework.proto.VarType.ReaderDesc.decodeText(e);break;case"tuple":r.tuple=t.paddle.framework.proto.VarType.Tuple.decodeText(e);break;case"string":r.string=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;case"strings":r.strings=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;case"vocab":r.vocab=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");return r}},t.paddle.framework.proto.VarType.prototype.type=0,t.paddle.framework.proto.VarType.prototype.selected_rows=null,t.paddle.framework.proto.VarType.prototype.lod_tensor=null,t.paddle.framework.proto.VarType.prototype.tensor_array=null,t.paddle.framework.proto.VarType.prototype.reader=null,t.paddle.framework.proto.VarType.prototype.tuple=null,t.paddle.framework.proto.VarType.prototype.string=null,t.paddle.framework.proto.VarType.prototype.strings=null,t.paddle.framework.proto.VarType.prototype.vocab=null,t.paddle.framework.proto.VarType.Type={BOOL:0,INT16:1,INT32:2,INT64:3,FP16:4,FP32:5,FP64:6,SIZE_T:19,UINT8:20,INT8:21,BF16:22,COMPLEX64:23,COMPLEX128:24,LOD_TENSOR:7,SELECTED_ROWS:8,FEED_MINIBATCH:9,FETCH_LIST:10,STEP_SCOPES:11,LOD_RANK_TABLE:12,LOD_TENSOR_ARRAY:13,PLACE_LIST:14,READER:15,RAW:17,TUPLE:18,STRING:25,STRINGS:26,VOCAB:27,FEED_LIST:28},t.paddle.framework.proto.VarType.TensorDesc=class{constructor(){this.dims=[]}static decode(e,r){const o=new t.paddle.framework.proto.VarType.TensorDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.data_type=e.int32();break;case 2:o.dims=e.array(o.dims,(()=>e.int64()),t);break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"data_type"))throw new protobuf.Error("Excepted 'data_type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType.TensorDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"data_type":r.data_type=e.enum(t.paddle.framework.proto.VarType.Type);break;case"dims":e.array(r.dims,(()=>e.int64()));break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"data_type"))throw new protobuf.Error("Excepted 'data_type'.");return r}},t.paddle.framework.proto.VarType.TensorDesc.prototype.data_type=0,t.paddle.framework.proto.VarType.LoDTensorDesc=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.VarType.LoDTensorDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.tensor=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;case 2:o.lod_level=e.int32();break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"tensor"))throw new protobuf.Error("Excepted 'tensor'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType.LoDTensorDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"tensor":r.tensor=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;case"lod_level":r.lod_level=e.int32();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"tensor"))throw new protobuf.Error("Excepted 'tensor'.");return r}},t.paddle.framework.proto.VarType.LoDTensorDesc.prototype.tensor=null,t.paddle.framework.proto.VarType.LoDTensorDesc.prototype.lod_level=0,t.paddle.framework.proto.VarType.LoDTensorArrayDesc=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.VarType.LoDTensorArrayDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.tensor=t.paddle.framework.proto.VarType.TensorDesc.decode(e,e.uint32());break;case 2:o.lod_level=e.int32();break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"tensor"))throw new protobuf.Error("Excepted 'tensor'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType.LoDTensorArrayDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"tensor":r.tensor=t.paddle.framework.proto.VarType.TensorDesc.decodeText(e);break;case"lod_level":r.lod_level=e.int32();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"tensor"))throw new protobuf.Error("Excepted 'tensor'.");return r}},t.paddle.framework.proto.VarType.LoDTensorArrayDesc.prototype.tensor=null,t.paddle.framework.proto.VarType.LoDTensorArrayDesc.prototype.lod_level=0,t.paddle.framework.proto.VarType.ReaderDesc=class{constructor(){this.lod_tensor=[]}static decode(e,r){const o=new t.paddle.framework.proto.VarType.ReaderDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();r>>>3==1?o.lod_tensor.push(t.paddle.framework.proto.VarType.LoDTensorDesc.decode(e,e.uint32())):e.skipType(7&r)}return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType.ReaderDesc;for(e.start();!e.end();){const o=e.tag();"lod_tensor"===o?r.lod_tensor.push(t.paddle.framework.proto.VarType.LoDTensorDesc.decodeText(e)):e.field(o,r)}return r}},t.paddle.framework.proto.VarType.Tuple=class{constructor(){this.element_type=[]}static decode(e,r){const o=new t.paddle.framework.proto.VarType.Tuple,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();t>>>3==1?o.element_type=e.array(o.element_type,(()=>e.int32()),t):e.skipType(7&t)}return o}static decodeText(e){const r=new t.paddle.framework.proto.VarType.Tuple;for(e.start();!e.end();){const o=e.tag();"element_type"===o?e.array(r.element_type,(()=>e.enum(t.paddle.framework.proto.VarType.Type))):e.field(o,r)}return r}},t.paddle.framework.proto.VarDesc=class{constructor(){this.attrs=[]}static decode(e,r){const o=new t.paddle.framework.proto.VarDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.type=t.paddle.framework.proto.VarType.decode(e,e.uint32());break;case 3:o.persistable=e.bool();break;case 4:o.need_check_feed=e.bool();break;case 5:o.is_parameter=e.bool();break;case 6:o.stop_gradient=e.bool();break;case 7:o.attrs.push(t.paddle.framework.proto.VarDesc.Attr.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"name":r.name=e.string();break;case"type":r.type=t.paddle.framework.proto.VarType.decodeText(e);break;case"persistable":r.persistable=e.bool();break;case"need_check_feed":r.need_check_feed=e.bool();break;case"is_parameter":r.is_parameter=e.bool();break;case"stop_gradient":r.stop_gradient=e.bool();break;case"attrs":r.attrs.push(t.paddle.framework.proto.VarDesc.Attr.decodeText(e));break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");return r}},t.paddle.framework.proto.VarDesc.prototype.name="",t.paddle.framework.proto.VarDesc.prototype.type=null,t.paddle.framework.proto.VarDesc.prototype.persistable=!1,t.paddle.framework.proto.VarDesc.prototype.need_check_feed=!1,t.paddle.framework.proto.VarDesc.prototype.is_parameter=!1,t.paddle.framework.proto.VarDesc.prototype.stop_gradient=!1,t.paddle.framework.proto.VarDesc.Attr=class{constructor(){this.ints=[]}static decode(e,r){const o=new t.paddle.framework.proto.VarDesc.Attr,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();switch(t>>>3){case 1:o.name=e.string();break;case 2:o.type=e.int32();break;case 3:o.i=e.int32();break;case 4:o.s=e.string();break;case 5:o.ints=e.array(o.ints,(()=>e.int32()),t);break;default:e.skipType(7&t)}}if(!Object.prototype.hasOwnProperty.call(o,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(o,"type"))throw new protobuf.Error("Excepted 'type'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.VarDesc.Attr;for(e.start();!e.end();){const o=e.tag();switch(o){case"name":r.name=e.string();break;case"type":r.type=e.enum(t.paddle.framework.proto.AttrType);break;case"i":r.i=e.int32();break;case"s":r.s=e.string();break;case"ints":e.array(r.ints,(()=>e.int32()));break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"name"))throw new protobuf.Error("Excepted 'name'.");if(!Object.prototype.hasOwnProperty.call(r,"type"))throw new protobuf.Error("Excepted 'type'.");return r}},t.paddle.framework.proto.VarDesc.Attr.prototype.name="",t.paddle.framework.proto.VarDesc.Attr.prototype.type=0,t.paddle.framework.proto.VarDesc.Attr.prototype.i=0,t.paddle.framework.proto.VarDesc.Attr.prototype.s="",t.paddle.framework.proto.BlockDesc=class{constructor(){this.vars=[],this.ops=[]}static decode(e,r){const o=new t.paddle.framework.proto.BlockDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.idx=e.int32();break;case 2:o.parent_idx=e.int32();break;case 3:o.vars.push(t.paddle.framework.proto.VarDesc.decode(e,e.uint32()));break;case 4:o.ops.push(t.paddle.framework.proto.OpDesc.decode(e,e.uint32()));break;case 5:o.forward_block_idx=e.int32();break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"idx"))throw new protobuf.Error("Excepted 'idx'.");if(!Object.prototype.hasOwnProperty.call(o,"parent_idx"))throw new protobuf.Error("Excepted 'parent_idx'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.BlockDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"idx":r.idx=e.int32();break;case"parent_idx":r.parent_idx=e.int32();break;case"vars":r.vars.push(t.paddle.framework.proto.VarDesc.decodeText(e));break;case"ops":r.ops.push(t.paddle.framework.proto.OpDesc.decodeText(e));break;case"forward_block_idx":r.forward_block_idx=e.int32();break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"idx"))throw new protobuf.Error("Excepted 'idx'.");if(!Object.prototype.hasOwnProperty.call(r,"parent_idx"))throw new protobuf.Error("Excepted 'parent_idx'.");return r}},t.paddle.framework.proto.BlockDesc.prototype.idx=0,t.paddle.framework.proto.BlockDesc.prototype.parent_idx=0,t.paddle.framework.proto.BlockDesc.prototype.forward_block_idx=-1,t.paddle.framework.proto.OpVersion=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.OpVersion,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const t=e.uint32();t>>>3==1?o.version=e.int32():e.skipType(7&t)}if(!Object.prototype.hasOwnProperty.call(o,"version"))throw new protobuf.Error("Excepted 'version'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpVersion;for(e.start();!e.end();){const t=e.tag();"version"===t?r.version=e.int32():e.field(t,r)}if(!Object.prototype.hasOwnProperty.call(r,"version"))throw new protobuf.Error("Excepted 'version'.");return r}},t.paddle.framework.proto.OpVersion.prototype.version=0,t.paddle.framework.proto.OpVersionMap=class{constructor(){this.pair=[]}static decode(e,r){const o=new t.paddle.framework.proto.OpVersionMap,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();r>>>3==1?o.pair.push(t.paddle.framework.proto.OpVersionMap.OpVersionPair.decode(e,e.uint32())):e.skipType(7&r)}return o}static decodeText(e){const r=new t.paddle.framework.proto.OpVersionMap;for(e.start();!e.end();){const o=e.tag();"pair"===o?r.pair.push(t.paddle.framework.proto.OpVersionMap.OpVersionPair.decodeText(e)):e.field(o,r)}return r}},t.paddle.framework.proto.OpVersionMap.OpVersionPair=class{constructor(){}static decode(e,r){const o=new t.paddle.framework.proto.OpVersionMap.OpVersionPair,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.op_name=e.string();break;case 2:o.op_version=t.paddle.framework.proto.OpVersion.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!Object.prototype.hasOwnProperty.call(o,"op_name"))throw new protobuf.Error("Excepted 'op_name'.");if(!Object.prototype.hasOwnProperty.call(o,"op_version"))throw new protobuf.Error("Excepted 'op_version'.");return o}static decodeText(e){const r=new t.paddle.framework.proto.OpVersionMap.OpVersionPair;for(e.start();!e.end();){const o=e.tag();switch(o){case"op_name":r.op_name=e.string();break;case"op_version":r.op_version=t.paddle.framework.proto.OpVersion.decodeText(e);break;default:e.field(o,r)}}if(!Object.prototype.hasOwnProperty.call(r,"op_name"))throw new protobuf.Error("Excepted 'op_name'.");if(!Object.prototype.hasOwnProperty.call(r,"op_version"))throw new protobuf.Error("Excepted 'op_version'.");return r}},t.paddle.framework.proto.OpVersionMap.OpVersionPair.prototype.op_name="",t.paddle.framework.proto.OpVersionMap.OpVersionPair.prototype.op_version=null,t.paddle.framework.proto.ProgramDesc=class{constructor(){this.blocks=[]}static decode(e,r){const o=new t.paddle.framework.proto.ProgramDesc,s=void 0!==r?e.position+r:e.length;for(;e.position<s;){const r=e.uint32();switch(r>>>3){case 1:o.blocks.push(t.paddle.framework.proto.BlockDesc.decode(e,e.uint32()));break;case 4:o.version=t.paddle.framework.proto.Version.decode(e,e.uint32());break;case 5:o.op_version_map=t.paddle.framework.proto.OpVersionMap.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o}static decodeText(e){const r=new t.paddle.framework.proto.ProgramDesc;for(e.start();!e.end();){const o=e.tag();switch(o){case"blocks":r.blocks.push(t.paddle.framework.proto.BlockDesc.decodeText(e));break;case"version":r.version=t.paddle.framework.proto.Version.decodeText(e);break;case"op_version_map":r.op_version_map=t.paddle.framework.proto.OpVersionMap.decodeText(e);break;default:e.field(o,r)}}return r}},t.paddle.framework.proto.ProgramDesc.prototype.version=null,t.paddle.framework.proto.ProgramDesc.prototype.op_version_map=null},99:()=>{var t=flatbuffers.get("paddlelite");t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.AttrType={INT:0,FLOAT:1,STRING:2,INTS:3,FLOATS:4,STRINGS:5,BOOLEAN:6,BOOLEANS:7,BLOCK:8,LONG:9,BLOCKS:10,LONGS:11},t.paddle.lite.fbs.proto.Version=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.Version;return o.version=e.int64_(r,4,0),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.Version;return o.version=e.value(r.version,0),o}},t.paddle.lite.fbs.proto.OpDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc;return o.type=e.string_(r,4,null),o.inputs=e.tableArray(r,6,t.paddle.lite.fbs.proto.OpDesc_.Var.decode),o.outputs=e.tableArray(r,8,t.paddle.lite.fbs.proto.OpDesc_.Var.decode),o.attrs=e.tableArray(r,10,t.paddle.lite.fbs.proto.OpDesc_.Attr.decode),o.is_target=e.bool_(r,12,!1),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc;return o.type=e.value(r.type,null),o.inputs=e.objectArray(r.inputs,t.paddle.lite.fbs.proto.OpDesc_.Var.decodeText),o.outputs=e.objectArray(r.outputs,t.paddle.lite.fbs.proto.OpDesc_.Var.decodeText),o.attrs=e.objectArray(r.attrs,t.paddle.lite.fbs.proto.OpDesc_.Attr.decodeText),o.is_target=e.value(r.is_target,!1),o}},t.paddle.lite.fbs.proto.VarType=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType;return o.type=e.int32_(r,4,0),o.selected_rows=e.table(r,6,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decode),o.lod_tensor=e.table(r,8,t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc.decode),o.tensor_array=e.table(r,10,t.paddle.lite.fbs.proto.VarType_.LoDTensorArrayDesc.decode),o.reader=e.table(r,12,t.paddle.lite.fbs.proto.VarType_.ReaderDesc.decode),o.tuple=e.table(r,14,t.paddle.lite.fbs.proto.VarType_.Tuple.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType;return o.type=t.paddle.lite.fbs.proto.VarType_.Type[r.type],o.selected_rows=e.object(r.selected_rows,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decodeText),o.lod_tensor=e.object(r.lod_tensor,t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc.decodeText),o.tensor_array=e.object(r.tensor_array,t.paddle.lite.fbs.proto.VarType_.LoDTensorArrayDesc.decodeText),o.reader=e.object(r.reader,t.paddle.lite.fbs.proto.VarType_.ReaderDesc.decodeText),o.tuple=e.object(r.tuple,t.paddle.lite.fbs.proto.VarType_.Tuple.decodeText),o}},t.paddle.lite.fbs.proto.VarDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarDesc;return o.name=e.string_(r,4,null),o.type=e.table(r,6,t.paddle.lite.fbs.proto.VarType.decode),o.persistable=e.bool_(r,8,!1),o.need_check_feed=e.bool_(r,10,!1),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarDesc;return o.name=e.value(r.name,null),o.type=e.object(r.type,t.paddle.lite.fbs.proto.VarType.decodeText),o.persistable=e.value(r.persistable,!1),o.need_check_feed=e.value(r.need_check_feed,!1),o}},t.paddle.lite.fbs.proto.BlockDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.BlockDesc;return o.idx=e.int32_(r,4,0),o.parent_idx=e.int32_(r,6,0),o.vars=e.tableArray(r,8,t.paddle.lite.fbs.proto.VarDesc.decode),o.ops=e.tableArray(r,10,t.paddle.lite.fbs.proto.OpDesc.decode),o.forward_block_idx=e.int32_(r,12,-1),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.BlockDesc;return o.idx=e.value(r.idx,0),o.parent_idx=e.value(r.parent_idx,0),o.vars=e.objectArray(r.vars,t.paddle.lite.fbs.proto.VarDesc.decodeText),o.ops=e.objectArray(r.ops,t.paddle.lite.fbs.proto.OpDesc.decodeText),o.forward_block_idx=e.value(r.forward_block_idx,-1),o}},t.paddle.lite.fbs.proto.OpVersion=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpVersion;return o.version=e.int32_(r,4,0),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpVersion;return o.version=e.value(r.version,0),o}},t.paddle.lite.fbs.proto.OpVersionMap=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpVersionMap;return o.pair=e.tableArray(r,4,t.paddle.lite.fbs.proto.OpVersionMap_.OpVersionPair.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpVersionMap;return o.pair=e.objectArray(r.pair,t.paddle.lite.fbs.proto.OpVersionMap_.OpVersionPair.decodeText),o}},t.paddle.lite.fbs.proto.ProgramDesc=class{static create(e){return t.paddle.lite.fbs.proto.ProgramDesc.decode(e,e.root)}static createText(e){return t.paddle.lite.fbs.proto.ProgramDesc.decodeText(e,e.root)}static decode(e,r){const o=new t.paddle.lite.fbs.proto.ProgramDesc;return o.blocks=e.tableArray(r,4,t.paddle.lite.fbs.proto.BlockDesc.decode),o.version=e.table(r,6,t.paddle.lite.fbs.proto.Version.decode),o.op_version_map=e.table(r,8,t.paddle.lite.fbs.proto.OpVersionMap.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.ProgramDesc;return o.blocks=e.objectArray(r.blocks,t.paddle.lite.fbs.proto.BlockDesc.decodeText),o.version=e.object(r.version,t.paddle.lite.fbs.proto.Version.decodeText),o.op_version_map=e.object(r.op_version_map,t.paddle.lite.fbs.proto.OpVersionMap.decodeText),o}},t.paddle.lite.fbs.proto.CombinedParamsDesc=class{static create(e){return t.paddle.lite.fbs.proto.CombinedParamsDesc.decode(e,e.root)}static createText(e){return t.paddle.lite.fbs.proto.CombinedParamsDesc.decodeText(e,e.root)}static decode(e,r){const o=new t.paddle.lite.fbs.proto.CombinedParamsDesc;return o.params=e.tableArray(r,4,t.paddle.lite.fbs.proto.ParamDesc.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.CombinedParamsDesc;return o.params=e.objectArray(r.params,t.paddle.lite.fbs.proto.ParamDesc.decodeText),o}},t.paddle.lite.fbs.proto.ParamDesc=class{static create(e){return t.paddle.lite.fbs.proto.ParamDesc.decode(e,e.root)}static createText(e){return t.paddle.lite.fbs.proto.ParamDesc.decodeText(e,e.root)}static decode(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc;return o.version=e.table(r,4,t.paddle.lite.fbs.proto.ParamDesc_.VersionDesc.decode),o.name=e.string_(r,6,null),o.variable=e.union(r,8,t.paddle.lite.fbs.proto.ParamDesc_.VariableDesc.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc;return o.version=e.object(r.version,t.paddle.lite.fbs.proto.ParamDesc_.VersionDesc.decodeText),o.name=e.value(r.name,null),o.variable=t.paddle.lite.fbs.proto.ParamDesc_.VariableDesc.decodeText(e,r.variable,r.variable_type),o}},t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.VarType_=t.paddle.lite.fbs.proto.VarType_||{},t.paddle.lite.fbs.proto.VarType_.Type={BOOL:0,INT16:1,INT32:2,INT64:3,FP16:4,FP32:5,FP64:6,LOD_TENSOR:7,SELECTED_ROWS:8,FEED_MINIBATCH:9,FETCH_LIST:10,STEP_SCOPES:11,LOD_RANK_TABLE:12,LOD_TENSOR_ARRAY:13,PLACE_LIST:14,READER:15,RAW:17,TUPLE:18,SIZE_T:19,UINT8:20,INT8:21},t.paddle.lite.fbs.proto.VarType_.TensorDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.TensorDesc;return o.data_type=e.int32_(r,4,0),o.dims=e.int64s_(r,6),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.TensorDesc;return o.data_type=t.paddle.lite.fbs.proto.VarType_.Type[r.data_type],o.dims=e.array(r.dims),o}},t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc;return o.tensor=e.table(r,4,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decode),o.lod_level=e.int32_(r,6,0),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc;return o.tensor=e.object(r.tensor,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decodeText),o.lod_level=e.value(r.lod_level,0),o}},t.paddle.lite.fbs.proto.VarType_.LoDTensorArrayDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.LoDTensorArrayDesc;return o.tensor=e.table(r,4,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decode),o.lod_level=e.int32_(r,6,0),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.LoDTensorArrayDesc;return o.tensor=e.object(r.tensor,t.paddle.lite.fbs.proto.VarType_.TensorDesc.decodeText),o.lod_level=e.value(r.lod_level,0),o}},t.paddle.lite.fbs.proto.VarType_.ReaderDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.ReaderDesc;return o.lod_tensor=e.tableArray(r,4,t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.ReaderDesc;return o.lod_tensor=e.objectArray(r.lod_tensor,t.paddle.lite.fbs.proto.VarType_.LoDTensorDesc.decodeText),o}},t.paddle.lite.fbs.proto.VarType_.Tuple=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.Tuple;return o.element_type=e.typedArray(r,4,Int32Array),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.VarType_.Tuple;return o.element_type=e.objectArray(r.element_type,t.paddle.lite.fbs.proto.VarType_.Type.decodeText),o}},t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.CompatibleInfo_=t.paddle.lite.fbs.proto.CompatibleInfo_||{},t.paddle.lite.fbs.proto.CompatibleInfo_.Type={COMPATIBLE:0,DEFINITELY_NOT:1,POSSIBLE:2,BUG_FIX:3,PRECISION_CHANGE:4},t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.OpDesc_=t.paddle.lite.fbs.proto.OpDesc_||{},t.paddle.lite.fbs.proto.OpDesc_.Attr=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc_.Attr;return o.name=e.string_(r,4,null),o.type=e.int32_(r,6,0),o.i=e.int32_(r,8,0),o.f=e.float32_(r,10,0),o.s=e.string_(r,12,null),o.ints=e.typedArray(r,14,Int32Array),o.floats=e.typedArray(r,16,Float32Array),o.strings=e.strings_(r,18),o.b=e.bool_(r,20,!1),o.bools=e.bools_(r,22),o.block_idx=e.int32_(r,24,0),o.l=e.int64_(r,26,0),o.blocks_idx=e.typedArray(r,28,Int32Array),o.longs=e.int64s_(r,30),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc_.Attr;return o.name=e.value(r.name,null),o.type=t.paddle.lite.fbs.proto.AttrType[r.type],o.i=e.value(r.i,0),o.f=e.value(r.f,0),o.s=e.value(r.s,null),o.ints=e.typedArray(r.ints,Int32Array),o.floats=e.typedArray(r.floats,Float32Array),o.strings=e.array(r.strings),o.b=e.value(r.b,!1),o.bools=e.array(r.bools),o.block_idx=e.value(r.block_idx,0),o.l=e.value(r.l,0),o.blocks_idx=e.typedArray(r.blocks_idx,Int32Array),o.longs=e.array(r.longs),o}},t.paddle.lite.fbs.proto.OpDesc_.Var=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc_.Var;return o.parameter=e.string_(r,4,null),o.arguments=e.strings_(r,6),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpDesc_.Var;return o.parameter=e.value(r.parameter,null),o.arguments=e.array(r.arguments),o}},t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.OpVersionMap_=t.paddle.lite.fbs.proto.OpVersionMap_||{},t.paddle.lite.fbs.proto.OpVersionMap_.OpVersionPair=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.OpVersionMap_.OpVersionPair;return o.op_name=e.string_(r,4,null),o.op_version=e.table(r,6,t.paddle.lite.fbs.proto.OpVersion.decode),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.OpVersionMap_.OpVersionPair;return o.op_name=e.value(r.op_name,null),o.op_version=e.object(r.op_version,t.paddle.lite.fbs.proto.OpVersion.decodeText),o}},t.paddle=t.paddle||{},t.paddle.lite=t.paddle.lite||{},t.paddle.lite.fbs=t.paddle.lite.fbs||{},t.paddle.lite.fbs.proto=t.paddle.lite.fbs.proto||{},t.paddle.lite.fbs.proto.ParamDesc_=t.paddle.lite.fbs.proto.ParamDesc_||{},t.paddle.lite.fbs.proto.ParamDesc_.LoDTensorDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc_.LoDTensorDesc;return o.lod_level=e.int32_(r,4,0),o.lod=e.int64s_(r,6),o.dim=e.int64s_(r,8),o.data_type=e.int32_(r,10,0),o.data=e.typedArray(r,12,Int8Array),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc_.LoDTensorDesc;return o.lod_level=e.value(r.lod_level,0),o.lod=e.array(r.lod),o.dim=e.array(r.dim),o.data_type=t.paddle.lite.fbs.proto.VarType_.Type[r.data_type],o.data=e.typedArray(r.data,Int8Array),o}},t.paddle.lite.fbs.proto.ParamDesc_.VersionDesc=class{static decode(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc_.VersionDesc;return o.version=e.int32_(r,4,0),o.model_version=e.int32_(r,6,0),o}static decodeText(e,r){const o=new t.paddle.lite.fbs.proto.ParamDesc_.VersionDesc;return o.version=e.value(r.version,0),o.model_version=e.value(r.model_version,0),o}},t.paddle.lite.fbs.proto.ParamDesc_.VariableDesc=class{static decode(e,r,o){if(1===o)return t.paddle.lite.fbs.proto.ParamDesc_.LoDTensorDesc.decode(e,r)}static decodeText(e,r,o){if("LoDTensorDesc"===o)return t.paddle.lite.fbs.proto.ParamDesc_.LoDTensorDesc.decodeText(e,r)}}},196:(t,e,r)=>{!function(e,o){var s=s||{};o=o||r(506),e=e||r(66),s.ModelFactory=class{match(t){const e=t.identifier,r=e.split(".").pop().toLowerCase();if(("__model__"===e||"__model__"===r||"paddle"===r||"pdmodel"===r)&&2===t.tags("pb").get(1))return"paddle.pb";if(("pbtxt"===r||"txt"===r)&&t.tags("pbtxt").has("blocks"))return"paddle.pbtxt";if("json"===r){const e=t.open("json");if(e&&e.ops&&Array.isArray(e.ops)&&e.vars)return"paddle.json"}const o=t.stream;return o.length>16&&o.peek(16).every((t=>0===t))?"paddle.params":s.Weights.open(t)?"paddle.weights":s.NaiveBuffer.open(t)?"paddle.naive":void 0}open(t,r){return s.Metadata.open(t).then((i=>{switch(r){case"paddle.naive":return t.require("./paddle-schema").then((()=>{s.schema=o.get("paddlelite").paddle.lite.fbs.proto;const e=s.NaiveBuffer.open(t);return new s.Model(i,e.format,e.model,e.weights)}));case"paddle.json":return t.require("./paddle-proto").then((()=>{s.proto=e.get("paddle").paddle.framework.proto;const r=t.open("json"),o=this.createJsProgram(r,((t,r)=>new e.Int64(t,r)),s.JsAttributeType);return new s.Model(i,o.format,o.desc,new Map)}));default:return t.require("./paddle-proto").then((()=>{s.proto=e.get("paddle").paddle.framework.proto;const o=t.identifier,a=o.split("."),n=a.pop().toLowerCase(),p=a.join("."),d=(t,r)=>{const o={format:"PaddlePaddle"};switch(r){case"paddle.pbtxt":try{const r=e.TextReader.open(t);o.desc=s.proto.ProgramDesc.decodeText(r)}catch(t){const e=t&&t.message?t.message:t.toString();throw new s.Error("File text format is not paddle.ProgramDesc ("+e.replace(/\.$/,"")+").")}break;case"paddle.pb":try{const r=e.BinaryReader.open(t);o.desc=s.proto.ProgramDesc.decode(r)}catch(t){const e=t&&t.message?t.message:t.toString();throw new s.Error("File format is not paddle.ProgramDesc ("+e.replace(/\.$/,"")+").")}break;default:throw new s.Error("Unknown Paddle format '"+r+"'.")}const i=o.desc;o.format+=s.Utility.formatVersion(i.version);const a=new Set;for(const t of i.blocks){const e=new Set;for(const r of t.vars)r.persistable&&r.type&&r.type.type!=s.DataType.FETCH_LIST&&r.type.type!=s.DataType.FEED_MINIBATCH&&e.add(r.name);for(const r of t.ops)for(const t of r.inputs)for(const r of t.arguments)e.has(r)&&a.add(r)}return o.vars=Array.from(a).sort(),o},c=(t,e,r)=>{const o=new Map;for(;r.position<r.length;){const t=s.Utility.openTensor(r);o.set(e.vars.shift(),t)}return new s.Model(t,e.format,e.desc,o)};switch(r){case"paddle.weights":{const e=s.Weights.open(t);return new s.Model(i,e.format,null,e.weights)}case"paddle.params":{const e="params"!==o?p+".pdmodel":"model";return t.request(e,null).then((e=>{const r=d(e,"paddle.pb");return c(i,r,t.stream)}))}case"paddle.pb":case"paddle.pbtxt":{const e=d(t.stream,r),a=(t,e)=>{const r=e.vars.map((e=>t.request(e,null))),o=new Map;return Promise.all(r).then((t=>{for(let r=0;r<e.vars.length;r++){const i=s.Utility.openTensor(t[r]);o.set(e.vars[r],i)}return new s.Model(i,e.format,e.desc,o)})).catch((()=>new s.Model(i,e.format,e.desc,o)))};return"pdmodel"===n?t.request(p+".pdiparams",null).then((t=>c(i,e,t))).catch((()=>a(t,e))):"model"===o?t.request("params",null).then((t=>c(i,e,t))).catch((()=>a(t,e))):a(t,e)}}}))}}))}},s.Model=class{constructor(t,e,r,o){this._format=e,this._graphs=r?r.blocks.map((e=>new s.Graph(t,e,o))):[new s.Graph(t,null,o)]}get format(){return this._format}get graphs(){return this._graphs}},s.Graph=class{constructor(t,e,r){if(this._nodes=[],this._inputs=[],this._outputs=[],e){this._name=e.idx.toString();const o=new Map;for(const t of e.vars){const e=t.type&&t.type.type&&t.type.lod_tensor&&t.type.lod_tensor.tensor?s.Utility.createTensorType(t.type.lod_tensor.tensor.data_type,t.type.lod_tensor.tensor.dims):null,i=t.persistable&&t.type&&t.type.type!=s.DataType.FETCH_LIST&&t.type.type!=s.DataType.FEED_MINIBATCH?r.get(t.name)||new s.Tensor(e):null;o.set(t.name,new s.Argument(t.name,e,i))}const i={};for(let t=0;t<e.ops.length;t++){for(const r of e.ops[t].inputs)r.arguments=r.arguments.map((t=>i[t]?i[t]:t));for(const r of e.ops[t].outputs)r.arguments=r.arguments.map((e=>{if(i[e]){const r=e+"\n"+t.toString();return i[e]=r,r}return i[e]=e,e}))}for(const t of e.ops){for(const e of t.inputs)for(const t of e.arguments){const e=t;o.has(e)||o.set(e,new s.Argument(e,null,null))}for(const e of t.outputs)for(const t of e.arguments){const e=t;o.has(e)||o.set(e,new s.Argument(e,null,null))}}let a=null,n=null;for(const r of e.ops)if("feed"==r.type){const t=r.attrs.filter((t=>"col"==t.name))[0].i.toString();this._inputs.push(new s.Parameter(t,r.outputs[0].arguments.map((t=>o.get(t)))))}else if("fetch"==r.type){const t=r.attrs.filter((t=>"col"==t.name))[0].i.toString();this._outputs.push(new s.Parameter(t,r.inputs[0].arguments.map((t=>o.get(t)))))}else{const e=new s.Node(t,r,o);1==r.inputs.length&&1==r.inputs[0].arguments.length&&r.outputs.length>=1&&1==r.outputs[0].arguments.length&&r.inputs[0].arguments[0].split("\n").shift()==r.outputs[0].arguments[0].split("\n").shift()&&a&&n==r.inputs[0].arguments[0].split("\n").shift()?a.chain.push(e):(this._nodes.push(e),a=null,n=null,1==r.outputs.length&&1==r.outputs[0].arguments.length&&(a=e,n=r.outputs[0].arguments[0].split("\n").shift()))}}else{const e=new Map,o=new Map;for(const t of r){const r=t[0],i=t[1];e.set(r,new s.Argument(r,i.type,i));const a=[".","_"].find((t=>r.split(t).length>1)),n=r.split(a),p=n.pop(),d=n.join(a);o.has(d)||o.set(d,{name:d,type:"Weights",inputs:[]}),o.get(d).inputs.push({parameter:p,arguments:[r]})}for(const r of o){const o=r[1];this._nodes.push(new s.Node(t,o,e))}}}get name(){return this._name}get inputs(){return this._inputs}get outputs(){return this._outputs}get nodes(){return this._nodes}},s.Parameter=class{constructor(t,e){this._name=t,this._arguments=e}get name(){return this._name}get visible(){return!0}get arguments(){return this._arguments}},s.Argument=class{constructor(t,e,r){if("string"!=typeof t)throw new s.Error("Invalid argument identifier '"+JSON.stringify(t)+"'.");this._name=t,this._type=e||null,this._initializer=r||null}get name(){return this._name}get type(){return this._type?this._type:this._initializer?this._initializer.type:null}get initializer(){return this._initializer}},s.Node=class{constructor(t,e,r){const o=e.type;if(this._type=t.type(o)||{name:o},this._name=e.name||"",this._attributes=[],this._inputs=[],this._outputs=[],this._chain=[],e.attrs)for(const r of e.attrs){const e=t.attribute(o,this._name);this._attributes.push(new s.Attribute(e,r))}if(e.inputs)for(const t of e.inputs)t.arguments.length>0&&this._inputs.push(new s.Parameter(t.parameter,t.arguments.map((t=>r.get(t)))));if(e.outputs)for(const t of e.outputs)t.arguments.length>0&&this._outputs.push(new s.Parameter(t.parameter,t.arguments.map((t=>r.get(t)))));this._update(this._inputs,"X"),this._update(this._inputs,"Input"),this._update(this._outputs,"Y"),this._update(this._outputs,"Out")}get type(){return this._type}get name(){return this._name}get attributes(){return this._attributes}get inputs(){return this._inputs}get outputs(){return this._outputs}get chain(){return this._chain}_update(t,e){let r=null;for(let o=0;o<t.length;o++)if(t[o].name==e){r=t[o],t.splice(o,1);break}r&&t.splice(0,0,r)}},s.Attribute=class{constructor(t,e){switch(this._name=e.name,this._value="?",e.type){case s.AttributeType.STRING:this._type="string",this._value=e.s;break;case s.AttributeType.STRINGS:this._type="string[]",this._value=Array.from(e.strings);break;case s.AttributeType.BOOLEAN:this._type="boolean",this._value=e.b;break;case s.AttributeType.BOOLEANS:this._type="boolean[]",this._value=Array.from(e.bools);break;case s.AttributeType.FLOAT:this._type="float32",this._value=e.f;break;case s.AttributeType.FLOATS:this._type="float[]",this._value=Array.from(e.floats);break;case s.AttributeType.INT:this._type="int32",this._value=e.i;break;case s.AttributeType.INTS:this._type="int32[]",this._value=Array.from(e.ints);break;case s.AttributeType.LONG:this._type="int64";break;case s.AttributeType.LONGS:this._type="int64[]"}switch(this._name){case"use_mkldnn":case"use_cudnn":case"op_callstack":case"op_role":case"op_role_var":case"op_namescope":case"is_test":this._visible=!1}if(t&&Object.prototype.hasOwnProperty.call(t,"default")){const e=t.default,r=this._value;(e==r||Array.isArray(r)&&Array.isArray(e)&&r.length==e.length&&r.every(((t,r)=>t==e[r])))&&(this._visible=!1)}}get name(){return this._name}get type(){return this._type}get value(){return this._value}get visible(){return 0!=this._visible}},s.Tensor=class{constructor(t,e,r){this._type=t,this._data=e,this._kind=r||""}get kind(){return this._kind}get type(){return this._type}get state(){return this._context().state||null}get value(){const t=this._context();return t.state?null:(t.limit=Number.MAX_SAFE_INTEGER,this._decode(t,0))}toString(){const t=this._context();if(t.state)return"";t.limit=1e4;const e=this._decode(t,0);return s.Tensor._stringify(e,"","    ")}_context(){const t={index:0,count:0,state:null};if(!this._data)return t.state="Tensor data is empty.",t;if(!this._type)return t.state="Tensor has no data type.",t;switch(t.dataType=this._type.dataType,t.shape=this._type.shape.dimensions,t.view=new DataView(this._data.buffer,this._data.byteOffset,this._data.byteLength),t.dataType){case"float32":case"int32":case"int64":break;default:t.state="Tensor data type '"+t.dataType+"' is not implemented."}return t}_decode(t,e){const r=0!==t.shape.length?t.shape:[1],o=[],s=r[e];if(e==r.length-1)for(let e=0;e<s;e++){if(t.count>t.limit)return o.push("..."),o;switch(t.dataType){case"float32":o.push(t.view.getFloat32(t.index,!0)),t.index+=4,t.count++;break;case"int32":o.push(t.view.getInt32(t.index,!0)),t.index+=4,t.count++;break;case"int64":o.push(t.view.getInt64(t.index,!0)),t.index+=8,t.count++}}else for(let r=0;r<s;r++){if(t.count>t.limit)return o.push("..."),o;o.push(this._decode(t,e+1))}return 0==t.shape.length?o[0]:o}static _stringify(t,e,r){if(Array.isArray(t)){const o=[];o.push(e+"[");const i=t.map((t=>s.Tensor._stringify(t,e+r,r)));return i.length>0&&o.push(i.join(",\n")),o.push(e+"]"),o.join("\n")}return"string"==typeof t?e+t:t==1/0?e+"Infinity":t==-1/0?e+"-Infinity":isNaN(t)?e+"NaN":e+t.toString()}},s.TensorType=class{constructor(t,e){this._dataType=t,this._shape=e}get dataType(){return this._dataType}get shape(){return this._shape}get denotation(){return this._denotation}toString(){return this._dataType+this._shape.toString()}},s.TensorShape=class{constructor(t){t=t.map((t=>Number.isInteger(t)?t:t.toNumber())),this._dimensions=t.map((t=>-1!=t?t:"?"))}get dimensions(){return this._dimensions}toString(){return this._dimensions&&this._dimensions.length?"["+this._dimensions.join(",")+"]":""}},s.Utility=class{static createTensorType(t,e){if(!s.Utility._dataTypes){const t=Math.max.apply(null,Object.values(s.DataType));s.Utility._dataTypes=new Array(t);for(const t of Object.keys(s.DataType)){const e=s.DataType[t];let r=t.toLowerCase();switch(r){case"bool":r="boolean";break;case"bf16":r="bfloat16";break;case"fp16":r="float16";break;case"fp32":r="float32";break;case"fp64":r="float64"}s.Utility._dataTypes[e]=r}}const r=t<s.Utility._dataTypes.length?s.Utility._dataTypes[t]:"?";return new s.TensorType(r,new s.TensorShape(e))}static openTensor(t){if(!t.read(16).every((t=>0===t)))throw new s.Error("Invalid paddle.TensorDesc signature.");const r=(t=>{const e=t.read(4);return new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(0,!0)})(t),o=t.read(r),i=e.BinaryReader.open(o),a=s.proto.VarType.TensorDesc.decode(i),n=a.dims.reduce(((t,e)=>t*e.toNumber()),1);let p=0;if(a.data_type!==s.DataType.FP32)throw new s.Error("Invalid inference params data type '"+a.data_type+"'.");p=4;const d=s.Utility.createTensorType(a.data_type,a.dims),c=t.read(4*n);return new s.Tensor(d,c)}static formatVersion(t){if(t&&t.version&&t.version.toNumber){const e=t.version.toNumber();if(e>0){const t=[Math.floor(e/1e6)%1e3,Math.floor(e/1e3)%1e3,e%1e3];return 0===t.slice(-1).pop()&&(t.pop(),0===t.slice(-1).pop()&&t.pop())," v"+t.map((t=>t.toString())).join(".")}}return""}},s.Weights=class{static open(t){const e=["zip","tar"].find((e=>t.entries(e).size>0));if(e){const r=new Map(Array.from(t.entries(e)).filter((t=>!t[0].endsWith("/")&&!t[0].split("/").pop().startsWith("."))).slice());if(r.size>2&&Array.from(r).every((t=>t[0].split("_").length>0&&t[1].peek(16).every((t=>0===t)))))return new s.Weights("entries",r)}const r=t.open("pkl");return r&&!Array.isArray(r)&&Object(r)===r?new s.Weights("pdparams",r):null}constructor(t,e){this._format=t,this._data=e}get format(){switch(this._format){case"entries":return"PaddlePaddle Weights";case"pdparams":return"PaddlePaddle Pickle"}return null}get model(){return this._initialize(),this._model}get weights(){return this._initialize(),this._weights}_initialize(){if(!this._weights){switch(this._format){case"entries":{let t=null;for(const e of this._data){const r=e[0];if(r.startsWith(".")&&!r.startsWith("./"))continue;const o=r.split("/"),s=o.length>2&&"."===o[0]?"./"+o[1]+"/":o.length>1?o[0]+"/":"";t=null===t?s:""!==t&&s!==t?"":s}this._weights=new Map;for(const e of this._data)if(e[0].startsWith(t)){const r=e[0].substring(t.length),o=e[1],i=s.Utility.openTensor(o);this._weights.set(r,i)}break}case"pdparams":{const t=null;this._weights=new Map;for(const e of Object.keys(this._data)){const r=this._data[e];if(r&&!Array.isArray(r)&&r.__class__&&"numpy"===r.__class__.__module__&&"ndarray"===r.__class__.__name__){const o=t?t[e]:e,i=new s.TensorType(r.dtype.name,new s.TensorShape(r.shape)),a=r.data,n=new s.Tensor(i,a,"NumPy Array");this._weights.set(o,n)}}break}}delete this._format}}},s.NaiveBuffer=class{static open(t){const e=t.stream;if(e.length>4){const r=e.peek(),o=new s.BinaryReader(r);if(("__model__.nb"===t.identifier||"param.nb"===t.identifier)&&(r[0]>2||0!==r[1]||118!==r[2]||50!==r[2]))return new s.NaiveBuffer(o,-1);const i=o.uint16();if(i<=2)return new s.NaiveBuffer(o,i)}return null}constructor(t,e){this.reader=t,this.meta_version=e}get format(){return this._read(),"Paddle Lite"+(this.opt_version?" "+this.opt_version:"")}get model(){return this._read(),this._model}get weights(){return this._read(),this._weights}_read(){if(this.reader){const t=this.reader;delete this.reader;const e=new TextDecoder,r=t.read(16);this.opt_version=e.decode(r.slice(0,r.indexOf(0)));const i=t.uint64(),a=t=>{const e=o.BinaryReader.open(t);return s.schema.ProgramDesc.create(e)},n=t=>{const e=o.BinaryReader.open(t);return s.schema.ParamDesc.create(e)};switch(this.meta_version){case-1:throw new s.Error("Paddle Lite naive buffer format is deprecated.");case 0:case 1:throw new s.Error("Paddle Lite meta format "+this.meta_version.toString()+" is deprecated.");case 2:{const e=new Uint8Array(i);e.set(t.read(i),0),this._model=a(e),t.uint16(),t.uint16();const r=t.uint16(),o=t.uint16();t.uint32(),t.skip(r-6),this._weights=new Map;for(let e=0;e<o;e++){const e=t.uint32()-t.uint32(),r=n(t.read(e)),o=r.variable.data,i=r.variable.data_type,a=r.variable.dim,p=s.Utility.createTensorType(i,a),d=new s.Tensor(p,o);this._weights.set(r.name,d)}break}default:throw new s.Error("Paddle Lite naive buffer meta format "+this.meta_version.toString()+" not supported.")}}}},s.BinaryReader=class{constructor(t){this._buffer=t instanceof Uint8Array?t:t.peek(),this._position=0,this._dataView=new DataView(this._buffer.buffer,this._buffer.byteOffset,this._buffer.byteLength)}skip(t){const e=this._position;if(this._position+=t,this._position>this._length)throw new Error("Expected "+(this._position-this._length)+" more bytes. The file might be corrupted. Unexpected end of file.");return e}read(t){const e=this._position;return this.skip(t),this._buffer.subarray(e,this._position)}uint16(){const t=this.skip(2);return this._dataView.getUint16(t,!0)}uint32(){const t=this.skip(4);return this._dataView.getUint32(t,!0)}uint64(){const t=this.skip(8);return this._dataView.getUint64(t,!0).toNumber()}},s.DataType={BOOL:0,INT16:1,INT32:2,INT64:3,FP16:4,FP32:5,FP64:6,LOD_TENSOR:7,SELECTED_ROWS:8,FEED_MINIBATCH:9,FETCH_LIST:10,STEP_SCOPES:11,LOD_RANK_TABLE:12,LOD_TENSOR_ARRAY:13,PLACE_LIST:14,READER:15,RAW:17,TUPLE:18,SIZE_T:19,UINT8:20,INT8:21,BF16:22,COMPLEX64:23,COMPLEX128:24},s.AttributeType={INT:0,FLOAT:1,STRING:2,INTS:3,FLOATS:4,STRINGS:5,BOOLEAN:6,BOOLEANS:7,BLOCK:8,LONG:9,BLOCKS:10,LONGS:11,FLOAT64S:12},s.JsAttributeType={int:{code:0,value:"i"},number:{code:1,value:"f"},string:{code:2,value:"s"},ints:{code:3,value:"ints"},floats:{code:4,value:"floats"},strings:{code:5,value:"strings"},boolean:{code:6,value:"b"},booleans:{code:7,value:"bools"}},s.Metadata=class{static open(t){return s.Metadata._metadata?Promise.resolve(s.Metadata._metadata):t.request("paddle-metadata.json","utf-8",null).then((t=>(s.Metadata._metadata=new s.Metadata(t),s.Metadata._metadata))).catch((()=>(s.Metadata._metadata=new s.Metadata(null),s.Metadata._metadata)))}constructor(t){if(this._map=new Map,this._attributeCache=new Map,t){const e=JSON.parse(t);this._map=new Map(e.map((t=>[t.name,t])))}}type(t){return this._map.get(t)||null}attribute(t,e){let r=this._attributeCache.get(t);if(!r){r=new Map;const e=this.type(t);if(e&&e.attributes&&e.attributes.length>0)for(const t of e.attributes)r.set(t.name,t);this._attributeCache.set(t,r)}return r.get(e)||null}},s.Error=class extends Error{constructor(t){super(t),this.name="Error loading PaddlePaddle model."}},"object"==typeof t.exports&&(t.exports.ModelFactory=s.ModelFactory)}(protobuf,flatbuffers)},66:(t,e,r)=>{var o=o||{},s=s||r(243),i=i||r(152);o.get=t=>(o._map=o._map||new Map,o._map.has(t)||o._map.set(t,{}),o._map.get(t)),o.BinaryReader=class{static open(t){return new o.BinaryReader(t)}constructor(t){const e=t instanceof Uint8Array?t:t.peek();this._buffer=e,this._length=e.length,this._position=0,this._view=new DataView(e.buffer,e.byteOffset,e.byteLength),this._utf8Decoder=new TextDecoder("utf-8")}signature(){const t=new Map;this._position=0;try{if(this._length>0){const e=7&this._buffer[0];if(4!==e&&6!==e&&7!==e){const e=this.length;for(;this._position<e;){const e=this.uint32(),r=e>>>3,o=7&e;if(o>5||0===r){t.clear();break}if(t.set(r,o),!this._skipType(o)){t.clear();break}}}}}catch(e){t.clear()}return this._position=0,t}decode(){let t={};this._position=0;try{const e=t=>{const r=this._uint32();if(void 0===r)return;const o=this.position+r;if(!(o>t)){try{const t={};for(;this.position<o;){const r=this._uint32();if(void 0===r)return this.seek(o),2;const s=r>>>3,i=7&r;if(i>5||0===s)return this.seek(o),2;if(2===i){const r=t[s];if(2!==r){const i=e(o);if(this.position>o)return this.seek(o),2;if(void 0===i)return this.seek(o),2;if(2===i)t[s]=i;else if(r)for(const t of Object.entries(i))2===r[t[0]]&&2!==t[1]||(r[t[0]]=t[1]);else t[s]=i;continue}}if(t[s]=i,!this._skipType(i))return this.seek(o),2}if(this.position===o)return t}catch(t){}return this.seek(o),2}};if(this._length>0){const r=7&this._buffer[0];if(4!==r&&6!==r&&7!==r){const r=this.length;for(;this.position<r;){const o=this.uint32(),s=o>>>3,i=7&o;if(i>5||0===s){t={};break}if(2===i){const o=t[s];if(2!==o){const i=e(r);if(void 0===i){t={};break}if(2===i)t[s]=i;else if(o)for(const t of Object.entries(i))2===o[t[0]]&&2!==t[1]||(o[t[0]]=t[1]);else t[s]=i;continue}}if(t[s]=i,!this._skipType(i)){t={};break}}}}}catch(e){t={}}return this._position=0,t}get length(){return this._length}get position(){return this._position}seek(t){this._position=t>=0?t:this._length+t}string(){return this._utf8Decoder.decode(this.bytes())}bool(){return 0!==this.uint32()}byte(){if(this._position<this._length)return this._buffer[this._position++];throw new RangeError("Unexpected end of file.")}bytes(){const t=this.uint32(),e=this._position;return this.skip(t),this._buffer.slice(e,this._position)}uint32(){let t;t=this.byte();let e=(127&t)>>>0;if(t<128)return e;if(t=this.byte(),e=(e|(127&t)<<7)>>>0,t<128)return e;if(t=this.byte(),e=(e|(127&t)<<14)>>>0,t<128)return e;if(t=this.byte(),e=(e|(127&t)<<21)>>>0,t<128)return e;if(t=this.byte(),e=(e|(15&t)<<28)>>>0,t<128)return e;if(255!==this.byte()||255!==this.byte()||255!==this.byte()||255!==this.byte()||1!==this.byte())throw new o.Error("Varint is not 32-bit.");return e}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)|0}int64(){return this._varint().toInt64()}uint64(){return this._varint().toInt64()}sint64(){return this._varint().zzDecode().toInt64()}fixed64(){const t=this._position;return this.skip(8),this._view.getUint64(t,!0)}sfixed64(){const t=this._position;return this.skip(8),this._view.getInt64(t,!0)}fixed32(){const t=this._position;return this.skip(4),this._view.getUint32(t,!0)}sfixed32(){const t=this._position;return this.skip(4),this._view.getInt32(t,!0)}float(){const t=this._position;return this.skip(4),this._view.getFloat32(t,!0)}double(){const t=this._position;return this.skip(8),this._view.getFloat64(t,!0)}array(t,e,r){if(2==(7&r)){const r=this.uint32()+this._position;for(;this._position<r;)t.push(e())}else t.push(e());return t}floats(t,e){if(2==(7&e)){if(t&&t.length>0)throw new o.Error("Invalid packed float array.");const e=this.uint32(),r=this._position+e;r>this._length&&this._unexpected();const s=e>>>2;t=e>1048576?new Float32Array(s):new Array(s);let i=this._position;for(let e=0;e<s;e++)t[e]=this._view.getFloat32(i,!0),i+=4;this._position=r}else void 0!==t&&t.length<1e6?t.push(this.float()):(t=void 0,this.float());return t}doubles(t,e){if(2==(7&e)){if(t&&t.length>0)throw new o.Error("Invalid packed float array.");const e=this.uint32(),r=this._position+e;r>this._length&&this._unexpected();const s=e>>>3;t=e>1048576?new Float64Array(s):new Array(s);let i=this._position;for(let e=0;e<s;e++)t[e]=this._view.getFloat64(i,!0),i+=8;this._position=r}else void 0!==t&&t.length<1e6?t.push(this.double()):(t=void 0,this.double());return t}skip(t){this._position+=t,this._position>this._length&&this._unexpected()}skipVarint(){do{this._position>=this._length&&this._unexpected()}while(128&this._buffer[this._position++])}_uint32(){let t;if(this._position<this._length){t=this._buffer[this._position++];let e=(127&t)>>>0;if(t<128)return e;if(this._position<this._length){if(t=this._buffer[this._position++],e=(e|(127&t)<<7)>>>0,t<128)return e;if(this._position<this._length){if(t=this._buffer[this._position++],e=(e|(127&t)<<14)>>>0,t<128)return e;if(this._position<this._length){if(t=this._buffer[this._position++],e=(e|(127&t)<<21)>>>0,t<128)return e;if(this._position<this._length){if(t=this._buffer[this._position++],e=(e|(15&t)<<28)>>>0,t<128)return e;if(255!==this.byte()||255!==this.byte()||255!==this.byte()||255!==this.byte()||1!==this.byte())return;return e}}}}}}_skipType(t){switch(t){case 0:do{if(this._position>=this._length)return!1}while(128&this._buffer[this._position++]);break;case 1:if(this._position+8>=this._length)return!1;this._position+=8;break;case 2:{const t=this._uint32();if(void 0===t)return!1;if(this._position+t>this._end)return!1;this._position+=t;break}case 3:for(;;){const t=this._uint32();if(void 0===t)return!1;const e=7&t;if(4===e)break;if(!this._skipType(e))return!1}break;case 5:if(this._position+4>=this._length)return!1;this._position+=4;break;default:return!1}return!0}skipType(t){switch(t){case 0:this.skipVarint();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw new o.Error("Invalid type "+t+" at offset "+this._position+".")}}entry(t,e,r){this.skipVarint(),this._position++;let o=e();Number.isInteger(o)||"string"==typeof o||(o=o.toNumber()),this._position++;const s=r();t[o]=s}_varint(){const t=new o.LongBits(0,0);let e=0;if(!(this._length-this._position>4)){for(;e<3;e++)if(this._position>=this._length&&this._unexpected(),t.lo=(t.lo|(127&this._buffer[this._position])<<7*e)>>>0,this._buffer[this._position++]<128)return t;return t.lo=(t.lo|(127&this._buffer[this._position++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this._buffer[this._position])<<7*e)>>>0,this._buffer[this._position++]<128)return t;if(t.lo=(t.lo|(127&this._buffer[this._position])<<28)>>>0,t.hi=(t.hi|(127&this._buffer[this._position])>>4)>>>0,this._buffer[this._position++]<128)return t;if(e=0,this._length-this._position>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this._buffer[this._position])<<7*e+3)>>>0,this._buffer[this._position++]<128)return t}else for(;e<5;++e)if(this._position>=this._length&&this._unexpected(),t.hi=(t.hi|(127&this._buffer[this._position])<<7*e+3)>>>0,this._buffer[this._position++]<128)return t;throw new o.Error("Invalid varint encoding.")}_unexpected(){throw new RangeError("Unexpected end of file.")}},o.TextReader=class{static open(t){const e=t instanceof Uint8Array?t:t.peek(),r=i.Decoder.open(e);let s=!0;for(let t=0;t<256;t++){const e=r.decode();if(void 0===e){if(0===t)return null;break}if("\0"===e)return null;const o=" "===e||"\n"===e||"\r"===e||"\t"===e;if(e<" "&&!o)return null;if(s&&!o){if(s=!1,"#"===e||"["===e)continue;if(e>="a"&&e<="z"||e>="A"&&e<="Z")continue;return null}}return new o.TextReader(e)}constructor(t){this._decoder=i.Decoder.open(t),this.reset()}signature(){const t=new Map;this.reset();try{for(this.start(!1);!this.end();){const e=this.tag();if("{"===this.token())for(this.start(),t.set(e,!0);!this.end();){const r=this.tag();t.set(e+"."+r,!0),this.skip(),this.match(",")}else this.skip(),t.set(e,!0)}}catch(t){}return this.reset(),t}reset(){this._decoder.position=0,this._position=0,this._token=void 0,this._depth=0,this._arrayDepth=0,this._token="",this.next()}start(){this._depth>0&&this.expect("{"),this._depth++}end(){if(this._depth<=0)throw new o.Error("Invalid depth "+this.location());if("}"===this._token)return this.expect("}"),this.match(";"),this._depth--,!0;if(void 0===this._token){if(1!==this._depth)throw new o.Error("Unexpected end of input"+this.location());return this._depth--,!0}return!1}tag(){const t=this._token;return this.next(),"["!==this._token&&"{"!==this._token&&this.expect(":"),t}integer(){const t=this._token,e=Number.parseInt(t,10);if(Number.isNaN(t-e))throw new o.Error("Couldn't parse integer '"+t+"'"+this.location());return this.next(),this.semicolon(),e}double(){let t=this._token;if(t.startsWith("nan"))return NaN;if(t.startsWith("inf"))return 1/0;if(t.startsWith("-inf"))return-1/0;t.endsWith("f")&&(t=t.substring(0,t.length-1));const e=Number.parseFloat(t);if(Number.isNaN(t-e))throw new o.Error("Couldn't parse float '"+t+"'"+this.location());return this.next(),this.semicolon(),e}float(){return this.double()}uint32(){return this.integer()}int32(){return this.integer()}sint32(){return this.integer()}int64(){return s.Int64.create(this.integer())}uint64(){return s.Uint64.create(this.integer())}sint64(){return s.Int64.create(this.integer())}fixed64(){return s.Uint64.create(this.integer())}sfixed64(){return s.Int64.create(this.integer())}fixed32(){return this.integer()}sfixed32(){return this.integer()}string(){const t=this._token;if(t.length<2)throw new o.Error("String is too short"+this.location());const e=t[0];if("'"!==e&&'"'!==e)throw new o.Error("String is not in quotes"+this.location());if(e!==t[t.length-1])throw new o.Error("String quotes do not match"+this.location());const r=t.substring(1,t.length-1);return this.next(),this.semicolon(),r}bool(){const t=this._token;switch(t){case"true":case"True":case"1":return this.next(),this.semicolon(),!0;case"false":case"False":case"0":return this.next(),this.semicolon(),!1}throw new o.Error("Couldn't parse boolean '"+t+"'"+this.location())}bytes(){const t=this.string(),e=t.length,r=new Uint8Array(e);for(let o=0;o<e;o++)r[o]=t.charCodeAt(o);return r}enum(t){const e=this._token;let r;if(Object.prototype.hasOwnProperty.call(t,e))r=t[e];else if(r=Number.parseInt(e,10),Number.isNaN(e-r))throw new o.Error("Couldn't parse enum '"+(void 0===e?"":e)+"'"+this.location());return this.next(),this.semicolon(),r}any(t){this.start();const e=t();if(this._token.startsWith("[")&&this._token.endsWith("]"))e.type_url=this._token.substring(1,this._token.length-1).trim(),this.next(),this.match(":"),e.value=this.read(),this.match(";"),this.end()||this.expect("}");else for(;!this.end();){const t=this.tag();switch(t){case"type_url":e.type_url=this.string();break;case"value":e.value=this.bytes();break;default:this.field(t,e)}}return e}anyarray(t,e){if(this.start(),this._token.startsWith("[")&&this._token.endsWith("]"))for(;!this.end();)if(this._token.startsWith("[")&&this._token.endsWith("]")){const r=e();r.type_url=this._token.substring(1,this._token.length-1).trim(),this.next(),this.match(":"),r.value=this.read(),this.match(";"),t.push(r)}else this.expect("[");else{const r=e();for(;!this.end();){const t=this.tag();switch(t){case"type_url":r.type_url=this.string();break;case"value":r.value=this.bytes();break;default:this.field(t,r)}}t.push(r)}}entry(t,e,r){let o,s;for(this.start();!this.end();)switch(this.tag()){case"key":o=e();break;case"value":s=r()}t[o]=s}array(t,e){if(this.first())for(;!this.last();)switch(t.push(e()),this._token){case",":this.next();break;case"]":break;default:this.handle(this._token)}else t.push(e())}first(){return!!this.match("[")&&(this._arrayDepth++,!0)}last(){return!!this.match("]")&&(this._arrayDepth--,!0)}read(){const t=this._position;this.skip();const e=this._position,r=this._decoder.position;this._decoder.position=t;let o="";for(;this._decoder.position<e;)o+=this._decoder.decode();return this._decoder.position=r,o}skip(){switch(this._token){case"{":{const t=this._depth;for(this.start();!this.end()||t<this._depth;)"{"===this._token?this.start():"}"!==this._token&&(this.next(),this.match(";"));break}case"[":{const t=this._arrayDepth;for(this.first();!this.last()||t<this._arrayDepth;)this.next(),"["===this._token?this.first():void 0===this._token&&this.handle(this._token);break}default:this.next(),this.semicolon()}}handle(t){throw new o.Error("Unexpected token '"+t+"'"+this.location())}field(t){throw new o.Error("Unknown field '"+t+"'"+this.location())}token(){return this._token}next(){if(void 0===this._token)throw new o.Error("Unexpected end of input"+this.location());this._position=this._decoder.position;let t=this._decoder.decode();for(;;){switch(t){case" ":case"\n":case"\r":case"\t":this._position=this._decoder.position,t=this._decoder.decode();continue;case"#":do{if(t=this._decoder.decode(),void 0===t)return void(this._token=void 0)}while("\n"!==t);this._position=this._decoder.position,t=this._decoder.decode();continue}break}if(void 0!==t){if(t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t||"$"===t){let e=t,r=this._decoder.position;for(;t=this._decoder.decode(),void 0!==t&&"\n"!==t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t||"+"===t||"-"===t);)e+=t,r=this._decoder.position;return this._decoder.position=r,void(this._token=e)}switch(t){case"{":case"}":case":":case",":case"]":case";":return void(this._token=t);case"[":{let e=t,r=this._decoder.position,o=this._decoder.decode();if(void 0!==o&&o>="a"&&o<="z"||o>="A"&&o<="Z")for(e+=o;o=this._decoder.decode(),void 0!==o&&"\n"!==o;)if(o>="a"&&o<="z"||o>="A"&&o<="Z"||o>="0"&&o<="9"||"."===o||"/"===o)e+=o,r=this._decoder.position;else if("]"===o)return void(this._token=e+o);return this._decoder.position=r,void(this._token="[")}case'"':case"'":{const e=t;let r=t;for(;;){if(t=this._decoder.decode(),void 0===t||"\n"===t)throw new o.Error("Unexpected end of string"+this.location());if("\\"!=t){if(r+=t,t===e)break}else{if(t=this._decoder.decode(),void 0===t||"\n"===t)throw new o.Error("Unexpected end of string"+this.location());switch(t){case"\\":t="\\";break;case"'":t="'";break;case'"':t='"';break;case"r":t="\r";break;case"n":t="\n";break;case"t":t="\t";break;case"b":t="\b";break;case"x":case"X":{let e=0;for(let t=0;t<2;t++){let t=this._decoder.decode();if(void 0===t)throw new o.Error("Unexpected end of string"+this.location());if(t=t.charCodeAt(0),t=t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:t>=48&&t<=57?t-48:-1,-1===t)throw new o.Error("Unexpected hex digit '"+t+"' in bytes string"+this.location());e=e<<4|t}t=String.fromCharCode(e);break}default:{if(t<"0"||t>"9")throw new o.Error("Unexpected character '"+t+"' in string"+this.location());let e=0,r=t;if(r<"0"||r>"9")throw new o.Error("Unexpected octal digit '"+r+"' in bytes string"+this.location());if(r=r.charCodeAt(0),e=e<<3|r-48,r=this._decoder.decode(),void 0===r)throw new o.Error("Unexpected end of string"+this.location());if(r<"0"||r>"9")throw new o.Error("Unexpected octal digit '"+r+"' in bytes string"+this.location());if(r=r.charCodeAt(0),e=e<<3|r-48,r=this._decoder.decode(),void 0===r)throw new o.Error("Unexpected end of string"+this.location());if(r<"0"||r>"9")throw new o.Error("Unexpected octal digit '"+r+"' in bytes string"+this.location());r=r.charCodeAt(0),e=e<<3|r-48,t=String.fromCharCode(e);break}}r+=t}}return void(this._token=r)}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":case"+":case".":{let e=t,r=this._decoder.position;for(;t=this._decoder.decode(),void 0!==t&&"\n"!==t&&(t>="0"&&t<="9"||"_"===t||"+"===t||"-"===t||"."===t||"e"===t||"E"===t);)e+=t,r=this._decoder.position;return this._decoder.position=r,void(this._token=e)}}throw new o.Error("Unexpected token '"+t+"'"+this.location())}this._token=void 0}expect(t){if(this._token!==t)throw new o.Error("Unexpected '"+this._token+"' instead of '"+t+"'"+this.location());this.next()}match(t){return t==this._token&&(this.next(),!0)}location(){let t,e=1,r=1;this._decoder.position=0;do{if(this._decoder.position===this._position)return" at "+e.toString()+":"+r.toString()+".";t=this._decoder.decode(),"\n"===t?(e++,r=1):r++}while(void 0!==t);return" at "+e.toString()+":"+r.toString()+"."}semicolon(){0===this._arrayDepth&&this.match(";")}},o.Int64=s.Int64,o.Uint64=s.Uint64,o.LongBits=class{constructor(t,e){this.lo=t>>>0,this.hi=e>>>0}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}toUint64(){return new s.Uint64(this.lo,this.hi)}toInt64(){return new s.Int64(this.lo,this.hi)}},o.Error=class extends Error{constructor(t){super(t),this.name="Protocol Buffer Error",this.message=t}},"object"==typeof t.exports&&(t.exports.BinaryReader=o.BinaryReader,t.exports.TextReader=o.TextReader,t.exports.Error=o.Error,t.exports.Int64=o.Int64,t.exports.Uint64=o.Uint64,t.exports.get=o.get)},152:t=>{var e=e||{};e.Decoder=class{static open(t,r){if("string"==typeof t)return new e.Decoder.String(t);const o=(t,r)=>{if(t&&t!==r)throw new e.Error("Invalid encoding '"+t+"'.")},s=t instanceof Uint8Array?t:t.peek(),i=s.length;if(i>=3&&239===s[0]&&187===s[1]&&191===s[2])return o(r,"utf-8"),new e.Decoder.Utf8(s,3,!0);if(i>=2&&255===s[0]&&254===s[1])return o(r,"utf-16"),new e.Decoder.Utf16LE(s,2);if(i>=2&&254===s[0]&&255===s[1])return o(r,"utf-16"),new e.Decoder.Utf16BE(s,2);if(i>=4&&0===s[0]&&0===s[1]&&254===s[2]&&255===s[3])throw new e.Error("Unsupported UTF-32 big-endian encoding.");if(i>=4&&255===s[0]&&254===s[1]&&0===s[2]&&0===s[3])throw new e.Error("Unsupported UTF-32 little-endian encoding.");if(i>=5&&43===s[0]&&47===s[1]&&118===s[2]&&56===s[3]&&45===s[4])throw new e.Error("Unsupported UTF-7 encoding.");if(i>=4&&43===s[0]&&47===s[1]&&118===s[2]&&(56===s[3]||57===s[3]||43===s[3]||47===s[3]))throw new e.Error("Unsupported UTF-7 encoding.");if(i>=4&&132===s[0]&&49===s[1]&&149===s[2]&&51===s[3])throw new e.Error("Unsupported GB-18030 encoding.");if(i>4&&i%2==0&&(0===s[0]||0===s[1]||0===s[2]||0===s[3])){const t=new Uint32Array(256),a=new Uint32Array(256);for(let e=0;e<i;e+=2)t[s[e]]++,a[s[e+1]]++;if(0===t[0]&&a[0]/(i>>1)>.5)return o(r,"utf-16"),new e.Decoder.Utf16LE(s,0);if(0===a[0]&&t[0]/(i>>1)>.5)return o(r,"utf-16"),new e.Decoder.Utf16BE(s,0)}return r&&(r.startsWith("iso-8859-")||r.startsWith("latin-"))?new e.Decoder.Latin1(s,0):(o(r,"utf-8"),new e.Decoder.Utf8(s,0,"utf-8"===r))}},e.Decoder.String=class{constructor(t){this.buffer=t?t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g):[],this.position=0,this.length=this.buffer.length}get encoding(){return null}get encoding(){return null}decode(){if(this.position<this.length)return this.buffer[this.position++]}},e.Decoder.Utf8=class{constructor(t,e,r){this.position=e||0,this.buffer=t,this.fatal=r}get encoding(){return"utf-8"}decode(){const t=this.buffer[this.position];if(void 0===t)return t;if(this.position++,t<128)return String.fromCodePoint(t);if(t>=194&&t<=223&&void 0!==this.buffer[this.position]){const e=this.buffer[this.position];return this.position++,String.fromCharCode((31&t)<<6|63&e)}if(t>=224&&t<=239&&void 0!==this.buffer[this.position+1]){const e=this.buffer[this.position];if((224!==t||e>=160)&&(237!==t||e<=159)){const r=this.buffer[this.position+1];if(r>=128&&r<251)return this.position+=2,String.fromCharCode((15&t)<<12|(63&e)<<6|(63&r)<<0)}}if(t>=240&&t<=244&&void 0!==this.buffer[this.position+2]){const e=this.buffer[this.position];if(e>=128&&e<=191){const r=this.buffer[this.position+1];if(r>=128&&r<=191){const o=this.buffer[this.position+2];if(o>=128&&o<=191)return this.position+=3,String.fromCodePoint((7&t)<<18|(63&e)<<12|(63&r)<<6|63&o)}}}if(this.fatal)throw new e.Error("Invalid utf-8 character.");return String.fromCharCode(65533)}},e.Decoder.Latin1=class{constructor(t,e){this.position=e||0,this.buffer=t}get encoding(){return"latin-1"}decode(){const t=this.buffer[this.position];return void 0===t?t:(this.position++,String.fromCodePoint(t))}},e.Decoder.Utf16LE=class{constructor(t,e){this.buffer=t,this.position=e||0,this.length=t.length}get encoding(){return"utf-16"}decode(){if(this.position+1<this.length){const t=this.buffer[this.position++]|this.buffer[this.position++]<<8;if(t<55296||t>=57343)return String.fromCharCode(t);if(t>=55296&&t<56319&&this._position+1<this._length){const e=this._buffer[this._position++]|this._buffer[this._position++]<<8;if(t>=56320||t<57343)return String.fromCodePoint(65536+((1023&t)<<10)+(1023&e))}return String.fromCharCode(65533)}}},e.Decoder.Utf16BE=class{constructor(t,e){this.buffer=t,this.position=e||0,this.length=t.length}get encoding(){return"utf-16"}decode(){if(this.position+1<this.length){const t=this.buffer[this.position++]<<8|this.buffer[this.position++];if(t<55296||t>=57343)return String.fromCharCode(t);if(t>=55296&&t<56319&&this._position+1<this._length){const e=this._buffer[this._position++]<<8|this._buffer[this._position++];if(t>=56320||t<57343)return String.fromCodePoint(65536+((1023&t)<<10)+(1023&e))}return String.fromCharCode(65533)}}},e.Reader=class{constructor(t,r){this._decoder=e.Decoder.open(t),this._position=0,this._length=r||Number.MAX_SAFE_INTEGER}static open(t,r){return new e.Reader(t,r)}read(){if(this._position>=this._length)return;let t="",e=null;for(;;){const r=this._decoder.decode();if(void 0===r){this._length=this._position;break}if(this._position++,this._position>this._length)break;if("\n"===r)break;t+=r,t.length>=32&&(e=e||[],e.push(t),t="")}return e?(e.push(t),e.join("")):t}},e.Error=class extends Error{constructor(t){super(t),this.name="Text Error"}},"object"==typeof t.exports&&(t.exports.Decoder=e.Decoder,t.exports.Reader=e.Reader)}},e={};function r(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,r),i.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(238)})()}));
},{}],4:[function(require,module,exports){
// require('@paddlejs/netron');

require('@paddlejs/netron/lib/index.js');
var mf = require('@paddlejs/netron/lib/modelFactory.js');

var renderer = (function () {
    "use strict";

    var d = document;

    function render_model(rawPayload, target) {
        // wipe all inner elements of our target
        while (target.firstChild) {
            target.removeChild(target.firstChild);
        }

        var t = d.createElement('div');
        t.innerText = rawPayload.length;
        t.setAttribute('id', 'model-container');
        target.appendChild(t);

        console.log(mf.modelFactory);


        // TODO: Code to render model from raw payload
    }

    return {
        render: render_model,
    };

})();

module.exports = renderer;
},{"@paddlejs/netron/lib/index.js":2,"@paddlejs/netron/lib/modelFactory.js":3}],5:[function(require,module,exports){
var rm = require('../scripts/renderer.js');

window.onload = function () {
    console.log("Page loaded");

    document.getElementById("file-selector").addEventListener("change", function () {
        var fr = new FileReader();
        fr.onload = function () {
            var renderUX = document.getElementById("model-display");
            rm.render(fr.result, renderUX);
        }

        fr.readAsText(this.files[0]);
    });
}

},{"../scripts/renderer.js":4}]},{},[5]);
